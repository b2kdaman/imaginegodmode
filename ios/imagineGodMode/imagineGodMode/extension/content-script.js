import{A as Pn,b as we,p as Of,M as tc,V as zs,r as rs,T as pt,Z as wn,S as Pt,g as Mn,U as ft,a as gl}from"./helpers-CklC853c.js";function Qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _u={exports:{}},$s={},Ou={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cr=Symbol.for("react.element"),jf=Symbol.for("react.portal"),Lf=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),zf=Symbol.for("react.context"),$f=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Ff=Symbol.for("react.memo"),Gf=Symbol.for("react.lazy"),nc=Symbol.iterator;function Yf(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lu=Object.assign,Uu={};function uo(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||ju}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vu(){}Vu.prototype=uo.prototype;function qa(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||ju}var Za=qa.prototype=new Vu;Za.constructor=qa;Lu(Za,uo.prototype);Za.isPureReactComponent=!0;var oc=Array.isArray,Hu=Object.prototype.hasOwnProperty,ei={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function $u(e,t,n){var o,r={},s=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Hu.call(t,o)&&!zu.hasOwnProperty(o)&&(r[o]=t[o]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(o in i=e.defaultProps,i)r[o]===void 0&&(r[o]=i[o]);return{$$typeof:cr,type:e,key:s,ref:l,props:r,_owner:ei.current}}function Kf(e,t){return{$$typeof:cr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===cr}function Xf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rc=/\/+/g;function hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xf(""+e.key):t.toString(36)}function Fr(e,t,n,o,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case cr:case jf:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+hl(l,0):o,oc(r)?(n="",e!=null&&(n=e.replace(rc,"$&/")+"/"),Fr(r,t,n,"",function(u){return u})):r!=null&&(ti(r)&&(r=Kf(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(rc,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=o===""?".":o+":",oc(e))for(var i=0;i<e.length;i++){s=e[i];var c=o+hl(s,i);l+=Fr(s,t,n,c,r)}else if(c=Yf(e),typeof c=="function")for(e=c.call(e),i=0;!(s=e.next()).done;)s=s.value,c=o+hl(s,i++),l+=Fr(s,t,n,c,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Pr(e,t,n){if(e==null)return e;var o=[],r=0;return Fr(e,o,"","",function(s){return t.call(n,s,r++)}),o}function Wf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Gr={transition:null},Jf={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Gr,ReactCurrentOwner:ei};function Bu(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Pr,forEach:function(e,t,n){Pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pr(e,function(){t++}),t},toArray:function(e){return Pr(e,function(t){return t})||[]},only:function(e){if(!ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=uo;te.Fragment=Lf;te.Profiler=Vf;te.PureComponent=qa;te.StrictMode=Uf;te.Suspense=Bf;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf;te.act=Bu;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Lu({},e.props),r=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=ei.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Hu.call(t,c)&&!zu.hasOwnProperty(c)&&(o[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];o.children=i}return{$$typeof:cr,type:e.type,key:r,ref:s,props:o,_owner:l}};te.createContext=function(e){return e={$$typeof:zf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hf,_context:e},e.Consumer=e};te.createElement=$u;te.createFactory=function(e){var t=$u.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:$f,render:e}};te.isValidElement=ti;te.lazy=function(e){return{$$typeof:Gf,_payload:{_status:-1,_result:e},_init:Wf}};te.memo=function(e,t){return{$$typeof:Ff,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Gr.transition;Gr.transition={};try{e()}finally{Gr.transition=t}};te.unstable_act=Bu;te.useCallback=function(e,t){return Ve.current.useCallback(e,t)};te.useContext=function(e){return Ve.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};te.useEffect=function(e,t){return Ve.current.useEffect(e,t)};te.useId=function(){return Ve.current.useId()};te.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Ve.current.useMemo(e,t)};te.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};te.useRef=function(e){return Ve.current.useRef(e)};te.useState=function(e){return Ve.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return Ve.current.useTransition()};te.version="18.3.1";Ou.exports=te;var w=Ou.exports;const be=Qa(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=w,qf=Symbol.for("react.element"),Zf=Symbol.for("react.fragment"),em=Object.prototype.hasOwnProperty,tm=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nm={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var o,r={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)em.call(t,o)&&!nm.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:qf,type:e,key:s,ref:l,props:r,_owner:tm.current}}$s.Fragment=Zf;$s.jsx=Fu;$s.jsxs=Fu;_u.exports=$s;var a=_u.exports,ql={},Gu={exports:{}},Qe={},Yu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var N=O.length;O.push(R);e:for(;0<N;){var H=N-1>>>1,D=O[H];if(0<r(D,R))O[H]=R,O[N]=D,N=H;else break e}}function n(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var R=O[0],N=O.pop();if(N!==R){O[0]=N;e:for(var H=0,D=O.length,M=D>>>1;H<M;){var _=2*(H+1)-1,L=O[_],F=_+1,q=O[F];if(0>r(L,N))F<D&&0>r(q,L)?(O[H]=q,O[F]=N,H=F):(O[H]=L,O[_]=N,H=_);else if(F<D&&0>r(q,N))O[H]=q,O[F]=N,H=F;else break e}}return R}function r(O,R){var N=O.sortIndex-R.sortIndex;return N!==0?N:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],u=[],p=1,f=null,g=3,x=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(O){for(var R=n(u);R!==null;){if(R.callback===null)o(u);else if(R.startTime<=O)o(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function C(O){if(v=!1,h(O),!y)if(n(c)!==null)y=!0,b(P);else{var R=n(u);R!==null&&J(C,R.startTime-O)}}function P(O,R){y=!1,v&&(v=!1,m(E),E=-1),x=!0;var N=g;try{for(h(R),f=n(c);f!==null&&(!(f.expirationTime>R)||O&&!j());){var H=f.callback;if(typeof H=="function"){f.callback=null,g=f.priorityLevel;var D=H(f.expirationTime<=R);R=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(c)&&o(c),h(R)}else o(c);f=n(c)}if(f!==null)var M=!0;else{var _=n(u);_!==null&&J(C,_.startTime-R),M=!1}return M}finally{f=null,g=N,x=!1}}var T=!1,k=null,E=-1,I=5,A=-1;function j(){return!(e.unstable_now()-A<I)}function X(){if(k!==null){var O=e.unstable_now();A=O;var R=!0;try{R=k(!0,O)}finally{R?G():(T=!1,k=null)}}else T=!1}var G;if(typeof d=="function")G=function(){d(X)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,$=Y.port2;Y.port1.onmessage=X,G=function(){$.postMessage(null)}}else G=function(){S(X,0)};function b(O){k=O,T||(T=!0,G())}function J(O,R){E=S(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,b(P))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var N=g;g=R;try{return O()}finally{g=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=g;g=O;try{return R()}finally{g=N}},e.unstable_scheduleCallback=function(O,R,N){var H=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?H+N:H):N=H,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=N+D,O={id:p++,callback:R,priorityLevel:O,startTime:N,expirationTime:D,sortIndex:-1},N>H?(O.sortIndex=N,t(u,O),n(c)===null&&O===n(u)&&(v?(m(E),E=-1):v=!0,J(C,N-H))):(O.sortIndex=D,t(c,O),y||x||(y=!0,b(P))),O},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(O){var R=g;return function(){var N=g;g=R;try{return O.apply(this,arguments)}finally{g=N}}}})(Ku);Yu.exports=Ku;var om=Yu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=w,Je=om;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xu=new Set,zo={};function Dn(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for(zo[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=Object.prototype.hasOwnProperty,sm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sc={},lc={};function lm(e){return Zl.call(lc,e)?!0:Zl.call(sc,e)?!1:sm.test(e)?lc[e]=!0:(sc[e]=!0,!1)}function am(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function im(e,t,n,o){if(t===null||typeof t>"u"||am(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,o,r,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var ni=/[\-:]([a-z])/g;function oi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ni,oi);Me[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ni,oi);Me[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ni,oi);Me[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function ri(e,t,n,o){var r=Me.hasOwnProperty(t)?Me[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(im(t,n,r,o)&&(n=null),o||r===null?lm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Vt=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wr=Symbol.for("react.element"),jn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),si=Symbol.for("react.strict_mode"),ea=Symbol.for("react.profiler"),Wu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),li=Symbol.for("react.forward_ref"),ta=Symbol.for("react.suspense"),na=Symbol.for("react.suspense_list"),ai=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),Qu=Symbol.for("react.offscreen"),ac=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=ac&&e[ac]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,vl;function To(e){if(vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vl=t&&t[1]||""}return`
`+vl+e}var xl=!1;function yl(e,t){if(!e||xl)return"";xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var o=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){o=u}e.call(t.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=o.stack.split(`
`),l=r.length-1,i=s.length-1;1<=l&&0<=i&&r[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(r[l]!==s[i]){if(l!==1||i!==1)do if(l--,i--,0>i||r[l]!==s[i]){var c=`
`+r[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?To(e):""}function cm(e){switch(e.tag){case 5:return To(e.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case jn:return"Portal";case ea:return"Profiler";case si:return"StrictMode";case ta:return"Suspense";case na:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ju:return(e.displayName||"Context")+".Consumer";case Wu:return(e._context.displayName||"Context")+".Provider";case li:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ai:return t=e.displayName||null,t!==null?t:oa(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return oa(e(t))}catch{}}return null}function um(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oa(t);case 8:return t===si?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dm(e){var t=qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){e._valueTracker||(e._valueTracker=dm(e))}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=qu(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ra(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ic(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ed(e,t){t=t.checked,t!=null&&ri(e,"checked",t,!1)}function sa(e,t){ed(e,t);var n=ln(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?la(e,t.type,n):t.hasOwnProperty("defaultValue")&&la(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function la(e,t,n){(t!=="number"||ss(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ao=Array.isArray;function Jn(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Ao(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ln(n)}}function td(e,t){var n=ln(t.value),o=ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cr,od=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $o(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pm=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(e){pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mo[t]=Mo[e]})});function rd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mo.hasOwnProperty(e)&&Mo[e]?(""+t).trim():t+"px"}function sd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=rd(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var fm=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(e,t){if(t){if(fm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function ua(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=null;function ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,Qn=null,qn=null;function pc(e){if(e=pr(e)){if(typeof pa!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Ks(t),pa(e.stateNode,e.type,t))}}function ld(e){Qn?qn?qn.push(e):qn=[e]:Qn=e}function ad(){if(Qn){var e=Qn,t=qn;if(qn=Qn=null,pc(e),t)for(e=0;e<t.length;e++)pc(t[e])}}function id(e,t){return e(t)}function cd(){}var kl=!1;function ud(e,t,n){if(kl)return e(t,n);kl=!0;try{return id(e,t,n)}finally{kl=!1,(Qn!==null||qn!==null)&&(cd(),ad())}}function Bo(e,t){var n=e.stateNode;if(n===null)return null;var o=Ks(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var fa=!1;if(Ot)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){fa=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{fa=!1}function mm(e,t,n,o,r,s,l,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var Do=!1,ls=null,as=!1,ma=null,gm={onError:function(e){Do=!0,ls=e}};function hm(e,t,n,o,r,s,l,i,c){Do=!1,ls=null,mm.apply(gm,arguments)}function vm(e,t,n,o,r,s,l,i,c){if(hm.apply(this,arguments),Do){if(Do){var u=ls;Do=!1,ls=null}else throw Error(V(198));as||(as=!0,ma=u)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fc(e){if(In(e)!==e)throw Error(V(188))}function xm(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return fc(r),e;if(s===o)return fc(r),t;s=s.sibling}throw Error(V(188))}if(n.return!==o.return)n=r,o=s;else{for(var l=!1,i=r.child;i;){if(i===n){l=!0,n=r,o=s;break}if(i===o){l=!0,o=r,n=s;break}i=i.sibling}if(!l){for(i=s.child;i;){if(i===n){l=!0,n=s,o=r;break}if(i===o){l=!0,o=s,n=r;break}i=i.sibling}if(!l)throw Error(V(189))}}if(n.alternate!==o)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function pd(e){return e=xm(e),e!==null?fd(e):null}function fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fd(e);if(t!==null)return t;e=e.sibling}return null}var md=Je.unstable_scheduleCallback,mc=Je.unstable_cancelCallback,ym=Je.unstable_shouldYield,km=Je.unstable_requestPaint,ve=Je.unstable_now,Sm=Je.unstable_getCurrentPriorityLevel,ci=Je.unstable_ImmediatePriority,gd=Je.unstable_UserBlockingPriority,is=Je.unstable_NormalPriority,Pm=Je.unstable_LowPriority,hd=Je.unstable_IdlePriority,Bs=null,Ct=null;function wm(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Bs,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Tm,Em=Math.log,Cm=Math.LN2;function Tm(e){return e>>>=0,e===0?32:31-(Em(e)/Cm|0)|0}var Tr=64,Ar=4194304;function Ro(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~r;i!==0?o=Ro(i):(s&=l,s!==0&&(o=Ro(s)))}else l=n&~r,l!==0?o=Ro(l):s!==0&&(o=Ro(s));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-mt(t),r=1<<n,o|=e[n],t&=~r;return o}function Am(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-mt(s),i=1<<l,c=r[l];c===-1?(!(i&n)||i&o)&&(r[l]=Am(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}}function ga(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vd(){var e=Tr;return Tr<<=1,!(Tr&4194240)&&(Tr=64),e}function Sl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ur(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Nm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-mt(n),s=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~s}}function ui(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-mt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var se=0;function xd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yd,di,kd,Sd,Pd,ha=!1,Rr=[],Qt=null,qt=null,Zt=null,Fo=new Map,Go=new Map,Kt=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gc(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(t.pointerId)}}function yo(e,t,n,o,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:s,targetContainers:[r]},t!==null&&(t=pr(t),t!==null&&di(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Dm(e,t,n,o,r){switch(t){case"focusin":return Qt=yo(Qt,e,t,n,o,r),!0;case"dragenter":return qt=yo(qt,e,t,n,o,r),!0;case"mouseover":return Zt=yo(Zt,e,t,n,o,r),!0;case"pointerover":var s=r.pointerId;return Fo.set(s,yo(Fo.get(s)||null,e,t,n,o,r)),!0;case"gotpointercapture":return s=r.pointerId,Go.set(s,yo(Go.get(s)||null,e,t,n,o,r)),!0}return!1}function wd(e){var t=vn(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=dd(n),t!==null){e.blockedOn=t,Pd(e.priority,function(){kd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);da=o,n.target.dispatchEvent(o),da=null}else return t=pr(n),t!==null&&di(t),e.blockedOn=n,!1;t.shift()}return!0}function hc(e,t,n){Yr(e)&&n.delete(t)}function Im(){ha=!1,Qt!==null&&Yr(Qt)&&(Qt=null),qt!==null&&Yr(qt)&&(qt=null),Zt!==null&&Yr(Zt)&&(Zt=null),Fo.forEach(hc),Go.forEach(hc)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Im)))}function Yo(e){function t(r){return ko(r,e)}if(0<Rr.length){ko(Rr[0],e);for(var n=1;n<Rr.length;n++){var o=Rr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Qt!==null&&ko(Qt,e),qt!==null&&ko(qt,e),Zt!==null&&ko(Zt,e),Fo.forEach(t),Go.forEach(t),n=0;n<Kt.length;n++)o=Kt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Kt.length&&(n=Kt[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&Kt.shift()}var Zn=Vt.ReactCurrentBatchConfig,us=!0;function bm(e,t,n,o){var r=se,s=Zn.transition;Zn.transition=null;try{se=1,pi(e,t,n,o)}finally{se=r,Zn.transition=s}}function _m(e,t,n,o){var r=se,s=Zn.transition;Zn.transition=null;try{se=4,pi(e,t,n,o)}finally{se=r,Zn.transition=s}}function pi(e,t,n,o){if(us){var r=va(e,t,n,o);if(r===null)Dl(e,t,o,ds,n),gc(e,o);else if(Dm(r,e,t,n,o))o.stopPropagation();else if(gc(e,o),t&4&&-1<Mm.indexOf(e)){for(;r!==null;){var s=pr(r);if(s!==null&&yd(s),s=va(e,t,n,o),s===null&&Dl(e,t,o,ds,n),s===r)break;r=s}r!==null&&o.stopPropagation()}else Dl(e,t,o,null,n)}}var ds=null;function va(e,t,n,o){if(ds=null,e=ii(o),e=vn(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ds=e,null}function Ed(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sm()){case ci:return 1;case gd:return 4;case is:case Pm:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Wt=null,fi=null,Kr=null;function Cd(){if(Kr)return Kr;var e,t=fi,n=t.length,o,r="value"in Wt?Wt.value:Wt.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===r[s-o];o++);return Kr=r.slice(e,1<o?1-o:void 0)}function Xr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function vc(){return!1}function qe(e){function t(n,o,r,s,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nr:vc,this.isPropagationStopped=vc,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=qe(po),dr=ge({},po,{view:0,detail:0}),Om=qe(dr),Pl,wl,So,Fs=ge({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(Pl=e.screenX-So.screenX,wl=e.screenY-So.screenY):wl=Pl=0,So=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:wl}}),xc=qe(Fs),jm=ge({},Fs,{dataTransfer:0}),Lm=qe(jm),Um=ge({},dr,{relatedTarget:0}),El=qe(Um),Vm=ge({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=qe(Vm),zm=ge({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$m=qe(zm),Bm=ge({},po,{data:0}),yc=qe(Bm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ym[e])?!!t[e]:!1}function gi(){return Km}var Xm=ge({},dr,{key:function(e){if(e.key){var t=Fm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(e){return e.type==="keypress"?Xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wm=qe(Xm),Jm=ge({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=qe(Jm),Qm=ge({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),qm=qe(Qm),Zm=ge({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),eg=qe(Zm),tg=ge({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ng=qe(tg),og=[9,13,27,32],hi=Ot&&"CompositionEvent"in window,Io=null;Ot&&"documentMode"in document&&(Io=document.documentMode);var rg=Ot&&"TextEvent"in window&&!Io,Td=Ot&&(!hi||Io&&8<Io&&11>=Io),Sc=" ",Pc=!1;function Ad(e,t){switch(e){case"keyup":return og.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function sg(e,t){switch(e){case"compositionend":return Rd(t);case"keypress":return t.which!==32?null:(Pc=!0,Sc);case"textInput":return e=t.data,e===Sc&&Pc?null:e;default:return null}}function lg(e,t){if(Un)return e==="compositionend"||!hi&&Ad(e,t)?(e=Cd(),Kr=fi=Wt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Td&&t.locale!=="ko"?null:t.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ag[e.type]:t==="textarea"}function Nd(e,t,n,o){ld(o),t=ps(t,"onChange"),0<t.length&&(n=new mi("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var bo=null,Ko=null;function ig(e){Hd(e,0)}function Gs(e){var t=zn(e);if(Zu(t))return e}function cg(e,t){if(e==="change")return t}var Md=!1;if(Ot){var Cl;if(Ot){var Tl="oninput"in document;if(!Tl){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),Tl=typeof Ec.oninput=="function"}Cl=Tl}else Cl=!1;Md=Cl&&(!document.documentMode||9<document.documentMode)}function Cc(){bo&&(bo.detachEvent("onpropertychange",Dd),Ko=bo=null)}function Dd(e){if(e.propertyName==="value"&&Gs(Ko)){var t=[];Nd(t,Ko,e,ii(e)),ud(ig,t)}}function ug(e,t,n){e==="focusin"?(Cc(),bo=t,Ko=n,bo.attachEvent("onpropertychange",Dd)):e==="focusout"&&Cc()}function dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gs(Ko)}function pg(e,t){if(e==="click")return Gs(t)}function fg(e,t){if(e==="input"||e==="change")return Gs(t)}function mg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:mg;function Xo(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Zl.call(t,r)||!ht(e[r],t[r]))return!1}return!0}function Tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,t){var n=Tc(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tc(n)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(){for(var e=window,t=ss();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ss(e.document)}return t}function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gg(e){var t=bd(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Id(n.ownerDocument.documentElement,n)){if(o!==null&&vi(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(o.start,r);o=o.end===void 0?s:Math.min(o.end,r),!e.extend&&s>o&&(r=o,o=s,s=r),r=Ac(n,s);var l=Ac(n,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hg=Ot&&"documentMode"in document&&11>=document.documentMode,Vn=null,xa=null,_o=null,ya=!1;function Rc(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ya||Vn==null||Vn!==ss(o)||(o=Vn,"selectionStart"in o&&vi(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_o&&Xo(_o,o)||(_o=o,o=ps(xa,"onSelect"),0<o.length&&(t=new mi("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Vn)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionend:Mr("Transition","TransitionEnd")},Al={},_d={};Ot&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Ys(e){if(Al[e])return Al[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _d)return Al[e]=t[n];return e}var Od=Ys("animationend"),jd=Ys("animationiteration"),Ld=Ys("animationstart"),Ud=Ys("transitionend"),Vd=new Map,Nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){Vd.set(e,t),Dn(t,[e])}for(var Rl=0;Rl<Nc.length;Rl++){var Nl=Nc[Rl],vg=Nl.toLowerCase(),xg=Nl[0].toUpperCase()+Nl.slice(1);cn(vg,"on"+xg)}cn(Od,"onAnimationEnd");cn(jd,"onAnimationIteration");cn(Ld,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Ud,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function Mc(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,vm(o,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var s=void 0;if(t)for(var l=o.length-1;0<=l;l--){var i=o[l],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==s&&r.isPropagationStopped())break e;Mc(r,i,u),s=c}else for(l=0;l<o.length;l++){if(i=o[l],c=i.instance,u=i.currentTarget,i=i.listener,c!==s&&r.isPropagationStopped())break e;Mc(r,i,u),s=c}}}if(as)throw e=ma,as=!1,ma=null,e}function ce(e,t){var n=t[Ea];n===void 0&&(n=t[Ea]=new Set);var o=e+"__bubble";n.has(o)||(zd(t,e,2,!1),n.add(o))}function Ml(e,t,n){var o=0;t&&(o|=4),zd(n,e,o,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Dr]){e[Dr]=!0,Xu.forEach(function(n){n!=="selectionchange"&&(yg.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,Ml("selectionchange",!1,t))}}function zd(e,t,n,o){switch(Ed(t)){case 1:var r=bm;break;case 4:r=_m;break;default:r=pi}n=r.bind(null,t,n,e),r=void 0,!fa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Dl(e,t,n,o,r){var s=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var i=o.stateNode.containerInfo;if(i===r||i.nodeType===8&&i.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;i!==null;){if(l=vn(i),l===null)return;if(c=l.tag,c===5||c===6){o=s=l;continue e}i=i.parentNode}}o=o.return}ud(function(){var u=s,p=ii(n),f=[];e:{var g=Vd.get(e);if(g!==void 0){var x=mi,y=e;switch(e){case"keypress":if(Xr(n)===0)break e;case"keydown":case"keyup":x=Wm;break;case"focusin":y="focus",x=El;break;case"focusout":y="blur",x=El;break;case"beforeblur":case"afterblur":x=El;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=qm;break;case Od:case jd:case Ld:x=Hm;break;case Ud:x=eg;break;case"scroll":x=Om;break;case"wheel":x=ng;break;case"copy":case"cut":case"paste":x=$m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=kc}var v=(t&4)!==0,S=!v&&e==="scroll",m=v?g!==null?g+"Capture":null:g;v=[];for(var d=u,h;d!==null;){h=d;var C=h.stateNode;if(h.tag===5&&C!==null&&(h=C,m!==null&&(C=Bo(d,m),C!=null&&v.push(Jo(d,C,h)))),S)break;d=d.return}0<v.length&&(g=new x(g,y,null,n,p),f.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==da&&(y=n.relatedTarget||n.fromElement)&&(vn(y)||y[jt]))break e;if((x||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=u,y=y?vn(y):null,y!==null&&(S=In(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(v=xc,C="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=kc,C="onPointerLeave",m="onPointerEnter",d="pointer"),S=x==null?g:zn(x),h=y==null?g:zn(y),g=new v(C,d+"leave",x,n,p),g.target=S,g.relatedTarget=h,C=null,vn(p)===u&&(v=new v(m,d+"enter",y,n,p),v.target=h,v.relatedTarget=S,C=v),S=C,x&&y)t:{for(v=x,m=y,d=0,h=v;h;h=_n(h))d++;for(h=0,C=m;C;C=_n(C))h++;for(;0<d-h;)v=_n(v),d--;for(;0<h-d;)m=_n(m),h--;for(;d--;){if(v===m||m!==null&&v===m.alternate)break t;v=_n(v),m=_n(m)}v=null}else v=null;x!==null&&Dc(f,g,x,v,!1),y!==null&&S!==null&&Dc(f,S,y,v,!0)}}e:{if(g=u?zn(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var P=cg;else if(wc(g))if(Md)P=fg;else{P=dg;var T=ug}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=pg);if(P&&(P=P(e,u))){Nd(f,P,n,p);break e}T&&T(e,g,u),e==="focusout"&&(T=g._wrapperState)&&T.controlled&&g.type==="number"&&la(g,"number",g.value)}switch(T=u?zn(u):window,e){case"focusin":(wc(T)||T.contentEditable==="true")&&(Vn=T,xa=u,_o=null);break;case"focusout":_o=xa=Vn=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,Rc(f,n,p);break;case"selectionchange":if(hg)break;case"keydown":case"keyup":Rc(f,n,p)}var k;if(hi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Un?Ad(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Td&&n.locale!=="ko"&&(Un||E!=="onCompositionStart"?E==="onCompositionEnd"&&Un&&(k=Cd()):(Wt=p,fi="value"in Wt?Wt.value:Wt.textContent,Un=!0)),T=ps(u,E),0<T.length&&(E=new yc(E,e,null,n,p),f.push({event:E,listeners:T}),k?E.data=k:(k=Rd(n),k!==null&&(E.data=k)))),(k=rg?sg(e,n):lg(e,n))&&(u=ps(u,"onBeforeInput"),0<u.length&&(p=new yc("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=k))}Hd(f,t)})}function Jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ps(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Bo(e,n),s!=null&&o.unshift(Jo(e,s,r)),s=Bo(e,t),s!=null&&o.push(Jo(e,s,r))),e=e.return}return o}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dc(e,t,n,o,r){for(var s=t._reactName,l=[];n!==null&&n!==o;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===o)break;i.tag===5&&u!==null&&(i=u,r?(c=Bo(n,s),c!=null&&l.unshift(Jo(n,c,i))):r||(c=Bo(n,s),c!=null&&l.push(Jo(n,c,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var kg=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(kg,`
`).replace(Sg,"")}function Ir(e,t,n){if(t=Ic(t),Ic(e)!==t&&n)throw Error(V(425))}function fs(){}var ka=null,Sa=null;function Pa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,Pg=typeof clearTimeout=="function"?clearTimeout:void 0,bc=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof bc<"u"?function(e){return bc.resolve(null).then(e).catch(Eg)}:wa;function Eg(e){setTimeout(function(){throw e})}function Il(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),Yo(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Yo(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),wt="__reactFiber$"+fo,Qo="__reactProps$"+fo,jt="__reactContainer$"+fo,Ea="__reactEvents$"+fo,Cg="__reactListeners$"+fo,Tg="__reactHandles$"+fo;function vn(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_c(e);e!==null;){if(n=e[wt])return n;e=_c(e)}return t}e=n,n=e.parentNode}return null}function pr(e){return e=e[wt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Ks(e){return e[Qo]||null}var Ca=[],$n=-1;function un(e){return{current:e}}function ue(e){0>$n||(e.current=Ca[$n],Ca[$n]=null,$n--)}function ie(e,t){$n++,Ca[$n]=e.current,e.current=t}var an={},je=un(an),Be=un(!1),En=an;function oo(e,t){var n=e.type.contextTypes;if(!n)return an;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Fe(e){return e=e.childContextTypes,e!=null}function ms(){ue(Be),ue(je)}function Oc(e,t,n){if(je.current!==an)throw Error(V(168));ie(je,t),ie(Be,n)}function $d(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(V(108,um(e)||"Unknown",r));return ge({},n,o)}function gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,En=je.current,ie(je,e),ie(Be,Be.current),!0}function jc(e,t,n){var o=e.stateNode;if(!o)throw Error(V(169));n?(e=$d(e,t,En),o.__reactInternalMemoizedMergedChildContext=e,ue(Be),ue(je),ie(je,e)):ue(Be),ie(Be,n)}var Mt=null,Xs=!1,bl=!1;function Bd(e){Mt===null?Mt=[e]:Mt.push(e)}function Ag(e){Xs=!0,Bd(e)}function dn(){if(!bl&&Mt!==null){bl=!0;var e=0,t=se;try{var n=Mt;for(se=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Mt=null,Xs=!1}catch(r){throw Mt!==null&&(Mt=Mt.slice(e+1)),md(ci,dn),r}finally{se=t,bl=!1}}return null}var Bn=[],Fn=0,hs=null,vs=0,tt=[],nt=0,Cn=null,Dt=1,It="";function mn(e,t){Bn[Fn++]=vs,Bn[Fn++]=hs,hs=e,vs=t}function Fd(e,t,n){tt[nt++]=Dt,tt[nt++]=It,tt[nt++]=Cn,Cn=e;var o=Dt;e=It;var r=32-mt(o)-1;o&=~(1<<r),n+=1;var s=32-mt(t)+r;if(30<s){var l=r-r%5;s=(o&(1<<l)-1).toString(32),o>>=l,r-=l,Dt=1<<32-mt(t)+r|n<<r|o,It=s+e}else Dt=1<<s|n<<r|o,It=e}function xi(e){e.return!==null&&(mn(e,1),Fd(e,1,0))}function yi(e){for(;e===hs;)hs=Bn[--Fn],Bn[Fn]=null,vs=Bn[--Fn],Bn[Fn]=null;for(;e===Cn;)Cn=tt[--nt],tt[nt]=null,It=tt[--nt],tt[nt]=null,Dt=tt[--nt],tt[nt]=null}var We=null,Xe=null,pe=!1,dt=null;function Gd(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Xe=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cn!==null?{id:Dt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,Xe=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Aa(e){if(pe){var t=Xe;if(t){var n=t;if(!Lc(e,t)){if(Ta(e))throw Error(V(418));t=en(n.nextSibling);var o=We;t&&Lc(e,t)?Gd(o,n):(e.flags=e.flags&-4097|2,pe=!1,We=e)}}else{if(Ta(e))throw Error(V(418));e.flags=e.flags&-4097|2,pe=!1,We=e}}}function Uc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function br(e){if(e!==We)return!1;if(!pe)return Uc(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pa(e.type,e.memoizedProps)),t&&(t=Xe)){if(Ta(e))throw Yd(),Error(V(418));for(;t;)Gd(e,t),t=en(t.nextSibling)}if(Uc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=We?en(e.stateNode.nextSibling):null;return!0}function Yd(){for(var e=Xe;e;)e=en(e.nextSibling)}function ro(){Xe=We=null,pe=!1}function ki(e){dt===null?dt=[e]:dt.push(e)}var Rg=Vt.ReactCurrentBatchConfig;function Po(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var o=n.stateNode}if(!o)throw Error(V(147,e));var r=o,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var i=r.refs;l===null?delete i[s]:i[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function _r(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vc(e){var t=e._init;return t(e._payload)}function Kd(e){function t(m,d){if(e){var h=m.deletions;h===null?(m.deletions=[d],m.flags|=16):h.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function o(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function r(m,d){return m=rn(m,d),m.index=0,m.sibling=null,m}function s(m,d,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<d?(m.flags|=2,d):h):(m.flags|=2,d)):(m.flags|=1048576,d)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function i(m,d,h,C){return d===null||d.tag!==6?(d=Hl(h,m.mode,C),d.return=m,d):(d=r(d,h),d.return=m,d)}function c(m,d,h,C){var P=h.type;return P===Ln?p(m,d,h.props.children,C,h.key):d!==null&&(d.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gt&&Vc(P)===d.type)?(C=r(d,h.props),C.ref=Po(m,d,h),C.return=m,C):(C=ts(h.type,h.key,h.props,null,m.mode,C),C.ref=Po(m,d,h),C.return=m,C)}function u(m,d,h,C){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=zl(h,m.mode,C),d.return=m,d):(d=r(d,h.children||[]),d.return=m,d)}function p(m,d,h,C,P){return d===null||d.tag!==7?(d=Sn(h,m.mode,C,P),d.return=m,d):(d=r(d,h),d.return=m,d)}function f(m,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Hl(""+d,m.mode,h),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case wr:return h=ts(d.type,d.key,d.props,null,m.mode,h),h.ref=Po(m,null,d),h.return=m,h;case jn:return d=zl(d,m.mode,h),d.return=m,d;case Gt:var C=d._init;return f(m,C(d._payload),h)}if(Ao(d)||vo(d))return d=Sn(d,m.mode,h,null),d.return=m,d;_r(m,d)}return null}function g(m,d,h,C){var P=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return P!==null?null:i(m,d,""+h,C);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case wr:return h.key===P?c(m,d,h,C):null;case jn:return h.key===P?u(m,d,h,C):null;case Gt:return P=h._init,g(m,d,P(h._payload),C)}if(Ao(h)||vo(h))return P!==null?null:p(m,d,h,C,null);_r(m,h)}return null}function x(m,d,h,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(h)||null,i(d,m,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wr:return m=m.get(C.key===null?h:C.key)||null,c(d,m,C,P);case jn:return m=m.get(C.key===null?h:C.key)||null,u(d,m,C,P);case Gt:var T=C._init;return x(m,d,h,T(C._payload),P)}if(Ao(C)||vo(C))return m=m.get(h)||null,p(d,m,C,P,null);_r(d,C)}return null}function y(m,d,h,C){for(var P=null,T=null,k=d,E=d=0,I=null;k!==null&&E<h.length;E++){k.index>E?(I=k,k=null):I=k.sibling;var A=g(m,k,h[E],C);if(A===null){k===null&&(k=I);break}e&&k&&A.alternate===null&&t(m,k),d=s(A,d,E),T===null?P=A:T.sibling=A,T=A,k=I}if(E===h.length)return n(m,k),pe&&mn(m,E),P;if(k===null){for(;E<h.length;E++)k=f(m,h[E],C),k!==null&&(d=s(k,d,E),T===null?P=k:T.sibling=k,T=k);return pe&&mn(m,E),P}for(k=o(m,k);E<h.length;E++)I=x(k,m,E,h[E],C),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?E:I.key),d=s(I,d,E),T===null?P=I:T.sibling=I,T=I);return e&&k.forEach(function(j){return t(m,j)}),pe&&mn(m,E),P}function v(m,d,h,C){var P=vo(h);if(typeof P!="function")throw Error(V(150));if(h=P.call(h),h==null)throw Error(V(151));for(var T=P=null,k=d,E=d=0,I=null,A=h.next();k!==null&&!A.done;E++,A=h.next()){k.index>E?(I=k,k=null):I=k.sibling;var j=g(m,k,A.value,C);if(j===null){k===null&&(k=I);break}e&&k&&j.alternate===null&&t(m,k),d=s(j,d,E),T===null?P=j:T.sibling=j,T=j,k=I}if(A.done)return n(m,k),pe&&mn(m,E),P;if(k===null){for(;!A.done;E++,A=h.next())A=f(m,A.value,C),A!==null&&(d=s(A,d,E),T===null?P=A:T.sibling=A,T=A);return pe&&mn(m,E),P}for(k=o(m,k);!A.done;E++,A=h.next())A=x(k,m,E,A.value,C),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?E:A.key),d=s(A,d,E),T===null?P=A:T.sibling=A,T=A);return e&&k.forEach(function(X){return t(m,X)}),pe&&mn(m,E),P}function S(m,d,h,C){if(typeof h=="object"&&h!==null&&h.type===Ln&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case wr:e:{for(var P=h.key,T=d;T!==null;){if(T.key===P){if(P=h.type,P===Ln){if(T.tag===7){n(m,T.sibling),d=r(T,h.props.children),d.return=m,m=d;break e}}else if(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gt&&Vc(P)===T.type){n(m,T.sibling),d=r(T,h.props),d.ref=Po(m,T,h),d.return=m,m=d;break e}n(m,T);break}else t(m,T);T=T.sibling}h.type===Ln?(d=Sn(h.props.children,m.mode,C,h.key),d.return=m,m=d):(C=ts(h.type,h.key,h.props,null,m.mode,C),C.ref=Po(m,d,h),C.return=m,m=C)}return l(m);case jn:e:{for(T=h.key;d!==null;){if(d.key===T)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(m,d.sibling),d=r(d,h.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=zl(h,m.mode,C),d.return=m,m=d}return l(m);case Gt:return T=h._init,S(m,d,T(h._payload),C)}if(Ao(h))return y(m,d,h,C);if(vo(h))return v(m,d,h,C);_r(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(m,d.sibling),d=r(d,h),d.return=m,m=d):(n(m,d),d=Hl(h,m.mode,C),d.return=m,m=d),l(m)):n(m,d)}return S}var so=Kd(!0),Xd=Kd(!1),xs=un(null),ys=null,Gn=null,Si=null;function Pi(){Si=Gn=ys=null}function wi(e){var t=xs.current;ue(xs),e._currentValue=t}function Ra(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function eo(e,t){ys=e,Si=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(ys===null)throw Error(V(308));Gn=e,ys.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var xn=null;function Ei(e){xn===null?xn=[e]:xn.push(e)}function Wd(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,Ei(t)):(n.next=r.next,r.next=n),t.interleaved=n,Lt(e,o)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yt=!1;function Ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,oe&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Lt(e,n)}return r=o.interleaved,r===null?(t.next=t,Ei(o)):(t.next=r.next,r.next=t),o.interleaved=t,Lt(e,n)}function Wr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ui(e,n)}}function Hc(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ks(e,t,n,o){var r=e.updateQueue;Yt=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(i!==null){r.shared.pending=null;var c=i,u=c.next;c.next=null,l===null?s=u:l.next=u,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==l&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(s!==null){var f=r.baseState;l=0,p=u=c=null,i=s;do{var g=i.lane,x=i.eventTime;if((o&g)===g){p!==null&&(p=p.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var y=e,v=i;switch(g=t,x=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(x,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,g=typeof y=="function"?y.call(x,f,g):y,g==null)break e;f=ge({},f,g);break e;case 2:Yt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=r.effects,g===null?r.effects=[i]:g.push(i))}else x={eventTime:x,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=x,c=f):p=p.next=x,l|=g;if(i=i.next,i===null){if(i=r.shared.pending,i===null)break;g=i,i=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(p===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=p,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);An|=l,e.lanes=l,e.memoizedState=f}}function zc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(V(191,r));r.call(o)}}}var fr={},Tt=un(fr),qo=un(fr),Zo=un(fr);function yn(e){if(e===fr)throw Error(V(174));return e}function Ti(e,t){switch(ie(Zo,t),ie(qo,e),ie(Tt,fr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ia(t,e)}ue(Tt),ie(Tt,t)}function lo(){ue(Tt),ue(qo),ue(Zo)}function Qd(e){yn(Zo.current);var t=yn(Tt.current),n=ia(t,e.type);t!==n&&(ie(qo,e),ie(Tt,n))}function Ai(e){qo.current===e&&(ue(Tt),ue(qo))}var fe=un(0);function Ss(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _l=[];function Ri(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var Jr=Vt.ReactCurrentDispatcher,Ol=Vt.ReactCurrentBatchConfig,Tn=0,me=null,Se=null,Ee=null,Ps=!1,Oo=!1,er=0,Ng=0;function De(){throw Error(V(321))}function Ni(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function Mi(e,t,n,o,r,s){if(Tn=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?bg:_g,e=n(o,r),Oo){s=0;do{if(Oo=!1,er=0,25<=s)throw Error(V(301));s+=1,Ee=Se=null,t.updateQueue=null,Jr.current=Og,e=n(o,r)}while(Oo)}if(Jr.current=ws,t=Se!==null&&Se.next!==null,Tn=0,Ee=Se=me=null,Ps=!1,t)throw Error(V(300));return e}function Di(){var e=er!==0;return er=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?me.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function lt(){if(Se===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ee===null?me.memoizedState:Ee.next;if(t!==null)Ee=t,Se=e;else{if(e===null)throw Error(V(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ee===null?me.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function tr(e,t){return typeof t=="function"?t(e):t}function jl(e){var t=lt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var o=Se,r=o.baseQueue,s=n.pending;if(s!==null){if(r!==null){var l=r.next;r.next=s.next,s.next=l}o.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,o=o.baseState;var i=l=null,c=null,u=s;do{var p=u.lane;if((Tn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,l=o):c=c.next=f,me.lanes|=p,An|=p}u=u.next}while(u!==null&&u!==s);c===null?l=o:c.next=i,ht(o,t.memoizedState)||($e=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do s=r.lane,me.lanes|=s,An|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ll(e){var t=lt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do s=e(s,l.action),l=l.next;while(l!==r);ht(s,t.memoizedState)||($e=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function qd(){}function Zd(e,t){var n=me,o=lt(),r=t(),s=!ht(o.memoizedState,r);if(s&&(o.memoizedState=r,$e=!0),o=o.queue,Ii(np.bind(null,n,o,e),[e]),o.getSnapshot!==t||s||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,nr(9,tp.bind(null,n,o,r,t),void 0,null),Ce===null)throw Error(V(349));Tn&30||ep(n,t,r)}return r}function ep(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tp(e,t,n,o){t.value=n,t.getSnapshot=o,op(t)&&rp(e)}function np(e,t,n){return n(function(){op(t)&&rp(e)})}function op(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function rp(e){var t=Lt(e,1);t!==null&&gt(t,e,1,-1)}function $c(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ig.bind(null,me,e),[t.memoizedState,e]}function nr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function sp(){return lt().memoizedState}function Qr(e,t,n,o){var r=St();me.flags|=e,r.memoizedState=nr(1|t,n,void 0,o===void 0?null:o)}function Ws(e,t,n,o){var r=lt();o=o===void 0?null:o;var s=void 0;if(Se!==null){var l=Se.memoizedState;if(s=l.destroy,o!==null&&Ni(o,l.deps)){r.memoizedState=nr(t,n,s,o);return}}me.flags|=e,r.memoizedState=nr(1|t,n,s,o)}function Bc(e,t){return Qr(8390656,8,e,t)}function Ii(e,t){return Ws(2048,8,e,t)}function lp(e,t){return Ws(4,2,e,t)}function ap(e,t){return Ws(4,4,e,t)}function ip(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cp(e,t,n){return n=n!=null?n.concat([e]):null,Ws(4,4,ip.bind(null,t,e),n)}function bi(){}function up(e,t){var n=lt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ni(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function dp(e,t){var n=lt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Ni(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function pp(e,t,n){return Tn&21?(ht(n,t)||(n=vd(),me.lanes|=n,An|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function Mg(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var o=Ol.transition;Ol.transition={};try{e(!1),t()}finally{se=n,Ol.transition=o}}function fp(){return lt().memoizedState}function Dg(e,t,n){var o=on(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},mp(e))gp(t,n);else if(n=Wd(e,t,n,o),n!==null){var r=Ue();gt(n,e,o,r),hp(n,t,o)}}function Ig(e,t,n){var o=on(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(mp(e))gp(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,i=s(l,n);if(r.hasEagerState=!0,r.eagerState=i,ht(i,l)){var c=t.interleaved;c===null?(r.next=r,Ei(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Wd(e,t,r,o),n!==null&&(r=Ue(),gt(n,e,o,r),hp(n,t,o))}}function mp(e){var t=e.alternate;return e===me||t!==null&&t===me}function gp(e,t){Oo=Ps=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hp(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ui(e,n)}}var ws={readContext:st,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},bg={readContext:st,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Bc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qr(4194308,4,ip.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qr(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=St();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Dg.bind(null,me,e),[o.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:$c,useDebugValue:bi,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=$c(!1),t=e[0];return e=Mg.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=me,r=St();if(pe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Ce===null)throw Error(V(349));Tn&30||ep(o,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Bc(np.bind(null,o,s,e),[e]),o.flags|=2048,nr(9,tp.bind(null,o,s,n,t),void 0,null),n},useId:function(){var e=St(),t=Ce.identifierPrefix;if(pe){var n=It,o=Dt;n=(o&~(1<<32-mt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=er++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ng++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_g={readContext:st,useCallback:up,useContext:st,useEffect:Ii,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:ap,useMemo:dp,useReducer:jl,useRef:sp,useState:function(){return jl(tr)},useDebugValue:bi,useDeferredValue:function(e){var t=lt();return pp(t,Se.memoizedState,e)},useTransition:function(){var e=jl(tr)[0],t=lt().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Zd,useId:fp,unstable_isNewReconciler:!1},Og={readContext:st,useCallback:up,useContext:st,useEffect:Ii,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:ap,useMemo:dp,useReducer:Ll,useRef:sp,useState:function(){return Ll(tr)},useDebugValue:bi,useDeferredValue:function(e){var t=lt();return Se===null?t.memoizedState=e:pp(t,Se.memoizedState,e)},useTransition:function(){var e=Ll(tr)[0],t=lt().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Zd,useId:fp,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Na(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Js={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ue(),r=on(e),s=_t(o,r);s.payload=t,n!=null&&(s.callback=n),t=tn(e,s,r),t!==null&&(gt(t,e,r,o),Wr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ue(),r=on(e),s=_t(o,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=tn(e,s,r),t!==null&&(gt(t,e,r,o),Wr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),o=on(e),r=_t(n,o);r.tag=2,t!=null&&(r.callback=t),t=tn(e,r,o),t!==null&&(gt(t,e,o,n),Wr(t,e,o))}};function Fc(e,t,n,o,r,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,s,l):t.prototype&&t.prototype.isPureReactComponent?!Xo(n,o)||!Xo(r,s):!0}function vp(e,t,n){var o=!1,r=an,s=t.contextType;return typeof s=="object"&&s!==null?s=st(s):(r=Fe(t)?En:je.current,o=t.contextTypes,s=(o=o!=null)?oo(e,r):an),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Js,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Js.enqueueReplaceState(t,t.state,null)}function Ma(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ci(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=st(s):(s=Fe(t)?En:je.current,r.context=oo(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Na(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Js.enqueueReplaceState(r,r.state,null),ks(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function ao(e,t){try{var n="",o=t;do n+=cm(o),o=o.return;while(o);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function Ul(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jg=typeof WeakMap=="function"?WeakMap:Map;function xp(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Cs||(Cs=!0,za=o),Da(e,t)},n}function yp(e,t,n){n=_t(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){Da(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Da(e,t),typeof o!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Yc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new jg;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Jg.bind(null,e,t,n),t.then(e,e))}function Kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var Lg=Vt.ReactCurrentOwner,$e=!1;function Le(e,t,n,o){t.child=e===null?Xd(t,null,n,o):so(t,e.child,n,o)}function Wc(e,t,n,o,r){n=n.render;var s=t.ref;return eo(t,r),o=Mi(e,t,n,o,s,r),n=Di(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ut(e,t,r)):(pe&&n&&xi(t),t.flags|=1,Le(e,t,o,r),t.child)}function Jc(e,t,n,o,r){if(e===null){var s=n.type;return typeof s=="function"&&!zi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,kp(e,t,s,o,r)):(e=ts(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(l,o)&&e.ref===t.ref)return Ut(e,t,r)}return t.flags|=1,e=rn(s,o),e.ref=t.ref,e.return=t,t.child=e}function kp(e,t,n,o,r){if(e!==null){var s=e.memoizedProps;if(Xo(s,o)&&e.ref===t.ref)if($e=!1,t.pendingProps=o=s,(e.lanes&r)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Ut(e,t,r)}return Ia(e,t,n,o,r)}function Sp(e,t,n){var o=t.pendingProps,r=o.children,s=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Kn,Ke),Ke|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Kn,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:n,ie(Kn,Ke),Ke|=o}else s!==null?(o=s.baseLanes|n,t.memoizedState=null):o=n,ie(Kn,Ke),Ke|=o;return Le(e,t,r,n),t.child}function Pp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,o,r){var s=Fe(n)?En:je.current;return s=oo(t,s),eo(t,r),n=Mi(e,t,n,o,s,r),o=Di(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ut(e,t,r)):(pe&&o&&xi(t),t.flags|=1,Le(e,t,n,r),t.child)}function Qc(e,t,n,o,r){if(Fe(n)){var s=!0;gs(t)}else s=!1;if(eo(t,r),t.stateNode===null)qr(e,t),vp(t,n,o),Ma(t,n,o,r),o=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Fe(n)?En:je.current,u=oo(t,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==o||c!==u)&&Gc(t,l,o,u),Yt=!1;var g=t.memoizedState;l.state=g,ks(t,o,l,r),c=t.memoizedState,i!==o||g!==c||Be.current||Yt?(typeof p=="function"&&(Na(t,n,p,o),c=t.memoizedState),(i=Yt||Fc(t,n,i,o,g,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),l.props=o,l.state=c,l.context=u,o=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,Jd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:ct(t.type,i),l.props=u,f=t.pendingProps,g=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=st(c):(c=Fe(n)?En:je.current,c=oo(t,c));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==f||g!==c)&&Gc(t,l,o,c),Yt=!1,g=t.memoizedState,l.state=g,ks(t,o,l,r);var y=t.memoizedState;i!==f||g!==y||Be.current||Yt?(typeof x=="function"&&(Na(t,n,x,o),y=t.memoizedState),(u=Yt||Fc(t,n,u,o,g,y,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=y),l.props=o,l.state=y,l.context=c,o=u):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),o=!1)}return ba(e,t,n,o,s,r)}function ba(e,t,n,o,r,s){Pp(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return r&&jc(t,n,!1),Ut(e,t,s);o=t.stateNode,Lg.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=so(t,e.child,null,s),t.child=so(t,null,i,s)):Le(e,t,i,s),t.memoizedState=o.state,r&&jc(t,n,!0),t.child}function wp(e){var t=e.stateNode;t.pendingContext?Oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oc(e,t.context,!1),Ti(e,t.containerInfo)}function qc(e,t,n,o,r){return ro(),ki(r),t.flags|=256,Le(e,t,n,o),t.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ep(e,t,n){var o=t.pendingProps,r=fe.current,s=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(r&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ie(fe,r&1),e===null)return Aa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Zs(l,o,0,null),e=Sn(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Oa(n),t.memoizedState=_a,e):_i(t,l));if(r=e.memoizedState,r!==null&&(i=r.dehydrated,i!==null))return Ug(e,t,l,o,i,r,n);if(s){s=o.fallback,l=t.mode,r=e.child,i=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=c,t.deletions=null):(o=rn(r,c),o.subtreeFlags=r.subtreeFlags&14680064),i!==null?s=rn(i,s):(s=Sn(s,l,n,null),s.flags|=2),s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=e.child.memoizedState,l=l===null?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=_a,o}return s=e.child,e=s.sibling,o=rn(s,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function _i(e,t){return t=Zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Or(e,t,n,o){return o!==null&&ki(o),so(t,e.child,null,n),e=_i(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ug(e,t,n,o,r,s,l){if(n)return t.flags&256?(t.flags&=-257,o=Ul(Error(V(422))),Or(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=o.fallback,r=t.mode,o=Zs({mode:"visible",children:o.children},r,0,null),s=Sn(s,r,l,null),s.flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,t.mode&1&&so(t,e.child,null,l),t.child.memoizedState=Oa(l),t.memoizedState=_a,s);if(!(t.mode&1))return Or(e,t,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var i=o.dgst;return o=i,s=Error(V(419)),o=Ul(s,o,void 0),Or(e,t,l,o)}if(i=(l&e.childLanes)!==0,$e||i){if(o=Ce,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Lt(e,r),gt(o,e,r,-1))}return Hi(),o=Ul(Error(V(421))),Or(e,t,l,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Qg.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,Xe=en(r.nextSibling),We=t,pe=!0,dt=null,e!==null&&(tt[nt++]=Dt,tt[nt++]=It,tt[nt++]=Cn,Dt=e.id,It=e.overflow,Cn=t),t=_i(t,o.children),t.flags|=4096,t)}function Zc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Ra(e.return,t,n)}function Vl(e,t,n,o,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=n,s.tailMode=r)}function Cp(e,t,n){var o=t.pendingProps,r=o.revealOrder,s=o.tail;if(Le(e,t,o.children,n),o=fe.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zc(e,n,t);else if(e.tag===19)Zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ie(fe,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ss(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vl(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ss(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vl(t,!0,n,null,s);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vg(e,t,n){switch(t.tag){case 3:wp(t),ro();break;case 5:Qd(t);break;case 1:Fe(t.type)&&gs(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;ie(xs,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ie(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Ep(e,t,n):(ie(fe,fe.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);ie(fe,fe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Cp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ie(fe,fe.current),o)break;return null;case 22:case 23:return t.lanes=0,Sp(e,t,n)}return Ut(e,t,n)}var Tp,ja,Ap,Rp;Tp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ja=function(){};Ap=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,yn(Tt.current);var s=null;switch(n){case"input":r=ra(e,r),o=ra(e,o),s=[];break;case"select":r=ge({},r,{value:void 0}),o=ge({},o,{value:void 0}),s=[];break;case"textarea":r=aa(e,r),o=aa(e,o),s=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=fs)}ca(n,o);var l;n=null;for(u in r)if(!o.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var i=r[u];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in o){var c=o[u];if(i=r!=null?r[u]:void 0,o.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),s||i===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Rp=function(e,t,n,o){n!==o&&(t.flags|=4)};function wo(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Hg(e,t,n){var o=t.pendingProps;switch(yi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Fe(t.type)&&ms(),Ie(t),null;case 3:return o=t.stateNode,lo(),ue(Be),ue(je),Ri(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(br(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(Fa(dt),dt=null))),ja(e,t),Ie(t),null;case 5:Ai(t);var r=yn(Zo.current);if(n=t.type,e!==null&&t.stateNode!=null)Ap(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(V(166));return Ie(t),null}if(e=yn(Tt.current),br(t)){o=t.stateNode,n=t.type;var s=t.memoizedProps;switch(o[wt]=t,o[Qo]=s,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",o),ce("close",o);break;case"iframe":case"object":case"embed":ce("load",o);break;case"video":case"audio":for(r=0;r<No.length;r++)ce(No[r],o);break;case"source":ce("error",o);break;case"img":case"image":case"link":ce("error",o),ce("load",o);break;case"details":ce("toggle",o);break;case"input":ic(o,s),ce("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},ce("invalid",o);break;case"textarea":uc(o,s),ce("invalid",o)}ca(n,s),r=null;for(var l in s)if(s.hasOwnProperty(l)){var i=s[l];l==="children"?typeof i=="string"?o.textContent!==i&&(s.suppressHydrationWarning!==!0&&Ir(o.textContent,i,e),r=["children",i]):typeof i=="number"&&o.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&Ir(o.textContent,i,e),r=["children",""+i]):zo.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&ce("scroll",o)}switch(n){case"input":Er(o),cc(o,s,!0);break;case"textarea":Er(o),dc(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=fs)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[wt]=t,e[Qo]=o,Tp(e,t,!1,!1),t.stateNode=e;e:{switch(l=ua(n,o),n){case"dialog":ce("cancel",e),ce("close",e),r=o;break;case"iframe":case"object":case"embed":ce("load",e),r=o;break;case"video":case"audio":for(r=0;r<No.length;r++)ce(No[r],e);r=o;break;case"source":ce("error",e),r=o;break;case"img":case"image":case"link":ce("error",e),ce("load",e),r=o;break;case"details":ce("toggle",e),r=o;break;case"input":ic(e,o),r=ra(e,o),ce("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ge({},o,{value:void 0}),ce("invalid",e);break;case"textarea":uc(e,o),r=aa(e,o),ce("invalid",e);break;default:r=o}ca(n,r),i=r;for(s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="style"?sd(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&od(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$o(e,c):typeof c=="number"&&$o(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ce("scroll",e):c!=null&&ri(e,s,c,l))}switch(n){case"input":Er(e),cc(e,o,!1);break;case"textarea":Er(e),dc(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ln(o.value));break;case"select":e.multiple=!!o.multiple,s=o.value,s!=null?Jn(e,!!o.multiple,s,!1):o.defaultValue!=null&&Jn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=fs)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Rp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(V(166));if(n=yn(Zo.current),yn(Tt.current),br(t)){if(o=t.stateNode,n=t.memoizedProps,o[wt]=t,(s=o.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:Ir(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ir(o.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[wt]=t,t.stateNode=o}return Ie(t),null;case 13:if(ue(fe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Xe!==null&&t.mode&1&&!(t.flags&128))Yd(),ro(),t.flags|=98560,s=!1;else if(s=br(t),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[wt]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),s=!1}else dt!==null&&(Fa(dt),dt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Pe===0&&(Pe=3):Hi())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return lo(),ja(e,t),e===null&&Wo(t.stateNode.containerInfo),Ie(t),null;case 10:return wi(t.type._context),Ie(t),null;case 17:return Fe(t.type)&&ms(),Ie(t),null;case 19:if(ue(fe),s=t.memoizedState,s===null)return Ie(t),null;if(o=(t.flags&128)!==0,l=s.rendering,l===null)if(o)wo(s,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ss(e),l!==null){for(t.flags|=128,wo(s,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)s=n,e=o,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ve()>io&&(t.flags|=128,o=!0,wo(s,!1),t.lanes=4194304)}else{if(!o)if(e=Ss(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!pe)return Ie(t),null}else 2*ve()-s.renderingStartTime>io&&n!==1073741824&&(t.flags|=128,o=!0,wo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ve(),t.sibling=null,n=fe.current,ie(fe,o?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return Vi(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Ke&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function zg(e,t){switch(yi(t),t.tag){case 1:return Fe(t.type)&&ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lo(),ue(Be),ue(je),Ri(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ai(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return lo(),null;case 10:return wi(t.type._context),null;case 22:case 23:return Vi(),null;case 24:return null;default:return null}}var jr=!1,_e=!1,$g=typeof WeakSet=="function"?WeakSet:Set,K=null;function Yn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){he(e,t,o)}else n.current=null}function La(e,t,n){try{n()}catch(o){he(e,t,o)}}var eu=!1;function Bg(e,t){if(ka=us,e=bd(),vi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,i=-1,c=-1,u=0,p=0,f=e,g=null;t:for(;;){for(var x;f!==n||r!==0&&f.nodeType!==3||(i=l+r),f!==s||o!==0&&f.nodeType!==3||(c=l+o),f.nodeType===3&&(l+=f.nodeValue.length),(x=f.firstChild)!==null;)g=f,f=x;for(;;){if(f===e)break t;if(g===n&&++u===r&&(i=l),g===s&&++p===o&&(c=l),(x=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=x}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sa={focusedElem:e,selectionRange:n},us=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ct(t.type,v),S);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(C){he(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return y=eu,eu=!1,y}function jo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&La(t,n,s)}r=r.next}while(r!==o)}}function Qs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Ua(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Np(e){var t=e.alternate;t!==null&&(e.alternate=null,Np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[Qo],delete t[Ea],delete t[Cg],delete t[Tg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mp(e){return e.tag===5||e.tag===3||e.tag===4}function tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Va(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fs));else if(o!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}function Ha(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ha(e,t,n),e=e.sibling;e!==null;)Ha(e,t,n),e=e.sibling}var Re=null,ut=!1;function Ft(e,t,n){for(n=n.child;n!==null;)Dp(e,t,n),n=n.sibling}function Dp(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Bs,n)}catch{}switch(n.tag){case 5:_e||Yn(n,t);case 6:var o=Re,r=ut;Re=null,Ft(e,t,n),Re=o,ut=r,Re!==null&&(ut?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(ut?(e=Re,n=n.stateNode,e.nodeType===8?Il(e.parentNode,n):e.nodeType===1&&Il(e,n),Yo(e)):Il(Re,n.stateNode));break;case 4:o=Re,r=ut,Re=n.stateNode.containerInfo,ut=!0,Ft(e,t,n),Re=o,ut=r;break;case 0:case 11:case 14:case 15:if(!_e&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var s=r,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&La(n,t,l),r=r.next}while(r!==o)}Ft(e,t,n);break;case 1:if(!_e&&(Yn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(i){he(n,t,i)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(_e=(o=_e)||n.memoizedState!==null,Ft(e,t,n),_e=o):Ft(e,t,n);break;default:Ft(e,t,n)}}function nu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $g),t.forEach(function(o){var r=qg.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var s=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Re=i.stateNode,ut=!1;break e;case 3:Re=i.stateNode.containerInfo,ut=!0;break e;case 4:Re=i.stateNode.containerInfo,ut=!0;break e}i=i.return}if(Re===null)throw Error(V(160));Dp(s,l,r),Re=null,ut=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){he(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ip(t,e),t=t.sibling}function Ip(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),kt(e),o&4){try{jo(3,e,e.return),Qs(3,e)}catch(v){he(e,e.return,v)}try{jo(5,e,e.return)}catch(v){he(e,e.return,v)}}break;case 1:it(t,e),kt(e),o&512&&n!==null&&Yn(n,n.return);break;case 5:if(it(t,e),kt(e),o&512&&n!==null&&Yn(n,n.return),e.flags&32){var r=e.stateNode;try{$o(r,"")}catch(v){he(e,e.return,v)}}if(o&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&ed(r,s),ua(i,l);var u=ua(i,s);for(l=0;l<c.length;l+=2){var p=c[l],f=c[l+1];p==="style"?sd(r,f):p==="dangerouslySetInnerHTML"?od(r,f):p==="children"?$o(r,f):ri(r,p,f,u)}switch(i){case"input":sa(r,s);break;case"textarea":td(r,s);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?Jn(r,!!s.multiple,x,!1):g!==!!s.multiple&&(s.defaultValue!=null?Jn(r,!!s.multiple,s.defaultValue,!0):Jn(r,!!s.multiple,s.multiple?[]:"",!1))}r[Qo]=s}catch(v){he(e,e.return,v)}}break;case 6:if(it(t,e),kt(e),o&4){if(e.stateNode===null)throw Error(V(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(v){he(e,e.return,v)}}break;case 3:if(it(t,e),kt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Yo(t.containerInfo)}catch(v){he(e,e.return,v)}break;case 4:it(t,e),kt(e);break;case 13:it(t,e),kt(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Li=ve())),o&4&&nu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(u=_e)||p,it(t,e),_e=u):it(t,e),kt(e),o&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(K=e,p=e.child;p!==null;){for(f=K=p;K!==null;){switch(g=K,x=g.child,g.tag){case 0:case 11:case 14:case 15:jo(4,g,g.return);break;case 1:Yn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){o=g,n=g.return;try{t=o,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){he(o,n,v)}}break;case 5:Yn(g,g.return);break;case 22:if(g.memoizedState!==null){ru(f);continue}}x!==null?(x.return=g,K=x):ru(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{r=f.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=rd("display",l))}catch(v){he(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){he(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:it(t,e),kt(e),o&4&&nu(e);break;case 21:break;default:it(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mp(n)){var o=n;break e}n=n.return}throw Error(V(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&($o(r,""),o.flags&=-33);var s=tu(e);Ha(e,s,r);break;case 3:case 4:var l=o.stateNode.containerInfo,i=tu(e);Va(e,i,l);break;default:throw Error(V(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fg(e,t,n){K=e,bp(e)}function bp(e,t,n){for(var o=(e.mode&1)!==0;K!==null;){var r=K,s=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||jr;if(!l){var i=r.alternate,c=i!==null&&i.memoizedState!==null||_e;i=jr;var u=_e;if(jr=l,(_e=c)&&!u)for(K=r;K!==null;)l=K,c=l.child,l.tag===22&&l.memoizedState!==null?su(r):c!==null?(c.return=l,K=c):su(r);for(;s!==null;)K=s,bp(s),s=s.sibling;K=r,jr=i,_e=u}ou(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,K=s):ou(e)}}function ou(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Qs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!_e)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ct(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zc(t,s,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zc(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Yo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}_e||t.flags&512&&Ua(t)}catch(g){he(t,t.return,g)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function ru(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function su(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qs(4,t)}catch(c){he(t,n,c)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(c){he(t,r,c)}}var s=t.return;try{Ua(t)}catch(c){he(t,s,c)}break;case 5:var l=t.return;try{Ua(t)}catch(c){he(t,l,c)}}}catch(c){he(t,t.return,c)}if(t===e){K=null;break}var i=t.sibling;if(i!==null){i.return=t.return,K=i;break}K=t.return}}var Gg=Math.ceil,Es=Vt.ReactCurrentDispatcher,Oi=Vt.ReactCurrentOwner,rt=Vt.ReactCurrentBatchConfig,oe=0,Ce=null,ke=null,Ne=0,Ke=0,Kn=un(0),Pe=0,or=null,An=0,qs=0,ji=0,Lo=null,ze=null,Li=0,io=1/0,Nt=null,Cs=!1,za=null,nn=null,Lr=!1,Jt=null,Ts=0,Uo=0,$a=null,Zr=-1,es=0;function Ue(){return oe&6?ve():Zr!==-1?Zr:Zr=ve()}function on(e){return e.mode&1?oe&2&&Ne!==0?Ne&-Ne:Rg.transition!==null?(es===0&&(es=vd()),es):(e=se,e!==0||(e=window.event,e=e===void 0?16:Ed(e.type)),e):1}function gt(e,t,n,o){if(50<Uo)throw Uo=0,$a=null,Error(V(185));ur(e,n,o),(!(oe&2)||e!==Ce)&&(e===Ce&&(!(oe&2)&&(qs|=n),Pe===4&&Xt(e,Ne)),Ge(e,o),n===1&&oe===0&&!(t.mode&1)&&(io=ve()+500,Xs&&dn()))}function Ge(e,t){var n=e.callbackNode;Rm(e,t);var o=cs(e,e===Ce?Ne:0);if(o===0)n!==null&&mc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&mc(n),t===1)e.tag===0?Ag(lu.bind(null,e)):Bd(lu.bind(null,e)),wg(function(){!(oe&6)&&dn()}),n=null;else{switch(xd(o)){case 1:n=ci;break;case 4:n=gd;break;case 16:n=is;break;case 536870912:n=hd;break;default:n=is}n=zp(n,_p.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _p(e,t){if(Zr=-1,es=0,oe&6)throw Error(V(327));var n=e.callbackNode;if(to()&&e.callbackNode!==n)return null;var o=cs(e,e===Ce?Ne:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=As(e,o);else{t=o;var r=oe;oe|=2;var s=jp();(Ce!==e||Ne!==t)&&(Nt=null,io=ve()+500,kn(e,t));do try{Xg();break}catch(i){Op(e,i)}while(!0);Pi(),Es.current=s,oe=r,ke!==null?t=0:(Ce=null,Ne=0,t=Pe)}if(t!==0){if(t===2&&(r=ga(e),r!==0&&(o=r,t=Ba(e,r))),t===1)throw n=or,kn(e,0),Xt(e,o),Ge(e,ve()),n;if(t===6)Xt(e,o);else{if(r=e.current.alternate,!(o&30)&&!Yg(r)&&(t=As(e,o),t===2&&(s=ga(e),s!==0&&(o=s,t=Ba(e,s))),t===1))throw n=or,kn(e,0),Xt(e,o),Ge(e,ve()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(V(345));case 2:gn(e,ze,Nt);break;case 3:if(Xt(e,o),(o&130023424)===o&&(t=Li+500-ve(),10<t)){if(cs(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Ue(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=wa(gn.bind(null,e,ze,Nt),t);break}gn(e,ze,Nt);break;case 4:if(Xt(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-mt(o);s=1<<l,l=t[l],l>r&&(r=l),o&=~s}if(o=r,o=ve()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Gg(o/1960))-o,10<o){e.timeoutHandle=wa(gn.bind(null,e,ze,Nt),o);break}gn(e,ze,Nt);break;case 5:gn(e,ze,Nt);break;default:throw Error(V(329))}}}return Ge(e,ve()),e.callbackNode===n?_p.bind(null,e):null}function Ba(e,t){var n=Lo;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=As(e,t),e!==2&&(t=ze,ze=n,t!==null&&Fa(t)),e}function Fa(e){ze===null?ze=e:ze.push.apply(ze,e)}function Yg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],s=r.getSnapshot;r=r.value;try{if(!ht(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~ji,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),o=1<<n;e[n]=-1,t&=~o}}function lu(e){if(oe&6)throw Error(V(327));to();var t=cs(e,0);if(!(t&1))return Ge(e,ve()),null;var n=As(e,t);if(e.tag!==0&&n===2){var o=ga(e);o!==0&&(t=o,n=Ba(e,o))}if(n===1)throw n=or,kn(e,0),Xt(e,t),Ge(e,ve()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,ze,Nt),Ge(e,ve()),null}function Ui(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(io=ve()+500,Xs&&dn())}}function Rn(e){Jt!==null&&Jt.tag===0&&!(oe&6)&&to();var t=oe;oe|=1;var n=rt.transition,o=se;try{if(rt.transition=null,se=1,e)return e()}finally{se=o,rt.transition=n,oe=t,!(oe&6)&&dn()}}function Vi(){Ke=Kn.current,ue(Kn)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pg(n)),ke!==null)for(n=ke.return;n!==null;){var o=n;switch(yi(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ms();break;case 3:lo(),ue(Be),ue(je),Ri();break;case 5:Ai(o);break;case 4:lo();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:wi(o.type._context);break;case 22:case 23:Vi()}n=n.return}if(Ce=e,ke=e=rn(e.current,null),Ne=Ke=t,Pe=0,or=null,ji=qs=An=0,ze=Lo=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,s=n.pending;if(s!==null){var l=s.next;s.next=r,o.next=l}n.pending=o}xn=null}return e}function Op(e,t){do{var n=ke;try{if(Pi(),Jr.current=ws,Ps){for(var o=me.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Ps=!1}if(Tn=0,Ee=Se=me=null,Oo=!1,er=0,Oi.current=null,n===null||n.return===null){Pe=1,or=t,ke=null;break}e:{var s=e,l=n.return,i=n,c=t;if(t=Ne,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Kc(l);if(x!==null){x.flags&=-257,Xc(x,l,i,s,t),x.mode&1&&Yc(s,u,t),t=x,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){Yc(s,u,t),Hi();break e}c=Error(V(426))}}else if(pe&&i.mode&1){var S=Kc(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Xc(S,l,i,s,t),ki(ao(c,i));break e}}s=c=ao(c,i),Pe!==4&&(Pe=2),Lo===null?Lo=[s]:Lo.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=xp(s,c,t);Hc(s,m);break e;case 1:i=c;var d=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(nn===null||!nn.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=yp(s,i,t);Hc(s,C);break e}}s=s.return}while(s!==null)}Up(n)}catch(P){t=P,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function jp(){var e=Es.current;return Es.current=ws,e===null?ws:e}function Hi(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ce===null||!(An&268435455)&&!(qs&268435455)||Xt(Ce,Ne)}function As(e,t){var n=oe;oe|=2;var o=jp();(Ce!==e||Ne!==t)&&(Nt=null,kn(e,t));do try{Kg();break}catch(r){Op(e,r)}while(!0);if(Pi(),oe=n,Es.current=o,ke!==null)throw Error(V(261));return Ce=null,Ne=0,Pe}function Kg(){for(;ke!==null;)Lp(ke)}function Xg(){for(;ke!==null&&!ym();)Lp(ke)}function Lp(e){var t=Hp(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Up(e):ke=t,Oi.current=null}function Up(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zg(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,ke=null;return}}else if(n=Hg(n,t,Ke),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Pe===0&&(Pe=5)}function gn(e,t,n){var o=se,r=rt.transition;try{rt.transition=null,se=1,Wg(e,t,n,o)}finally{rt.transition=r,se=o}return null}function Wg(e,t,n,o){do to();while(Jt!==null);if(oe&6)throw Error(V(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Nm(e,s),e===Ce&&(ke=Ce=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lr||(Lr=!0,zp(is,function(){return to(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rt.transition,rt.transition=null;var l=se;se=1;var i=oe;oe|=4,Oi.current=null,Bg(e,n),Ip(n,e),gg(Sa),us=!!ka,Sa=ka=null,e.current=n,Fg(n),km(),oe=i,se=l,rt.transition=s}else e.current=n;if(Lr&&(Lr=!1,Jt=e,Ts=r),s=e.pendingLanes,s===0&&(nn=null),wm(n.stateNode),Ge(e,ve()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Cs)throw Cs=!1,e=za,za=null,e;return Ts&1&&e.tag!==0&&to(),s=e.pendingLanes,s&1?e===$a?Uo++:(Uo=0,$a=e):Uo=0,dn(),null}function to(){if(Jt!==null){var e=xd(Ts),t=rt.transition,n=se;try{if(rt.transition=null,se=16>e?16:e,Jt===null)var o=!1;else{if(e=Jt,Jt=null,Ts=0,oe&6)throw Error(V(331));var r=oe;for(oe|=4,K=e.current;K!==null;){var s=K,l=s.child;if(K.flags&16){var i=s.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(K=u;K!==null;){var p=K;switch(p.tag){case 0:case 11:case 15:jo(8,p,s)}var f=p.child;if(f!==null)f.return=p,K=f;else for(;K!==null;){p=K;var g=p.sibling,x=p.return;if(Np(p),p===u){K=null;break}if(g!==null){g.return=x,K=g;break}K=x}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}K=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,K=l;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,K=m;break e}K=s.return}}var d=e.current;for(K=d;K!==null;){l=K;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,K=h;else e:for(l=d;K!==null;){if(i=K,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Qs(9,i)}}catch(P){he(i,i.return,P)}if(i===l){K=null;break e}var C=i.sibling;if(C!==null){C.return=i.return,K=C;break e}K=i.return}}if(oe=r,dn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Bs,e)}catch{}o=!0}return o}finally{se=n,rt.transition=t}}return!1}function au(e,t,n){t=ao(n,t),t=xp(e,t,1),e=tn(e,t,1),t=Ue(),e!==null&&(ur(e,1,t),Ge(e,t))}function he(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nn===null||!nn.has(o))){e=ao(n,e),e=yp(t,e,1),t=tn(t,e,1),e=Ue(),t!==null&&(ur(t,1,e),Ge(t,e));break}}t=t.return}}function Jg(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Ne&n)===n&&(Pe===4||Pe===3&&(Ne&130023424)===Ne&&500>ve()-Li?kn(e,0):ji|=n),Ge(e,t)}function Vp(e,t){t===0&&(e.mode&1?(t=Ar,Ar<<=1,!(Ar&130023424)&&(Ar=4194304)):t=1);var n=Ue();e=Lt(e,t),e!==null&&(ur(e,t,n),Ge(e,n))}function Qg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vp(e,n)}function qg(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(V(314))}o!==null&&o.delete(t),Vp(e,n)}var Hp;Hp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,Vg(e,t,n);$e=!!(e.flags&131072)}else $e=!1,pe&&t.flags&1048576&&Fd(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;qr(e,t),e=t.pendingProps;var r=oo(t,je.current);eo(t,n),r=Mi(null,t,o,e,r,n);var s=Di();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(o)?(s=!0,gs(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ci(t),r.updater=Js,t.stateNode=r,r._reactInternals=t,Ma(t,o,e,n),t=ba(null,t,o,!0,s,n)):(t.tag=0,pe&&s&&xi(t),Le(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(qr(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=e1(o),e=ct(o,e),r){case 0:t=Ia(null,t,o,e,n);break e;case 1:t=Qc(null,t,o,e,n);break e;case 11:t=Wc(null,t,o,e,n);break e;case 14:t=Jc(null,t,o,ct(o.type,e),n);break e}throw Error(V(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:ct(o,r),Ia(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:ct(o,r),Qc(e,t,o,r,n);case 3:e:{if(wp(t),e===null)throw Error(V(387));o=t.pendingProps,s=t.memoizedState,r=s.element,Jd(e,t),ks(t,o,null,n);var l=t.memoizedState;if(o=l.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=ao(Error(V(423)),t),t=qc(e,t,o,n,r);break e}else if(o!==r){r=ao(Error(V(424)),t),t=qc(e,t,o,n,r);break e}else for(Xe=en(t.stateNode.containerInfo.firstChild),We=t,pe=!0,dt=null,n=Xd(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),o===r){t=Ut(e,t,n);break e}Le(e,t,o,n)}t=t.child}return t;case 5:return Qd(t),e===null&&Aa(t),o=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,l=r.children,Pa(o,r)?l=null:s!==null&&Pa(o,s)&&(t.flags|=32),Pp(e,t),Le(e,t,l,n),t.child;case 6:return e===null&&Aa(t),null;case 13:return Ep(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=so(t,null,o,n):Le(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:ct(o,r),Wc(e,t,o,r,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,s=t.memoizedProps,l=r.value,ie(xs,o._currentValue),o._currentValue=l,s!==null)if(ht(s.value,l)){if(s.children===r.children&&!Be.current){t=Ut(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){l=s.child;for(var c=i.firstContext;c!==null;){if(c.context===o){if(s.tag===1){c=_t(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Ra(s.return,n,t),i.lanes|=n;break}c=c.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(V(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Ra(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Le(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,eo(t,n),r=st(r),o=o(r),t.flags|=1,Le(e,t,o,n),t.child;case 14:return o=t.type,r=ct(o,t.pendingProps),r=ct(o.type,r),Jc(e,t,o,r,n);case 15:return kp(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:ct(o,r),qr(e,t),t.tag=1,Fe(o)?(e=!0,gs(t)):e=!1,eo(t,n),vp(t,o,r),Ma(t,o,r,n),ba(null,t,o,!0,e,n);case 19:return Cp(e,t,n);case 22:return Sp(e,t,n)}throw Error(V(156,t.tag))};function zp(e,t){return md(e,t)}function Zg(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,o){return new Zg(e,t,n,o)}function zi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e1(e){if(typeof e=="function")return zi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===li)return 11;if(e===ai)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,o,r,s){var l=2;if(o=e,typeof e=="function")zi(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ln:return Sn(n.children,r,s,t);case si:l=8,r|=8;break;case ea:return e=ot(12,n,t,r|2),e.elementType=ea,e.lanes=s,e;case ta:return e=ot(13,n,t,r),e.elementType=ta,e.lanes=s,e;case na:return e=ot(19,n,t,r),e.elementType=na,e.lanes=s,e;case Qu:return Zs(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wu:l=10;break e;case Ju:l=9;break e;case li:l=11;break e;case ai:l=14;break e;case Gt:l=16,o=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=ot(l,n,t,r),t.elementType=e,t.type=o,t.lanes=s,t}function Sn(e,t,n,o){return e=ot(7,e,o,t),e.lanes=n,e}function Zs(e,t,n,o){return e=ot(22,e,o,t),e.elementType=Qu,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function zl(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t1(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $i(e,t,n,o,r,s,l,i,c){return e=new t1(e,t,n,i,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ot(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ci(s),e}function n1(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function $p(e){if(!e)return an;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Fe(n))return $d(e,n,t)}return t}function Bp(e,t,n,o,r,s,l,i,c){return e=$i(n,o,!0,e,r,s,l,i,c),e.context=$p(null),n=e.current,o=Ue(),r=on(n),s=_t(o,r),s.callback=t??null,tn(n,s,r),e.current.lanes=r,ur(e,r,o),Ge(e,o),e}function el(e,t,n,o){var r=t.current,s=Ue(),l=on(r);return n=$p(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(s,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=tn(r,t,l),e!==null&&(gt(e,r,l,s),Wr(e,r,l)),l}function Rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bi(e,t){iu(e,t),(e=e.alternate)&&iu(e,t)}function o1(){return null}var Fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fi(e){this._internalRoot=e}tl.prototype.render=Fi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));el(e,t,null,null)};tl.prototype.unmount=Fi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){el(null,e,null,null)}),t[jt]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kt.length&&t!==0&&t<Kt[n].priority;n++);Kt.splice(n,0,e),n===0&&wd(e)}};function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cu(){}function r1(e,t,n,o,r){if(r){if(typeof o=="function"){var s=o;o=function(){var u=Rs(l);s.call(u)}}var l=Bp(t,o,e,0,null,!1,!1,"",cu);return e._reactRootContainer=l,e[jt]=l.current,Wo(e.nodeType===8?e.parentNode:e),Rn(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var i=o;o=function(){var u=Rs(c);i.call(u)}}var c=$i(e,0,!1,null,null,!1,!1,"",cu);return e._reactRootContainer=c,e[jt]=c.current,Wo(e.nodeType===8?e.parentNode:e),Rn(function(){el(t,c,n,o)}),c}function ol(e,t,n,o,r){var s=n._reactRootContainer;if(s){var l=s;if(typeof r=="function"){var i=r;r=function(){var c=Rs(l);i.call(c)}}el(t,l,e,r)}else l=r1(n,t,e,r,o);return Rs(l)}yd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ro(t.pendingLanes);n!==0&&(ui(t,n|1),Ge(t,ve()),!(oe&6)&&(io=ve()+500,dn()))}break;case 13:Rn(function(){var o=Lt(e,1);if(o!==null){var r=Ue();gt(o,e,1,r)}}),Bi(e,1)}};di=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=Ue();gt(t,e,134217728,n)}Bi(e,134217728)}};kd=function(e){if(e.tag===13){var t=on(e),n=Lt(e,t);if(n!==null){var o=Ue();gt(n,e,t,o)}Bi(e,t)}};Sd=function(){return se};Pd=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};pa=function(e,t,n){switch(t){case"input":if(sa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Ks(o);if(!r)throw Error(V(90));Zu(o),sa(o,r)}}}break;case"textarea":td(e,n);break;case"select":t=n.value,t!=null&&Jn(e,!!n.multiple,t,!1)}};id=Ui;cd=Rn;var s1={usingClientEntryPoint:!1,Events:[pr,zn,Ks,ld,ad,Ui]},Eo={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l1={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pd(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||o1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{Bs=Ur.inject(l1),Ct=Ur}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s1;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gi(t))throw Error(V(200));return n1(e,t,null,n)};Qe.createRoot=function(e,t){if(!Gi(e))throw Error(V(299));var n=!1,o="",r=Fp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=$i(e,1,!1,null,null,n,!1,o,r),e[jt]=t.current,Wo(e.nodeType===8?e.parentNode:e),new Fi(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=pd(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return Rn(e)};Qe.hydrate=function(e,t,n){if(!nl(t))throw Error(V(200));return ol(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!Gi(e))throw Error(V(405));var o=n!=null&&n.hydratedSources||null,r=!1,s="",l=Fp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Bp(t,null,e,1,n??null,r,!1,s,l),e[jt]=t.current,Wo(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new tl(t)};Qe.render=function(e,t,n){if(!nl(t))throw Error(V(200));return ol(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!nl(e))throw Error(V(40));return e._reactRootContainer?(Rn(function(){ol(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Ui;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!nl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return ol(e,t,n,!1,o)};Qe.version="18.3.1-next-f1338f8080-20240426";function Gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gp)}catch(e){console.error(e)}}Gp(),Gu.exports=Qe;var mr=Gu.exports,uu=mr;ql.createRoot=uu.createRoot,ql.hydrateRoot=uu.hydrateRoot;const a1={},du=e=>{let t;const n=new Set,o=(p,f)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const x=t;t=f??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(y=>y(t,x))}},r=()=>t,c={setState:o,getState:r,getInitialState:()=>u,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(a1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(o,r,c);return c},i1=e=>e?du(e):du;var Yp={exports:{}},Kp={},Xp={exports:{}},Wp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=w;function c1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u1=typeof Object.is=="function"?Object.is:c1,d1=co.useState,p1=co.useEffect,f1=co.useLayoutEffect,m1=co.useDebugValue;function g1(e,t){var n=t(),o=d1({inst:{value:n,getSnapshot:t}}),r=o[0].inst,s=o[1];return f1(function(){r.value=n,r.getSnapshot=t,$l(r)&&s({inst:r})},[e,n,t]),p1(function(){return $l(r)&&s({inst:r}),e(function(){$l(r)&&s({inst:r})})},[e]),m1(n),n}function $l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!u1(e,n)}catch{return!0}}function h1(e,t){return t()}var v1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h1:g1;Wp.useSyncExternalStore=co.useSyncExternalStore!==void 0?co.useSyncExternalStore:v1;Xp.exports=Wp;var x1=Xp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=w,y1=x1;function k1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var S1=typeof Object.is=="function"?Object.is:k1,P1=y1.useSyncExternalStore,w1=rl.useRef,E1=rl.useEffect,C1=rl.useMemo,T1=rl.useDebugValue;Kp.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var s=w1(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=C1(function(){function c(x){if(!u){if(u=!0,p=x,x=o(x),r!==void 0&&l.hasValue){var y=l.value;if(r(y,x))return f=y}return f=x}if(y=f,S1(p,x))return y;var v=o(x);return r!==void 0&&r(y,v)?(p=x,y):(p=x,f=v)}var u=!1,p,f,g=n===void 0?null:n;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,n,o,r]);var i=P1(e,s[0],s[1]);return E1(function(){l.hasValue=!0,l.value=i},[i]),T1(i),i};Yp.exports=Kp;var A1=Yp.exports;const R1=Qa(A1),Jp={},{useDebugValue:N1}=be,{useSyncExternalStoreWithSelector:M1}=R1;let pu=!1;const D1=e=>e;function I1(e,t=D1,n){(Jp?"production":void 0)!=="production"&&n&&!pu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pu=!0);const o=M1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return N1(o),o}const fu=e=>{(Jp?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?i1(e):e,n=(o,r)=>I1(t,o,r);return Object.assign(n,t),n},At=e=>e?fu(e):fu,b1={};function _1(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var s;const l=c=>c===null?null:JSON.parse(c,void 0),i=(s=n.getItem(r))!=null?s:null;return i instanceof Promise?i.then(l):l(i)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const rr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(o){return rr(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return rr(o)(n)}}}},O1=(e,t)=>(n,o,r)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,m)=>({...m,...S}),...t},l=!1;const i=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},o,r);const p=rr(s.serialize),f=()=>{const S=s.partialize({...o()});let m;const d=p({state:S,version:s.version}).then(h=>u.setItem(s.name,h)).catch(h=>{m=h});if(m)throw m;return d},g=r.setState;r.setState=(S,m)=>{g(S,m),f()};const x=e((...S)=>{n(...S),f()},o,r);let y;const v=()=>{var S;if(!u)return;l=!1,i.forEach(d=>d(o()));const m=((S=s.onRehydrateStorage)==null?void 0:S.call(s,o()))||void 0;return rr(u.getItem.bind(u))(s.name).then(d=>{if(d)return s.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==s.version){if(s.migrate)return s.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var h;return y=s.merge(d,(h=o())!=null?h:x),n(y,!0),f()}).then(()=>{m==null||m(y,void 0),l=!0,c.forEach(d=>d(y))}).catch(d=>{m==null||m(void 0,d)})};return r.persist={setOptions:S=>{s={...s,...S},S.getStorage&&(u=S.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>l,onHydrate:S=>(i.add(S),()=>{i.delete(S)}),onFinishHydration:S=>(c.add(S),()=>{c.delete(S)})},v(),y||x},j1=(e,t)=>(n,o,r)=>{let s={storage:_1(()=>localStorage),partialize:v=>v,version:0,merge:(v,S)=>({...S,...v}),...t},l=!1;const i=new Set,c=new Set;let u=s.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},o,r);const p=()=>{const v=s.partialize({...o()});return u.setItem(s.name,{state:v,version:s.version})},f=r.setState;r.setState=(v,S)=>{f(v,S),p()};const g=e((...v)=>{n(...v),p()},o,r);r.getInitialState=()=>g;let x;const y=()=>{var v,S;if(!u)return;l=!1,i.forEach(d=>{var h;return d((h=o())!=null?h:g)});const m=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(v=o())!=null?v:g))||void 0;return rr(u.getItem.bind(u))(s.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==s.version){if(s.migrate)return[!0,s.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var h;const[C,P]=d;if(x=s.merge(P,(h=o())!=null?h:g),n(x,!0),C)return p()}).then(()=>{m==null||m(x,void 0),x=o(),l=!0,c.forEach(d=>d(x))}).catch(d=>{m==null||m(void 0,d)})};return r.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:v=>(i.add(v),()=>{i.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},s.skipHydration||y(),x||g},L1=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((b1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),O1(e,t)):j1(e,t),gr=L1,Qp=At()(gr(e=>({isExpanded:!0,currentView:"prompt",toggleExpanded:()=>e(t=>({isExpanded:!t.isExpanded})),setExpanded:t=>e({isExpanded:t}),setCurrentView:t=>e({currentView:t})}),{name:"currentView",partialize:e=>({currentView:e.currentView})}));let Bl=null;const U1=async()=>{if(Bl)return Bl;try{const e=await fetch(chrome.runtime.getURL("themes.json"));if(!e.ok)throw new Error(`Failed to load themes: ${e.statusText}`);const t=await e.json();return Bl=t,t}catch(e){return console.error("[ThemeLoader] Error loading themes:",e),V1()}},V1=()=>({dark:{BACKGROUND_DARK:"#1a1a1a",BACKGROUND_MEDIUM:"#2a2a2a",BACKGROUND_LIGHT:"#3a3a3a",TEXT_PRIMARY:"#fff",TEXT_SECONDARY:"#b0b0b0",TEXT_HOVER:"#d0d0d0",SHADOW:"rgba(0,0,0,0.4)",BORDER:"rgba(255, 255, 255, 0.2)",SUCCESS:"#10b981",DANGER:"#ef4444",PROGRESS_BAR:"rgba(255, 255, 255, 0.5)",GLOW_PRIMARY:"rgba(255, 255, 255, 0.6)",GLOW_SECONDARY:"rgba(255, 255, 255, 0.4)",GLOW_HOVER_PRIMARY:"rgba(255, 255, 255, 0.8)",GLOW_HOVER_SECONDARY:"rgba(255, 255, 255, 0.6)"},light:{BACKGROUND_DARK:"#f5f5f5",BACKGROUND_MEDIUM:"#ffffff",BACKGROUND_LIGHT:"#e8e8e8",TEXT_PRIMARY:"#1a1a1a",TEXT_SECONDARY:"#666666",TEXT_HOVER:"#333333",SHADOW:"rgba(0,0,0,0.15)",BORDER:"rgba(0, 0, 0, 0.2)",SUCCESS:"#059669",DANGER:"#ef4444",PROGRESS_BAR:"rgba(0, 0, 0, 0.3)",GLOW_PRIMARY:"rgba(0, 0, 0, 0.4)",GLOW_SECONDARY:"rgba(0, 0, 0, 0.2)",GLOW_HOVER_PRIMARY:"rgba(0, 0, 0, 0.5)",GLOW_HOVER_SECONDARY:"rgba(0, 0, 0, 0.3)"},dracula:{BACKGROUND_DARK:"#282a36",BACKGROUND_MEDIUM:"#44475a",BACKGROUND_LIGHT:"#6272a4",TEXT_PRIMARY:"#f8f8f2",TEXT_SECONDARY:"#bd93f9",TEXT_HOVER:"#ff79c6",SHADOW:"rgba(0,0,0,0.5)",BORDER:"rgba(189, 147, 249, 0.3)",SUCCESS:"#50fa7b",DANGER:"#ef4444",PROGRESS_BAR:"rgba(255, 255, 255, 1)",GLOW_PRIMARY:"rgba(80, 250, 123, 0.6)",GLOW_SECONDARY:"rgba(139, 233, 253, 0.4)",GLOW_HOVER_PRIMARY:"rgba(80, 250, 123, 0.8)",GLOW_HOVER_SECONDARY:"rgba(139, 233, 253, 0.6)"},winamp:{BACKGROUND_DARK:"#0C1821",BACKGROUND_MEDIUM:"#1B4965",BACKGROUND_LIGHT:"#2E8B95",TEXT_PRIMARY:"#00FF00",TEXT_SECONDARY:"#5FE3B2",TEXT_HOVER:"#00FFFF",SHADOW:"rgba(0,0,0,0.6)",BORDER:"rgba(95, 227, 178, 0.4)",SUCCESS:"#00FF00",DANGER:"#ef4444",PROGRESS_BAR:"rgba(255, 165, 0, 1)",GLOW_PRIMARY:"rgba(0, 255, 0, 0.6)",GLOW_SECONDARY:"rgba(255, 165, 0, 0.4)",GLOW_HOVER_PRIMARY:"rgba(0, 255, 0, 0.8)",GLOW_HOVER_SECONDARY:"rgba(255, 165, 0, 0.6)"},limewire:{BACKGROUND_DARK:"#0a0a0a",BACKGROUND_MEDIUM:"#1a1a1a",BACKGROUND_LIGHT:"#2d2d2d",TEXT_PRIMARY:"#8FD14F",TEXT_SECONDARY:"#6FB02B",TEXT_HOVER:"#B4E87A",SHADOW:"rgba(0,0,0,0.7)",BORDER:"rgba(143, 209, 79, 0.3)",SUCCESS:"#8FD14F",DANGER:"#ef4444",PROGRESS_BAR:"rgba(143, 209, 79, 1)",GLOW_PRIMARY:"rgba(143, 209, 79, 0.6)",GLOW_SECONDARY:"rgba(111, 176, 43, 0.4)",GLOW_HOVER_PRIMARY:"rgba(143, 209, 79, 0.8)",GLOW_HOVER_SECONDARY:"rgba(111, 176, 43, 0.6)"},steam:{BACKGROUND_DARK:"#171a21",BACKGROUND_MEDIUM:"#1b2838",BACKGROUND_LIGHT:"#2a475e",TEXT_PRIMARY:"#c7d5e0",TEXT_SECONDARY:"#8f98a0",TEXT_HOVER:"#ffffff",SHADOW:"rgba(0,0,0,0.6)",BORDER:"rgba(102, 192, 244, 0.3)",SUCCESS:"#5cb85c",DANGER:"#ef4444",PROGRESS_BAR:"rgba(102, 192, 244, 1)",GLOW_PRIMARY:"rgba(102, 192, 244, 0.6)",GLOW_SECONDARY:"rgba(103, 193, 245, 0.4)",GLOW_HOVER_PRIMARY:"rgba(102, 192, 244, 0.8)",GLOW_HOVER_SECONDARY:"rgba(103, 193, 245, 0.6)"}}),H1={tiny:.7,small:.85,medium:1,large:1.15},re=At()(gr((e,t)=>({theme:"dark",size:"medium",autoDownload:!1,rememberPostState:!0,simpleShortcut:!1,hideUnsave:!1,enableThePit:!1,enableSound:!0,confirmCopyFrom:!0,globalPromptAddonEnabled:!1,globalPromptAddon:"",listLimit:100,collapseSections:!0,navigatePostsWithArrows:!1,panelPosition:null,themes:{},loadThemes:async()=>{const n=await U1();e({themes:n})},setTheme:n=>e({theme:n}),setSize:n=>e({size:n}),setAutoDownload:n=>e({autoDownload:n}),setRememberPostState:n=>e({rememberPostState:n}),setSimpleShortcut:n=>e({simpleShortcut:n}),setHideUnsave:n=>e({hideUnsave:n}),setEnableThePit:n=>e({enableThePit:n}),setEnableSound:n=>e({enableSound:n}),setConfirmCopyFrom:n=>e({confirmCopyFrom:n}),setGlobalPromptAddonEnabled:n=>e({globalPromptAddonEnabled:n}),setGlobalPromptAddon:n=>e({globalPromptAddon:n}),setListLimit:n=>e({listLimit:n}),setCollapseSections:n=>e({collapseSections:n}),setNavigatePostsWithArrows:n=>e({navigatePostsWithArrows:n}),setPanelPosition:n=>e({panelPosition:n}),getThemeColors:()=>{const{theme:n,themes:o}=t();return o[n]||o.dark||{}},getScale:()=>{const{size:n}=t();return H1[n]}}),{name:"imaginegodmode-settings",partialize:e=>({theme:e.theme,size:e.size,autoDownload:e.autoDownload,rememberPostState:e.rememberPostState,simpleShortcut:e.simpleShortcut,hideUnsave:e.hideUnsave,enableThePit:e.enableThePit,enableSound:e.enableSound,confirmCopyFrom:e.confirmCopyFrom,globalPromptAddonEnabled:e.globalPromptAddonEnabled,globalPromptAddon:e.globalPromptAddon,listLimit:e.listLimit,collapseSections:e.collapseSections,navigatePostsWithArrows:e.navigatePostsWithArrows,panelPosition:e.panelPosition})})),z1=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),$1=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let t="";for(let n=0;n<88;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},B1=100,Yi=async e=>{console.log("[ImagineGodMode API] Fetching post:",e,"URL:",Pn.POST_GET);const t=await fetch(Pn.POST_GET,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({id:e}),credentials:"include"});if(console.log("[ImagineGodMode API] Response status:",t.status,t.statusText),!t.ok){const o=await t.text();throw console.error("[ImagineGodMode API] Error response:",o),new Error(`HTTP ${t.status}: ${o}`)}const n=await t.json();return console.log("[ImagineGodMode API] Success:",n),n},hr=async(e=B1)=>{console.log("[ImagineGodMode API] Fetching liked posts, limit:",e);const t=await fetch(Pn.POST_LIST,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({limit:e,filter:{source:"MEDIA_POST_SOURCE_LIKED"}}),credentials:"include"});if(console.log("[ImagineGodMode API] Liked posts response status:",t.status,t.statusText),!t.ok){const o=await t.text();throw console.error("[ImagineGodMode API] Error response:",o),new Error(`HTTP ${t.status}: ${o}`)}const n=await t.json();return console.log("[ImagineGodMode API] Liked posts success:",n),n},F1=async e=>{console.log("[ImagineGodMode API] Liking post:",e);try{const t=await fetch(Pn.POST_LIKE,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({id:e}),credentials:"include"});if(!t.ok){const o=await t.text();return console.error("[ImagineGodMode API] Like error:",o),{success:!1,error:`HTTP ${t.status}: ${o}`}}const n=await t.json().catch(()=>({}));return console.log("[ImagineGodMode API] Like success:",n),{success:!0}}catch(t){const n=t instanceof Error?t.message:"Unknown error";return console.error("[ImagineGodMode API] Like exception:",n),{success:!1,error:n}}},Ga=async e=>{console.log("[ImagineGodMode API] Unliking post:",e);try{const t=await fetch(Pn.POST_UNLIKE,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({id:e}),credentials:"include"});if(!t.ok){const o=await t.text();return console.error("[ImagineGodMode API] Unlike error:",o),{success:!1,error:`HTTP ${t.status}: ${o}`}}const n=await t.json().catch(()=>({}));return console.log("[ImagineGodMode API] Unlike success:",n),{success:!0}}catch(t){const n=t instanceof Error?t.message:"Unknown error";return console.error("[ImagineGodMode API] Unlike exception:",n),{success:!1,error:n}}},G1=async e=>{const t=await fetch(Pn.VIDEO_UPSCALE,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({videoId:e})});if(!t.ok)throw new Error(`Upscale HTTP ${t.status}`);const n=await t.json().catch(()=>null);return console.log("[ImagineGodMode] Upscale response for",e,n),n},Y1=async(e,t,n="1:1",o=6)=>{var v,S,m;console.log("[ImagineGodMode API] Generating video:",{parentPostId:e,prompt:t,aspectRatio:n,videoLength:o});const s=`${`https://imagine-public.x.ai/imagine-public/share-images/${e}.png`}  ${t}`,l=z1(),i=$1(),c=await fetch(Pn.VIDEO_GENERATE,{method:"POST",headers:{accept:"*/*","content-type":"application/json","x-statsig-id":i,"x-xai-request-id":l},body:JSON.stringify({temporary:!0,modelName:"grok-3",message:s,toolOverrides:{videoGen:!0},responseMetadata:{experiments:[],modelConfigOverride:{modelMap:{videoGenModelConfig:{parentPostId:e,aspectRatio:n,videoLength:o}}}}}),credentials:"include"});if(console.log("[ImagineGodMode API] Video generation response status:",c.status,c.statusText),!c.ok){const d=await c.text();throw console.error("[ImagineGodMode API] Video generation error:",d),new Error(`HTTP ${c.status}: ${d}`)}const u=(v=c.body)==null?void 0:v.getReader();if(!u)throw new Error("Failed to get response body reader");const p=new TextDecoder;let f=!1,g,x=0,y="";try{for(;;){const{done:d,value:h}=await u.read();if(d){console.log("[ImagineGodMode API] Stream completed");break}const C=p.decode(h,{stream:!0});y+=C;const P=`[${y.replace(/\}\{/g,"},{")}]`;let T=[];try{T=JSON.parse(P)}catch{continue}for(const k of T){const E=(m=(S=k==null?void 0:k.result)==null?void 0:S.response)==null?void 0:m.streamingVideoGenerationResponse;if(E){g=E.videoId;const I=E.progress;if(console.log("[ImagineGodMode API] Video generation progress:",I+"%","videoId:",g),E.moderated===!0&&(f=!0,console.log("[ImagineGodMode API] Video was moderated at progress",I+"%:",g)),I>x&&(x=I),I>=100||f){console.log("[ImagineGodMode API] Stopping stream read - progress:",I+"%, moderated:",f),u.cancel();break}}}if(f||x>=100)break}}finally{u.releaseLock()}if(f)throw new Error(`Video generation was moderated/rejected (videoId: ${g})`);return console.log("[ImagineGodMode API] Video generation success:",{videoId:g,finalProgress:x,moderated:f}),{success:!0}},K1=()=>{var e;try{return!!((e=chrome==null?void 0:chrome.runtime)!=null&&e.id)}catch{return!1}},X1=async(e,t=3,n=100)=>{if(!K1())return console.warn("[ImagineGodMode] Extension context invalidated - cannot send message"),{success:!1,error:"Extension was reloaded or updated. Please refresh the page to continue."};for(let o=0;o<t;o++)try{return await we.runtime.sendMessage(e)}catch(r){const s=o===t-1,l=r instanceof Error?r.message:"Unknown error";if(l.includes("Extension context invalidated"))return console.warn("[ImagineGodMode] Extension context invalidated during message send"),{success:!1,error:"Extension was reloaded or updated. Please refresh the page to continue."};if(l.includes("Receiving end does not exist")&&!s){console.log(`[ImagineGodMode] Service worker inactive, retrying (${o+1}/${t})...`),await new Promise(i=>setTimeout(i,n*(o+1)));continue}return console.error("Failed to send message to background:",r),{success:!1,error:s?`${l}. Try reloading the extension or refreshing the page.`:l}}return{success:!1,error:"Failed after all retry attempts"}},qp=async e=>X1({type:"DOWNLOAD_MEDIA",data:{urls:e}}),sl=async e=>{try{return{success:!0,data:await Yi(e)}}catch(t){return console.error("[ImagineGodMode] Fetch failed:",t),{success:!1,error:t instanceof Error?t.message:"Failed to fetch post"}}},Zp=async e=>{try{return{success:!0,data:await G1(e)}}catch(t){return console.error("[ImagineGodMode] Upscale failed:",t),{success:!1,error:t instanceof Error?t.message:"Failed to upscale video"}}},mo=e=>{const t=[],n=[],o=[];let r=0;console.log("[ImagineGodMode] Processing post data:",e);const s=e.post;if(!s)return console.error("[ImagineGodMode] No post in response data"),{urls:[],videosToUpscale:[],hdVideoCount:0,mediaUrls:[]};Array.isArray(s.childPosts)&&s.childPosts.length>0?(console.log("[ImagineGodMode] Processing",s.childPosts.length,"child posts"),s.childPosts.forEach(i=>{const c=Of(i);if(c){t.push(c);const u=i.mediaType===tc.VIDEO,p=!!i.hdMediaUrl;o.push({url:c,type:u?"video":"image",isHD:u?p:void 0,id:i.id}),console.log("[ImagineGodMode] Added media:",{url:c,type:u?"video":"image",isHD:p})}i.mediaType===tc.VIDEO&&(!!i.hdMediaUrl?(r+=1,console.log("[ImagineGodMode] Found HD video:",i.id)):i.id&&(n.push(i.id),console.log("[ImagineGodMode] Video needs upscale:",i.id)))})):console.log("[ImagineGodMode] No child posts found");const l={urls:Array.from(new Set(t)),videosToUpscale:Array.from(new Set(n)),hdVideoCount:r,mediaUrls:o};return console.log("[ImagineGodMode] Processing complete:",l),l},mu={MIN_API_CALL:450,MAX_API_CALL:500},hn={FETCHING:"Fetching post data...",DOWNLOADING:"Downloading...",NO_VIDEOS:"No videos to upscale",NO_POST_ID:"No post ID found",FETCH_FAILED:"Failed to fetch post data",DOWNLOAD_FAILED:"Download failed",FETCH_LIKED_FAILED:"Failed to fetch liked posts",FOUND_MEDIA:(e,t)=>`Found ${e} media (${t} HD videos)`,DOWNLOADED:e=>`Downloaded ${e} files`,ADDED_TO_QUEUE:e=>`Added ${e} videos to queue`,PROCESSING_POSTS:e=>`Processing ${e} posts...`,ADDED_VIDEOS_TO_QUEUE:(e,t)=>`Added ${e} videos from ${t} posts to queue`,UNLIKED_POSTS:(e,t)=>`Unliked ${e} of ${t} posts`,RELIKED_POSTS:(e,t)=>`Re-liked ${e} of ${t} posts`,SAVED_TO_ARCHIVE:e=>`Saved ${e} unliked posts to archive`,REMOVED_FROM_ARCHIVE:e=>`Removed ${e} re-liked posts from archive`},On="[ImagineGodMode]",fn=e=>new Promise(t=>setTimeout(t,e)),gu=()=>mu.MIN_API_CALL+Math.random()*mu.MAX_API_CALL,W1=e=>{var t;return{id:e.id,prompt:e.prompt,thumbnailImageUrl:e.thumbnailImageUrl,mediaUrl:e.mediaUrl,unlikedAt:Date.now(),childPostCount:((t=e.childPosts)==null?void 0:t.length)||0}},Ya="grok-text-items",Vo="grok-prompt-prefixes",Ho="grok-post-states",Oe="grok-unliked-posts",xt=()=>{var e;try{return!!((e=chrome==null?void 0:chrome.runtime)!=null&&e.id)}catch{return!1}},J1=async()=>{if(!xt())return console.warn("[ImagineGodMode] Extension context invalidated - storage unavailable"),null;try{return(await we.storage.local.get(Ya))[Ya]||null}catch(e){return e instanceof Error&&e.message.includes("Extension context invalidated")?console.warn("[ImagineGodMode] Extension context invalidated during storage read"):console.error("Failed to get storage:",e),null}},Q1=async e=>{if(!xt())return!1;try{return await we.storage.local.set({[Ya]:e}),!0}catch(t){return t instanceof Error&&t.message.includes("Extension context invalidated")||console.error("Failed to set storage:",t),!1}},ef=(e,t)=>{const n={version:"1.0",exportDate:new Date().toISOString(),packName:e,prompts:t},o=JSON.stringify(n),r=btoa(unescape(encodeURIComponent(o))),s=new Blob([r],{type:"application/octet-stream"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l;const c=new Date().toISOString().split("T")[0],u=e.replace(/[^a-z0-9]/gi,"_");i.download=`imaginegodmode-pack-${u}-${c}.pak`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l)},q1=e=>{const t=Object.entries(e).map(([u,p])=>({packName:u,prompts:p})),n={version:"2.0",exportDate:new Date().toISOString(),packs:t},o=JSON.stringify(n),r=btoa(unescape(encodeURIComponent(o))),s=new Blob([r],{type:"application/octet-stream"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l;const c=new Date().toISOString().split("T")[0];i.download=`imaginegodmode-all-packs-${c}.pak`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l)},Z1=e=>{if(!e||typeof e!="object")return!1;const t=e;if(typeof t.version!="string"||typeof t.exportDate!="string"||typeof t.packName!="string"||t.packName.trim()===""||!Array.isArray(t.prompts))return!1;const n=t.prompts;for(const o of n){if(!o||typeof o!="object")return!1;const r=o;if(typeof r.text!="string"||typeof r.rating!="number"||r.rating<0||r.rating>5)return!1}return!0},eh=e=>{if(!e||typeof e!="object")return!1;const t=e;if(typeof t.version!="string"||typeof t.exportDate!="string"||!Array.isArray(t.packs))return!1;const n=t.packs;for(const o of n){if(!o||typeof o!="object")return!1;const r=o;if(typeof r.packName!="string"||r.packName.trim()===""||!Array.isArray(r.prompts))return!1;const s=r.prompts;for(const l of s){if(!l||typeof l!="object")return!1;const i=l;if(typeof i.text!="string"||typeof i.rating!="number"||i.rating<0||i.rating>5)return!1}}return!0},th=e=>{try{const t=decodeURIComponent(escape(atob(e)));return JSON.parse(t)}catch{throw new Error("Invalid base64 or JSON format")}},nh=(e,t,n)=>new Promise(o=>{const r=new FileReader;r.onload=s=>{var l;try{const i=(l=s.target)==null?void 0:l.result;let c;if(e.name.endsWith(".pak"))try{c=th(i)}catch{o({success:!1,error:"Invalid .pak file format. File must contain base64 encoded JSON."});return}else try{c=JSON.parse(i)}catch{o({success:!1,error:"Invalid JSON format"});return}const u={...n};if(eh(c)){const p=[];let f=0;for(const g of c.packs)t==="replace"?(u[g.packName]=g.prompts,f++):u[g.packName]?p.push(g.packName):(u[g.packName]=g.prompts,f++);if(p.length>0&&t==="add"){o({success:!1,error:`${p.length} pack(s) already exist: ${p.join(", ")}. Use Replace mode to overwrite.`});return}o({success:!0,packs:u,importedCount:f})}else if(Z1(c)){if(t==="replace")u[c.packName]=c.prompts;else if(!u[c.packName])u[c.packName]=c.prompts;else{o({success:!1,error:`Pack "${c.packName}" already exists. Use Replace mode to overwrite.`});return}o({success:!0,packName:c.packName,prompts:c.prompts,packs:u,importedCount:1})}else o({success:!1,error:"Invalid file format"})}catch(i){o({success:!1,error:i instanceof Error?i.message:"Failed to parse file"})}},r.onerror=()=>{o({success:!1,error:"Failed to read file"})},r.readAsText(e)}),Ki=async e=>{if(!xt())return console.warn("[ImagineGodMode] Extension context invalidated - prefix storage unavailable"),"";try{return((await we.storage.local.get(Vo))[Vo]||{})[e]||""}catch(t){return console.error("Failed to get prefix:",t),""}},oh=async(e,t)=>{if(!xt())return!1;try{const o=(await we.storage.local.get(Vo))[Vo]||{};return o[e]=t,await we.storage.local.set({[Vo]:o}),!0}catch(n){return console.error("Failed to set prefix:",n),!1}},rh=async e=>{if(!xt())return console.warn("[ImagineGodMode] Extension context invalidated - post state storage unavailable"),null;try{return((await we.storage.local.get(Ho))[Ho]||{})[e]||null}catch(t){return console.error("Failed to get post state:",t),null}},sh=async(e,t)=>{if(!xt())return!1;try{const o=(await we.storage.local.get(Ho))[Ho]||{};return o[e]=t,await we.storage.local.set({[Ho]:o}),!0}catch(n){return console.error("Failed to set post state:",n),!1}},lh=async e=>{if(!xt())return!1;try{const n=(await we.storage.local.get(Oe))[Oe];if(n&&Array.isArray(n.posts)){console.log("[Storage] Migrating old unliked posts format to per-user format for userId:",e);const o={[e]:n.posts};return await we.storage.local.set({[Oe]:o}),console.log("[Storage] Migration completed. Migrated",n.posts.length,"posts to userId:",e),!0}return!1}catch(t){return console.error("[Storage] Failed to migrate unliked posts:",t),!1}},Ns=async e=>{if(!xt())return console.warn("[ImagineGodMode] Extension context invalidated - unliked posts storage unavailable"),[];if(!e)return console.warn("[Storage] No userId provided to getUnlikedPosts"),[];try{const n=(await we.storage.local.get(Oe))[Oe];return n&&Array.isArray(n.posts)?(await lh(e),((await we.storage.local.get(Oe))[Oe]||{})[e]||[]):(n||{})[e]||[]}catch(t){return console.error("Failed to get unliked posts:",t),[]}},tf=async(e,t)=>{if(!xt())return!1;if(!t)return console.warn("[Storage] No userId provided to addUnlikedPosts"),!1;try{const n=await Ns(t),o=new Set(n.map(c=>c.id)),r=e.filter(c=>!o.has(c.id));if(r.length===0)return!0;const s=[...n,...r],i=(await we.storage.local.get(Oe))[Oe]||{};return i[t]=s,await we.storage.local.set({[Oe]:i}),!0}catch(n){return console.error("Failed to add unliked posts:",n),!1}},ah=async(e,t)=>{if(!xt())return!1;if(!t)return console.warn("[Storage] No userId provided to removeUnlikedPosts"),!1;try{const n=await Ns(t),o=new Set(e),r=n.filter(i=>!o.has(i.id)),l=(await we.storage.local.get(Oe))[Oe]||{};return l[t]=r,await we.storage.local.set({[Oe]:l}),!0}catch(n){return console.error("Failed to remove unliked posts:",n),!1}},nf=async e=>{if(!xt())return!1;if(!e)return console.warn("[Storage] No userId provided to clearUnlikedPosts"),!1;try{const n=(await we.storage.local.get(Oe))[Oe]||{};return n[e]=[],await we.storage.local.set({[Oe]:n}),!0}catch(t){return console.error("Failed to clear unliked posts:",t),!1}},Ae=[];for(let e=0;e<256;++e)Ae.push((e+256).toString(16).slice(1));function ih(e,t=0){return(Ae[e[t+0]]+Ae[e[t+1]]+Ae[e[t+2]]+Ae[e[t+3]]+"-"+Ae[e[t+4]]+Ae[e[t+5]]+"-"+Ae[e[t+6]]+Ae[e[t+7]]+"-"+Ae[e[t+8]]+Ae[e[t+9]]+"-"+Ae[e[t+10]]+Ae[e[t+11]]+Ae[e[t+12]]+Ae[e[t+13]]+Ae[e[t+14]]+Ae[e[t+15]]).toLowerCase()}let Fl;const ch=new Uint8Array(16);function uh(){if(!Fl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fl=crypto.getRandomValues.bind(crypto)}return Fl(ch)}const dh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hu={randomUUID:dh};function ph(e,t,n){var r;e=e||{};const o=e.random??((r=e.rng)==null?void 0:r.call(e))??uh();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,ih(o)}function fh(e,t,n){return hu.randomUUID&&!e?hu.randomUUID():ph(e)}const mh="G-VQDV962F8P",gh="xR8FlDL2T6abvy3LcOWedA",hh=`https://www.google-analytics.com/mp/collect?measurement_id=${mh}&api_secret=${gh}`,vu="ga_client_id",Gl="ga_session_id",vh=30*60*1e3,of=()=>{let e=localStorage.getItem(vu);return e||(e=fh(),localStorage.setItem(vu,e)),e},xh=()=>{const e=Date.now(),t=localStorage.getItem(Gl);if(t)try{const{id:o,timestamp:r}=JSON.parse(t);if(e-r<vh)return localStorage.setItem(Gl,JSON.stringify({id:o,timestamp:e})),o}catch{}const n=Date.now().toString();return localStorage.setItem(Gl,JSON.stringify({id:n,timestamp:e})),n},yh=async e=>{try{const t=of(),n=xh(),o={client_id:t,events:e.map(r=>({name:r.name,params:{...r.params,session_id:n,engagement_time_msec:100}}))};await fetch(hh,{method:"POST",body:JSON.stringify(o)})}catch(t){console.error("[Analytics] Failed to send event:",t)}},kh=()=>{of(),ne("extension_loaded",{version:zs})},ne=(e,t)=>{yh([{name:e,params:t}])},Yl=()=>{ne("prompt_created")},xu=()=>{ne("prompt_edited")},Vr=()=>{ne("prompt_deleted")},Sh=e=>{ne("prompt_rated",{rating:e})},Ph=(e,t)=>{ne("prompt_searched",{query_length:e,result_count:t})},wh=()=>{ne("pack_created")},Hr=()=>{ne("pack_deleted")},Eh=e=>{ne("pack_switched")},Ch=e=>{ne("pack_exported",{prompt_count:e})},Th=(e,t)=>{ne("pack_imported",{import_mode:e,prompt_count:t})},yu=(e,t)=>{ne("media_downloaded",{count:e,media_type:t})},Ah=e=>{ne("auto_download_toggled",{enabled:e})},Rh=e=>{ne("remember_post_state_toggled",{enabled:e})},Nh=e=>{ne("simple_shortcut_toggled",{enabled:e})},Mh=e=>{ne("hide_unsave_toggled",{enabled:e})},Dh=e=>{ne("sound_toggled",{enabled:e})},Ih=e=>{ne("confirm_copy_from_toggled",{enabled:e})},bh=e=>{ne("theme_changed",{theme:e})},_h=e=>{ne("size_changed",{size:e})},Oh=e=>{ne("language_changed",{language:e})},Ms=()=>{ne("video_make_clicked")},ns=e=>{ne("modal_opened",{modal_type:e})},os=e=>{ne("modal_closed",{modal_type:e})},jh=()=>{ne("prompt_copied_to_clipboard")},zr=e=>{ne("prompt_navigated",{direction:e})},Lh=()=>{ne("prompt_copied_to_page")},ku=()=>{ne("prompt_copied_from_page")},rf=()=>{ne("make_and_next_clicked")},Ds=e=>{ne("bulk_select_all",{operation_type:e})},Is=e=>{ne("bulk_deselect_all",{operation_type:e})},bs=(e,t)=>{ne("bulk_operation_confirmed",{operation_type:e,item_count:t})},_s=(e,t)=>{ne("video_play_pause",{action:e,method:t})},sf=e=>{ne("video_fullscreen",{method:e})},$r=(e,t)=>{ne("keyboard_shortcut_used",{shortcut:e,action:t})},Ye=At((e,t)=>({packs:{Default:[{text:"",rating:0}]},packOrder:["Default"],currentPack:"Default",currentIndex:0,isLoading:!1,loadFromStorage:async()=>{e({isLoading:!0});const n=await J1();if(n&&n.packs&&typeof n.packs=="object"){const o=Object.keys(n.packs);if(o.length===0){e({isLoading:!1});return}const r=n.packs[n.currentPack]?n.currentPack:o[0];let s=n.packOrder||o;const l=o.filter(i=>!s.includes(i));l.length>0&&(s=[...s,...l]),s=s.filter(i=>o.includes(i)),e({packs:n.packs,packOrder:s,currentPack:r,currentIndex:n.currentIndex||0,isLoading:!1})}else e({isLoading:!1})},saveToStorage:async()=>{const{packs:n,packOrder:o,currentPack:r,currentIndex:s}=t();await Q1({packs:n,packOrder:o,currentPack:r,currentIndex:s})},setCurrentPack:n=>{e({currentPack:n,currentIndex:0}),t().saveToStorage(),Eh()},addPack:n=>{const{packs:o,packOrder:r}=t();if(!o){e({packs:{[n]:[{text:"",rating:0}]},packOrder:[n],currentPack:n,currentIndex:0}),t().saveToStorage();return}o[n]||(e({packs:{...o,[n]:[{text:"",rating:0}]},packOrder:[...r,n],currentPack:n,currentIndex:0}),t().saveToStorage(),wh())},deletePack:n=>{const{packs:o,packOrder:r,currentPack:s}=t();if(!o)return;if(Object.keys(o).length<=1){const p="Default";e({packs:{[p]:[{text:"",rating:0}]},packOrder:[p],currentPack:p,currentIndex:0}),t().saveToStorage(),Hr();return}const i={...o};delete i[n];const c=r.filter(p=>p!==n),u=s===n?c[0]:s;e({packs:i,packOrder:c,currentPack:u,currentIndex:0}),t().saveToStorage(),Hr()},deletePacksByNames:n=>{const{packs:o,packOrder:r,currentPack:s}=t();if(!o||n.length===0)return;const l=Object.keys(o);if(n.length>=l.length){const f="Default";e({packs:{[f]:[{text:"",rating:0}]},packOrder:[f],currentPack:f,currentIndex:0}),t().saveToStorage(),n.forEach(()=>Hr());return}const i=new Set(n),c={...o};n.forEach(f=>{delete c[f]});const u=r.filter(f=>!i.has(f)),p=i.has(s)?u[0]:s;e({packs:c,packOrder:u,currentPack:p,currentIndex:0}),t().saveToStorage(),n.forEach(()=>Hr())},renamePack:(n,o)=>{const{packs:r,packOrder:s,currentPack:l}=t();if(!r[n]||r[o]||!o.trim())return;const i={...r};i[o]=i[n],delete i[n];const c=s.map(u=>u===n?o:u);e({packs:i,packOrder:c,currentPack:l===n?o:l}),t().saveToStorage()},reorderPacks:n=>{e({packOrder:n}),t().saveToStorage()},clearAllPacks:()=>{e({packs:{Default:[{text:"",rating:0}]},packOrder:["Default"],currentPack:"Default",currentIndex:0}),t().saveToStorage()},setCurrentIndex:n=>{e({currentIndex:n}),t().saveToStorage()},addPrompt:()=>{const{packs:n,currentPack:o}=t(),r=n[o]||[];e({packs:{...n,[o]:[...r,{text:"",rating:0}]},currentIndex:r.length}),t().saveToStorage(),Yl()},removePrompt:()=>{const{packs:n,currentPack:o,currentIndex:r}=t(),s=n[o]||[];if(s.length<=1)return;const l=s.filter((c,u)=>u!==r),i=Math.min(r,l.length-1);e({packs:{...n,[o]:l},currentIndex:i}),t().saveToStorage(),Vr()},updatePromptText:n=>{const{packs:o,currentPack:r,currentIndex:s}=t(),l=[...o[r]||[]];l.length===0||!l[s]||(l[s]={...l[s],text:n},e({packs:{...o,[r]:l}}),t().saveToStorage())},updatePromptRating:n=>{const{packs:o,currentPack:r,currentIndex:s}=t(),l=[...o[r]||[]];l.length===0||!l[s]||(l[s]={...l[s],rating:n},e({packs:{...o,[r]:l}}),t().saveToStorage(),Sh(n))},nextPrompt:()=>{const{currentIndex:n}=t(),o=t().getCurrentPromptCount();if(o===0||n>=o-1)return;const r=n+1;e({currentIndex:r}),t().saveToStorage()},prevPrompt:()=>{const{currentIndex:n}=t();if(t().getCurrentPromptCount()===0||n<=0)return;const r=n-1;e({currentIndex:r}),t().saveToStorage()},reorderPrompts:(n,o,r)=>{const{packs:s}=t();if(o===r||!s[n])return;const l=[...s[n]],[i]=l.splice(o,1);l.splice(r,0,i),e({packs:{...s,[n]:l}}),t().saveToStorage()},movePromptToPack:(n,o,r)=>{const{packs:s}=t();if(!s[o]||!s[r]||o===r)return;const l=[...s[o]],i=l[n];if(!i)return;l.splice(n,1);const c=l.length===0?[{text:"",rating:0}]:l,u=[...s[r],i];e({packs:{...s,[o]:c,[r]:u}}),t().saveToStorage()},deletePromptByIndex:(n,o)=>{const{packs:r,currentPack:s}=t(),l=r[n];if(!l||o<0||o>=l.length)return;if(l.length<=1){const u={packs:{...r,[n]:[{text:"",rating:0}]}};n===s&&(u.currentIndex=0),e(u),t().saveToStorage(),Vr();return}const i=l.filter((u,p)=>p!==o),c={packs:{...r,[n]:i}};n===s&&(c.currentIndex=0),e(c),t().saveToStorage(),Vr()},deletePromptsByIndices:(n,o)=>{const{packs:r,currentPack:s}=t(),l=r[n];if(!l||o.length===0)return;const i=new Set(o),c=l.filter((f,g)=>!i.has(g)),u=c.length===0?[{text:"",rating:0}]:c,p={packs:{...r,[n]:u}};n===s&&(p.currentIndex=0),e(p),t().saveToStorage(),o.forEach(()=>Vr())},updatePromptByIndex:(n,o,r)=>{const{packs:s}=t(),l=s[n];if(!l||o<0||o>=l.length)return;const i=[...l];i[o]={...i[o],text:r},e({packs:{...s,[n]:i}}),t().saveToStorage()},addPromptToPack:(n,o="")=>{const{packs:r}=t(),s=r[n];if(!s)return;const l={text:o,rating:0};let i=s;o.trim()&&(i=s.filter(u=>u.text.trim()!==""));const c=[...i,l];e({packs:{...r,[n]:c}}),t().saveToStorage(),Yl()},duplicatePromptByIndex:(n,o)=>{const{packs:r}=t(),s=r[n];if(!s||o<0||o>=s.length)return;const l=s[o],i={text:l.text,rating:l.rating},c=[...s];c.splice(o+1,0,i),e({packs:{...r,[n]:c}}),t().saveToStorage(),Yl()},getCurrentPrompt:()=>{const{packs:n,currentPack:o,currentIndex:r}=t();return!n||!o||!n[o]?null:n[o][r]||null},getCurrentPromptCount:()=>{const{packs:n,currentPack:o}=t();return!n||!o||!n[o]?0:n[o].length},exportCurrentPack:()=>{const{packs:n,currentPack:o}=t(),r=n[o]||[];ef(o,r),Ch(r.length)},importPack:async(n,o)=>{const{packs:r}=t(),s=await nh(n,o,r);if(s.success&&s.packs){const l={packs:s.packs,currentIndex:0};if(s.packName)l.currentPack=s.packName;else if(s.importedCount&&s.importedCount>1){const i=Object.keys(s.packs).filter(c=>!r[c]);i.length>0&&(l.currentPack=i[0])}if(e(l),await t().saveToStorage(),await t().loadFromStorage(),s.packName){const i=s.packs[s.packName]||[];Th(o,i.length)}return{success:!0,packName:s.packName,importedCount:s.importedCount}}return{success:!1,error:s.error}},loadPostState:async n=>{const o=await rh(n);if(o){const{packs:r}=t(),s=r[o.currentPack]?o.currentPack:Object.keys(r)[0],l=r[s]||[],i=Math.min(o.currentIndex,Math.max(0,l.length-1));e({currentPack:s,currentIndex:i})}},savePostState:async n=>{const{currentPack:o,currentIndex:r}=t();await sh(n,{currentPack:o,currentIndex:r})}})),sr=At()(gr(e=>({userId:null,isLoading:!1,error:null,loadUserId:async()=>{e({isLoading:!0,error:null});try{const t=await hr(1);if(t.posts&&t.posts.length>0){const n=t.posts[0].userId;e({userId:n,isLoading:!1}),console.log("[UserStore] Loaded userId from API:",n)}else e({error:"No posts found",isLoading:!1}),console.warn("[UserStore] No posts found to extract userId")}catch(t){console.error("[UserStore] Failed to load userId from API:",t),e({error:t instanceof Error?t.message:"Failed to load user ID",isLoading:!1})}},setUserId:t=>e({userId:t}),clearUserId:()=>e({userId:null})}),{name:"imaginegodmode-user-id",partialize:e=>({userId:e.userId})})),Kl=15,ll=At()(gr((e,t)=>({jobs:[],isProcessing:!1,currentJobId:null,addJob:n=>{const o={...n,id:`job_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),status:"pending",progress:0,processedItems:0};e(l=>({jobs:[...l.jobs,o]})),console.log(`[JobQueue] Added ${o.type} job: ${o.id} (${o.totalItems} items)`);const{isProcessing:r,startProcessing:s}=t();return r||s(),o.id},removeJob:n=>{e(o=>({jobs:o.jobs.filter(r=>r.id!==n)}))},clearCompleted:()=>{e(n=>({jobs:n.jobs.filter(o=>o.status!=="completed")}))},clearAll:()=>{e({jobs:[],isProcessing:!1,currentJobId:null})},startProcessing:()=>{const{isProcessing:n,_processNextJob:o}=t();n||(console.log("[JobQueue] Starting job processing"),e({isProcessing:!0}),o())},stopProcessing:()=>{console.log("[JobQueue] Stopping job processing"),e({isProcessing:!1,currentJobId:null})},_updateJobProgress:(n,o,r)=>{e(s=>({jobs:s.jobs.map(l=>l.id===n?{...l,processedItems:o,progress:Math.min(100,Math.max(0,r))}:l)}))},_updateJobStatus:(n,o,r)=>{e(s=>({jobs:s.jobs.map(l=>l.id===n?{...l,status:o,error:r,progress:o==="completed"?100:l.progress}:l)}))},_processNextJob:async()=>{const{jobs:n,isProcessing:o}=t();if(!o){console.log("[JobQueue] Processing stopped");return}const r=n.find(i=>i.status==="pending");if(!r){console.log("[JobQueue] No pending jobs, stopping"),e({isProcessing:!1,currentJobId:null});return}console.log(`[JobQueue] Processing job: ${r.type} (${r.id})`),e({currentJobId:r.id}),t()._updateJobStatus(r.id,"processing");try{switch(r.type){case"process-for-upscale":await t()._processProcessForUpscaleJob(r);break;case"upscale":await t()._processUpscaleJob(r);break;case"download":await t()._processDownloadJob(r);break;case"unlike":await t()._processUnlikeJob(r);break;case"relike":await t()._processRelikeJob(r);break;case"purge-liked":case"purge-archive":case"purge-packs":await t()._processPurgeJob(r);break}if(t()._updateJobStatus(r.id,"completed"),console.log(`[JobQueue] Job completed: ${r.type} (${r.id})`),r.type==="upscale"){const{autoDownload:i}=re.getState();if(i){const c=r.data,u=c.hdUrlMap||{},p=Object.values(u).filter(Boolean);if(p.length>0){console.log(`[JobQueue] Auto-download enabled: creating download job for ${p.length} HD videos`);const f=p.map((g,x)=>{const y=g.split("/"),S=y[y.length-1].split("?")[0]||`hd_video_${Date.now()}_${x}.mp4`;return{url:g,filename:S}});t().addJob({type:"download",totalItems:f.length,data:{type:"download",postIds:c.postIds,items:f}})}}}(r.type==="unlike"||r.type==="relike")&&(console.log(`[JobQueue] ${r.type} job completed, refreshing window in 2 seconds...`),setTimeout(()=>{window.location.reload()},2e3))}catch(i){const c=i instanceof Error?i.message:"Unknown error";console.error(`[JobQueue] Job failed: ${r.type} (${r.id})`,i),t()._updateJobStatus(r.id,"failed",c)}const{isProcessing:s,_processNextJob:l}=t();s&&(e({currentJobId:null}),l())},_processProcessForUpscaleJob:async n=>{const o=n.data,{postIds:r}=o;console.log(`[JobQueue] Processing ${r.length} posts for upscaling`);const s=[],l=[];for(let i=0;i<r.length;i++){const{isProcessing:c}=t();if(!c)throw new Error("Processing stopped by user");const u=r[i];try{console.log(`[JobQueue] Fetching post ${i+1}/${r.length}: ${u}`);const f=await Yi(u);if(f!=null&&f.post){const g=mo(f);g.videosToUpscale.length>0&&(s.push(...g.videosToUpscale),l.push(u),console.log(`[JobQueue] Found ${g.videosToUpscale.length} videos to upscale in post ${u}`))}}catch(f){console.error(`[JobQueue] Failed to process post ${u}:`,f)}const p=(i+1)/r.length*100;t()._updateJobProgress(n.id,i+1,p),i<r.length-1&&await fn(100)}s.length>0?(console.log(`[JobQueue] Creating upscale job for ${s.length} videos from ${l.length} posts`),t().addJob({type:"upscale",totalItems:s.length,data:{type:"upscale",postIds:l,videoIds:s}})):console.log("[JobQueue] No videos found to upscale"),console.log(`[JobQueue] Processing complete: ${s.length} videos queued for upscaling`)},_processUpscaleJob:async n=>{const o=n.data,{videoIds:r}=o,s=r.length;console.log(`[JobQueue] Upscaling ${s} videos`);const l={};for(let i=0;i<s;i+=Kl){const{isProcessing:c}=t();if(!c)throw new Error("Processing stopped by user");const u=Math.min(i+Kl,s),p=r.slice(i,u);console.log(`[JobQueue] Processing batch ${Math.floor(i/Kl)+1}: ${p.length} videos`);const f=[];for(let x=0;x<p.length;x++){const y=p[x],v=Zp(y).then(S=>{const m=i+x+1,d=m/s*100;t()._updateJobProgress(n.id,m,d),S.success||console.error(`[JobQueue] Upscale failed for ${y}`)});f.push(v),x<p.length-1&&await new Promise(S=>setTimeout(S,rs(pt.UPSCALE_DELAY_MIN,pt.UPSCALE_DELAY_MAX)))}await Promise.all(f),console.log("[JobQueue] Batch upscale requests sent, polling for HD URLs...");const g=await Uh(o.postIds,p);Object.assign(l,g)}n.data.hdUrlMap=l,console.log(`[JobQueue] Upscale complete: ${Object.keys(l).length}/${s} HD URLs obtained`)},_processDownloadJob:async n=>{const o=n.data,{items:r}=o;console.log(`[JobQueue] Downloading ${r.length} files`);for(let l=0;l<r.length;l++){const{isProcessing:i}=t();if(!i)throw new Error("Processing stopped by user");const c=r[l];console.log(`[JobQueue] Downloading ${l+1}/${r.length}: ${c.filename}`);try{const p=await qp([c.url]);if(p.success)c.status="completed",console.log(`[JobQueue] Downloaded: ${c.filename}`);else if(c.status="failed",console.error(`[JobQueue] Download failed: ${c.filename}`,p.error),p.error&&p.error.includes("Extension was reloaded or updated"))throw console.warn("[JobQueue] Extension context invalidated - stopping job processing"),new Error("Extension context invalidated. Please refresh the page to continue.")}catch(p){c.status="failed";const f=p instanceof Error?p.message:"Unknown error";if(console.error(`[JobQueue] Download error: ${c.filename}`,f),f.includes("Extension context invalidated")||f.includes("Extension was reloaded or updated"))throw p}const u=(l+1)/r.length*100;t()._updateJobProgress(n.id,l+1,u),l<r.length-1&&await fn(pt.DOWNLOAD_DELAY)}const s=r.filter(l=>l.status==="completed").length;console.log(`[JobQueue] Download complete: ${s}/${r.length} successful`)},_processUnlikeJob:async n=>{const o=n.data,{postIds:r,posts:s}=o;console.log(`[JobQueue] Unliking ${r.length} posts`),console.log("[JobQueue] Posts data available:",s.length);const l=[];for(let i=0;i<r.length;i++){const{isProcessing:c}=t();if(!c)throw new Error("Processing stopped by user");const u=r[i],p=s.find(g=>g.id===u);p||console.error(`[JobQueue] Post data not found for ${u}`);try{const g=await Ga(u);if(g.success&&p){const x=W1(p);l.push(x),console.log(`[JobQueue] Unliked post ${i+1}/${r.length}: ${u}`,x)}else console.error(`[JobQueue] Unlike failed for ${u}`,{success:g.success,hasPost:!!p,error:g.error})}catch(g){console.error(`[JobQueue] Unlike error for ${u}:`,g)}const f=(i+1)/r.length*100;t()._updateJobProgress(n.id,i+1,f),await fn(50),i<r.length-1&&await fn(gu())}if(console.log(`[JobQueue] Preparing to save ${l.length} posts to archive`),l.length>0){const{userId:i}=sr.getState();console.log("[JobQueue] Current userId:",i),i?await tf(l,i)?console.log(`[JobQueue]  Successfully saved ${l.length} posts to unliked archive for user ${i}`):console.error(`[JobQueue]  Failed to save unliked posts to archive for user ${i}`):console.error("[JobQueue] No userId available - cannot save to archive")}else console.warn("[JobQueue] No posts to save to archive (0 successful unlikes)");console.log(`[JobQueue] Unlike complete: ${l.length}/${r.length} successful`)},_processRelikeJob:async n=>{const o=n.data,{postIds:r}=o;console.log(`[JobQueue] Re-liking ${r.length} posts`);const s=[];for(let l=0;l<r.length;l++){const{isProcessing:i}=t();if(!i)throw new Error("Processing stopped by user");const c=r[l];try{(await F1(c)).success?(s.push(c),console.log(`[JobQueue] Re-liked post ${l+1}/${r.length}: ${c}`)):console.error(`[JobQueue] Re-like failed for ${c}`)}catch(p){console.error(`[JobQueue] Re-like error for ${c}:`,p)}const u=(l+1)/r.length*100;t()._updateJobProgress(n.id,l+1,u),await fn(50),l<r.length-1&&await fn(gu())}if(s.length>0){const{userId:l}=sr.getState();await ah(s,l??void 0)?console.log(`[JobQueue] Removed ${s.length} posts from unliked archive`):console.error("[JobQueue] Failed to remove re-liked posts from archive")}console.log(`[JobQueue] Re-like complete: ${s.length}/${r.length} successful`)},_processPurgeJob:async n=>{const o=n.data,{category:r}=o;console.log(`[JobQueue] Purging ${r}`),t()._updateJobProgress(n.id,0,0),await fn(800);try{switch(r){case"liked-posts":{console.log("[JobQueue] Fetching liked posts for purge...");const s=await hr(1e3);if(s.posts&&s.posts.length>0){console.log(`[JobQueue] Unliking ${s.posts.length} liked posts...`);for(const l of s.posts)try{await Ga(l.id)}catch(i){console.error(`[JobQueue] Failed to unlike post ${l.id}:`,i)}}console.log("[JobQueue] Purged liked posts");break}case"unliked-archive":{await nf(),console.log("[JobQueue] Purged unliked archive");break}case"prompt-packs":{Ye.getState().clearAllPacks(),console.log("[JobQueue] Purged prompt packs");break}}t()._updateJobProgress(n.id,1,100)}catch(s){throw console.error(`[JobQueue] Purge failed for ${r}:`,s),s}}}),{name:"imaginegodmode-job-queue",partialize:e=>({jobs:e.jobs.filter(t=>t.status!=="processing")})}));async function Uh(e,t){const n={};let r=0;for(;Object.keys(n).length<t.length&&r<60;){for(const s of e)try{const l=await sl(s);if(l.success&&l.data){const i=mo(l.data);for(const c of i.mediaUrls)c.id&&t.includes(c.id)&&c.isHD&&c.type==="video"&&!n[c.id]&&(n[c.id]=c.url)}}catch(l){console.error("[JobQueue] Poll error:",l)}Object.keys(n).length<t.length&&(await new Promise(s=>setTimeout(s,rs(pt.UPSCALE_REFETCH_MIN,pt.UPSCALE_REFETCH_MAX))),r++)}return n}const go=At((e,t)=>({posts:[],currentPostId:null,setPosts:n=>e({posts:n}),setCurrentPostId:n=>e({currentPostId:n}),ensureCurrentPostInList:n=>{const{posts:o}=t();o.some(s=>s.id===n.id)||e({posts:[...o,n]})},getNextPostId:()=>{const{posts:n,currentPostId:o}=t();if(!o||n.length===0)return null;const r=n.findIndex(l=>l.id===o);return r===-1||r>=n.length-1?null:n[r+1].id},getPrevPostId:()=>{const{posts:n,currentPostId:o}=t();if(!o||n.length===0)return null;const r=n.findIndex(s=>s.id===o);return r<=0?null:n[r-1].id},getCurrentPostIndex:()=>{const{posts:n,currentPostId:o}=t();return!o||n.length===0?-1:n.findIndex(r=>r.id===o)}}));var Xl={exports:{}},Wl,Su;function Vh(){if(Su)return Wl;Su=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wl=e,Wl}var Jl,Pu;function Hh(){if(Pu)return Jl;Pu=1;var e=Vh();function t(){}function n(){}return n.resetWarningCache=t,Jl=function(){function o(l,i,c,u,p,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}o.isRequired=o;function r(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:r,element:o,elementType:o,instanceOf:r,node:o,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Jl}var wu;function zh(){return wu||(wu=1,Xl.exports=Hh()()),Xl.exports}var $h=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(o,r,s){n.o(o,r)||Object.defineProperty(o,r,{enumerable:!0,get:s})},n.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,r){if(1&r&&(o=n(o)),8&r||4&r&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&r&&typeof o!="string")for(var l in o)n.d(s,l,(function(i){return o[i]}).bind(null,l));return s},n.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(r,"a",r),r},n.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)},n.p="",n(n.s=2)}([function(e,t){e.exports=zh()},function(e,t){e.exports=w},function(e,t,n){n.r(t);var o=n(1),r=n(0),s=function(){return(s=Object.assign||function(y){for(var v,S=1,m=arguments.length;S<m;S++)for(var d in v=arguments[S])Object.prototype.hasOwnProperty.call(v,d)&&(y[d]=v[d]);return y}).apply(this,arguments)},l=function(y,v){var S={};for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&v.indexOf(m)<0&&(S[m]=y[m]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(m=Object.getOwnPropertySymbols(y);d<m.length;d++)v.indexOf(m[d])<0&&Object.prototype.propertyIsEnumerable.call(y,m[d])&&(S[m[d]]=y[m[d]])}return S},i=0,c=o.forwardRef(function(y,v){var S=y.title,m=S===void 0?null:S,d=y.description,h=d===void 0?null:d,C=y.size,P=C===void 0?null:C,T=y.color,k=T===void 0?"currentColor":T,E=y.horizontal,I=E===void 0?null:E,A=y.vertical,j=A===void 0?null:A,X=y.rotate,G=X===void 0?null:X,Y=y.spin,$=Y===void 0?null:Y,b=y.style,J=b===void 0?{}:b,O=y.children,R=l(y,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);i++;var N,H=$!==null&&$,D=o.Children.map(O,function(F){var q=F;H!==!0&&(H=($===null?q.props.spin:$)===!0);var ae=q.props.size;typeof P=="number"&&typeof q.props.size=="number"&&(ae=q.props.size/P);var W={size:ae,color:k===null?q.props.color:k,horizontal:I===null?q.props.horizontal:I,vertical:j===null?q.props.vertical:j,rotate:G===null?q.props.rotate:G,spin:$===null?q.props.spin:$,inStack:!0};return o.cloneElement(q,W)});P!==null&&(J.width=typeof P=="string"?P:1.5*P+"rem");var M,_="stack_labelledby_"+i,L="stack_describedby_"+i;if(m)N=h?_+" "+L:_;else if(M="presentation",h)throw new Error("title attribute required when description is set");return o.createElement("svg",s({ref:v,viewBox:"0 0 24 24",style:J,role:M,"aria-labelledby":N},R),m&&o.createElement("title",{id:_},m),h&&o.createElement("desc",{id:L},h),H&&o.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),D)});c.displayName="Stack",c.propTypes={size:r.oneOfType([r.number,r.string]),color:r.string,horizontal:r.bool,vertical:r.bool,rotate:r.number,spin:r.oneOfType([r.bool,r.number]),children:r.oneOfType([r.arrayOf(r.node),r.node]).isRequired,className:r.string,style:r.object},c.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=c;n.d(t,"Icon",function(){return x}),n.d(t,"Stack",function(){return u});var p=function(){return(p=Object.assign||function(y){for(var v,S=1,m=arguments.length;S<m;S++)for(var d in v=arguments[S])Object.prototype.hasOwnProperty.call(v,d)&&(y[d]=v[d]);return y}).apply(this,arguments)},f=function(y,v){var S={};for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&v.indexOf(m)<0&&(S[m]=y[m]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(m=Object.getOwnPropertySymbols(y);d<m.length;d++)v.indexOf(m[d])<0&&Object.prototype.propertyIsEnumerable.call(y,m[d])&&(S[m[d]]=y[m[d]])}return S},g=0,x=o.forwardRef(function(y,v){var S=y.path,m=y.id,d=m===void 0?++g:m,h=y.title,C=h===void 0?null:h,P=y.description,T=P===void 0?null:P,k=y.size,E=k===void 0?null:k,I=y.color,A=I===void 0?"currentColor":I,j=y.horizontal,X=j!==void 0&&j,G=y.vertical,Y=G!==void 0&&G,$=y.rotate,b=$===void 0?0:$,J=y.spin,O=J!==void 0&&J,R=y.style,N=R===void 0?{}:R,H=y.inStack,D=H!==void 0&&H,M=f(y,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),_={},L=[];E!==null&&(D?L.push("scale("+E+")"):(N.width=typeof E=="string"?E:1.5*E+"rem",N.height=N.width)),X&&L.push("scaleX(-1)"),Y&&L.push("scaleY(-1)"),b!==0&&L.push("rotate("+b+"deg)"),A!==null&&(_.fill=A);var F=o.createElement("path",p({d:S,style:_},D?M:{})),q=F;L.length>0&&(N.transform=L.join(" "),N.transformOrigin="center",D&&(q=o.createElement("g",{style:N},F,o.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var ae,W=q,B=O===!0||typeof O!="number"?2:O,Z=!D&&(X||Y);if(B<0&&(Z=!Z),O&&(W=o.createElement("g",{style:{animation:"spin"+(Z?"-inverse":"")+" linear "+Math.abs(B)+"s infinite",transformOrigin:"center"}},q,!(X||Y||b!==0)&&o.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),D)return W;var le,Te="icon_labelledby_"+d,yt="icon_describedby_"+d;if(C)ae=T?Te+" "+yt:Te;else if(le="presentation",T)throw new Error("title attribute required when description is set");return o.createElement("svg",p({ref:v,viewBox:"0 0 24 24",style:N,role:le,"aria-labelledby":ae},M),C&&o.createElement("title",{id:Te},C),T&&o.createElement("desc",{id:yt},T),!D&&O&&(Z?o.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):o.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),W)});x.displayName="Icon",x.propTypes={path:r.string.isRequired,size:r.oneOfType([r.number,r.string]),color:r.string,horizontal:r.bool,vertical:r.bool,rotate:r.number,spin:r.oneOfType([r.bool,r.number]),style:r.object,inStack:r.bool,className:r.string},x.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=x}]);const Bh=Qa($h),Q=({path:e,size:t=1,className:n="",color:o})=>a.jsx(Bh,{path:e,size:t,className:n,color:o}),vr=(e={})=>{const{width:t=80,duration:n=.8,rotation:o=25,opacity:r=60,enableScale:s=!0,scaleFactor:l=1.05,enableShadow:i=!0,shadowBlur:c=20}=e,{getThemeColors:u}=re(),p=u(),[f,g]=w.useState(!1),[x,y]=w.useState(0),v=w.useRef();v.current===void 0&&(v.current=++vr.counter);const S=`glowRun-${v.current}`;return{glowStyles:`
    @keyframes ${S} {
      0% {
        left: -150%;
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        left: 150%;
        opacity: 0;
      }
    }
  `,handleMouseEnter:(P,T=!1)=>{T||(g(!0),y(k=>k+1),P.currentTarget.style.backgroundColor=`${p.BACKGROUND_LIGHT}aa`,P.currentTarget.style.color=p.TEXT_HOVER,i&&(P.currentTarget.style.boxShadow=`0 0 ${c}px ${p.TEXT_HOVER}40, 0 0 ${c*2}px ${p.TEXT_HOVER}20`),s&&(P.currentTarget.style.transform=`scale(${l})`))},handleMouseLeave:(P,T=!1)=>{T||(g(!1),P.currentTarget.style.backgroundColor=`${p.BACKGROUND_MEDIUM}aa`,P.currentTarget.style.color=p.TEXT_SECONDARY,P.currentTarget.style.boxShadow="none",s&&(P.currentTarget.style.transform="scale(1)"))},GlowOverlay:()=>f?a.jsx("span",{className:"absolute pointer-events-none",style:{background:`linear-gradient(90deg, transparent 0%, ${p.TEXT_HOVER}${r} 50%, transparent 100%)`,width:`${t}px`,height:"200%",top:"-50%",left:"-150%",transform:`rotate(${o}deg)`,animation:`${S} ${n}s ease-out forwards`,zIndex:1}},x):null,isHovered:f,animationKey:x}},al=(e={})=>{const{width:t=60,duration:n=.8,rotation:o=25,opacity:r=60,enableScale:s=!0,scaleFactor:l=1.03,enableShadow:i=!0,shadowBlur:c=15}=e,{getThemeColors:u}=re(),p=u(),[f,g]=w.useState(null),[x,y]=w.useState({}),v=w.useRef();v.current===void 0&&(v.current=++al.counter);const S=`multiGlowRun-${v.current}`;return{glowStyles:`
    @keyframes ${S} {
      0% {
        left: -150%;
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        left: 150%;
        opacity: 0;
      }
    }
  `,handleMouseEnter:(P,T,k=!1,E)=>{k||(g(T),y(I=>({...I,[T]:(I[T]||0)+1})),P.currentTarget.style.backgroundColor=(E==null?void 0:E.backgroundColor)||`${p.BACKGROUND_LIGHT}aa`,P.currentTarget.style.color=(E==null?void 0:E.color)||p.TEXT_HOVER,i&&(P.currentTarget.style.boxShadow=`0 0 ${c}px ${p.TEXT_HOVER}30`),s&&(P.currentTarget.style.transform=`scale(${l})`))},handleMouseLeave:(P,T=!1,k)=>{T||(g(null),P.currentTarget.style.backgroundColor=(k==null?void 0:k.backgroundColor)||`${p.BACKGROUND_MEDIUM}aa`,P.currentTarget.style.color=(k==null?void 0:k.color)||p.TEXT_SECONDARY,P.currentTarget.style.boxShadow="none",s&&(P.currentTarget.style.transform="scale(1)"))},getGlowOverlay:P=>f!==P?null:a.jsx("span",{className:"absolute pointer-events-none",style:{background:`linear-gradient(90deg, transparent 0%, ${p.TEXT_HOVER}${r} 50%, transparent 100%)`,width:`${t}px`,height:"200%",top:"-50%",left:"-150%",transform:`rotate(${o}deg)`,animation:`${S} ${n}s ease-out forwards`}},x[P]),hoveredId:f,animationKeys:x}};vr.counter=0;al.counter=0;const U=({variant:e="default",icon:t,iconSize:n=.6,iconColor:o,iconClassName:r="",tooltip:s,className:l="",children:i,disabled:c,style:u,onMouseEnter:p,onMouseLeave:f,...g})=>{const{getThemeColors:x}=re(),y=x(),{glowStyles:v,handleMouseEnter:S,handleMouseLeave:m,GlowOverlay:d}=vr({enableScale:!1}),h="rounded-full transition-all duration-300 flex items-center justify-center relative overflow-hidden",C={default:"px-3 py-2 text-xs disabled:opacity-30",icon:"w-9 h-9 disabled:opacity-30"},P=o||y.TEXT_SECONDARY,T={backgroundColor:`${y.BACKGROUND_MEDIUM}aa`,color:y.TEXT_SECONDARY,border:`1px solid ${y.BORDER}`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",...u};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:v}),a.jsxs("button",{className:`${h} ${C[e]} ${l}`,disabled:c,style:T,"data-tooltip-content":s,onMouseEnter:k=>{!c&&!l.includes("!bg-white")&&S(k),p==null||p(k)},onMouseLeave:k=>{!c&&!l.includes("!bg-white")&&m(k),f==null||f(k)},...g,children:[!c&&a.jsx(d,{}),a.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[t&&a.jsx(Q,{path:t,size:e==="icon"?.8:n,color:P,className:r}),i&&a.jsx("span",{className:t?"ml-1":"",children:i})]})]})]})};var il="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Eu="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",Fh="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",Gh="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",Yh="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",lf="M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z",xr="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",af="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",cl="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",ul="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",cf="M22,16A2,2 0 0,1 20,18H8C6.89,18 6,17.1 6,16V4C6,2.89 6.89,2 8,2H20A2,2 0 0,1 22,4V16M16,20V22H4A2,2 0 0,1 2,20V7H4V20H16M13,14L20,7L18.59,5.59L13,11.17L9.91,8.09L8.5,9.5L13,14Z",Kh="M20,16V10H22V16A2,2 0 0,1 20,18H8C6.89,18 6,17.1 6,16V4C6,2.89 6.89,2 8,2H16V4H8V16H20M10.91,7.08L14,10.17L20.59,3.58L22,5L14,13L9.5,8.5L10.91,7.08M16,20V22H4A2,2 0 0,1 2,20V7H4V20H16Z",uf="M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z",df="M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z",dl="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",Ka="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",Xa="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",pf="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",yr="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",ff="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",mf="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",gf="M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z",Xh="M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z",hf="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",sn="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",Wh="M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8.46,11.88L9.87,10.47L12,12.59L14.12,10.47L15.53,11.88L13.41,14L15.53,16.12L14.12,17.53L12,15.41L9.88,17.53L8.47,16.12L10.59,14L8.46,11.88M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z",lr="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",Jh="M12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M8 17H16V15H8V17M16 10H13.5V6H10.5V10H8L12 14L16 10Z",Xi="M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",Qh="M3,15V13H5V15H3M3,11V9H5V11H3M7,15V13H9V15H7M7,11V9H9V11H7M11,15V13H13V15H11M11,11V9H13V11H11M15,15V13H17V15H15M15,11V9H17V11H15M19,15V13H21V15H19M19,11V9H21V11H19Z",qh="M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8M10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5M12,14C13.75,14 15.29,14.72 16.19,15.81L14.77,17.23C14.32,16.5 13.25,16 12,16C10.75,16 9.68,16.5 9.23,17.23L7.81,15.81C8.71,14.72 10.25,14 12,14Z",Zh="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",e0="M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M10,15H8V13H10V15M10,11H8V9H10V11M10,7H8V5H10V7M20,15H18V13H20V15M20,11H18V9H20V11M20,7H18V5H20V7Z",vf="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",t0="M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z",xf="M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9",n0="M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z",o0="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",Xn="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z",yf="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C8.17,3 8.82,3.12 9.44,3.33L13,9.35L9,14.35L12,21.35V21.35M16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35L11,14.35L15.5,9.35L12.85,4.27C13.87,3.47 15.17,3 16.5,3Z",r0="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",kf="M21,15H23V17H21V15M21,11H23V13H21V11M23,19H21V21C22,21 23,20 23,19M13,3H15V5H13V3M21,7H23V9H21V7M21,3V5H23C23,4 22,3 21,3M1,7H3V9H1V7M17,3H19V5H17V3M17,19H19V21H17V19M3,3C2,3 1,4 1,5H3V3M9,3H11V5H9V3M5,3H7V5H5V3M1,11V19A2,2 0 0,0 3,21H15V11H1M3,19L5.5,15.79L7.29,17.94L9.79,14.72L13,19H3Z",s0="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",Cu="M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z",Et="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",l0="M11 7L9.6 8.4L12.2 11H2V13H12.2L9.6 15.6L11 17L16 12L11 7M20 19H12V21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3H12V5H20V19Z",Os="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",pl="M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,12.35L13.85,13.36Z",a0="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",i0="M14,19H18V5H14M6,19H10V5H6V19Z",Sf="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",Wi="M8,5.14V19.14L19,12.14L8,5.14Z",Ji="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",Tu="M10.59,12L14.59,8H11V6H18V13H16V9.41L12,13.41V16H20V4H8V12H10.59M22,2V18H12V22H2V12H6V2H22M10,14H4V20H10V14Z",c0="M20.8,22.7L16.6,18.5C14.9,19.7 12.9,20.2 10.9,19.9L11.4,17.9C12.7,18 14,17.7 15.1,17L1.1,3L2.4,1.7L16.5,15.8L17.9,17.2L22.1,21.4L20.8,22.7M12,6C13.5,6 15.1,6.6 16.2,7.8C18,9.6 18.4,12.2 17.5,14.4L19,15.9C20.7,12.9 20.2,9 17.6,6.4C16.1,4.8 14,4 12,4V0.7L7.9,4.7L12,8.8V6M6.6,9.4L5.1,7.9C3.3,11 3.7,15 6.3,17.7C7.1,18.4 8,19 9,19.4L9.5,17.4C8.9,17.1 8.3,16.7 7.7,16.2C5.9,14.4 5.5,11.6 6.6,9.4Z",u0="M4,3H5V5H3V4A1,1 0 0,1 4,3M20,3A1,1 0 0,1 21,4V5H19V3H20M15,5V3H17V5H15M11,5V3H13V5H11M7,5V3H9V5H7M21,20A1,1 0 0,1 20,21H19V19H21V20M15,21V19H17V21H15M11,21V19H13V21H11M7,21V19H9V21H7M4,21A1,1 0 0,1 3,20V19H5V21H4M3,15H5V17H3V15M21,15V17H19V15H21M3,11H5V13H3V11M21,11V13H19V11H21M3,7H5V9H3V7M21,7V9H19V7H21Z",Qi="M9,9H15V15H9M7,17H17V7H7M15,5H17V3H15M15,21H17V19H15M19,17H21V15H19M19,9H21V7H19M19,21A2,2 0 0,0 21,19H19M19,13H21V11H19M11,21H13V19H11M9,3H7V5H9M3,17H5V15H3M5,21V19H3A2,2 0 0,0 5,21M19,3V5H21A2,2 0 0,0 19,3M13,3H11V5H13M3,9H5V7H3M7,21H9V19H7M3,13H5V11H3M3,5H5V3A2,2 0 0,0 3,5Z",Pf="M1,4.27L2.28,3L21,21.72L19.73,23L17,20.27V21H15V19H15.73L5,8.27V9H3V7H3.73L1,4.27M20,3A1,1 0 0,1 21,4V5H19V3H20M15,5V3H17V5H15M11,5V3H13V5H11M7,5V3H9V5H7M11,21V19H13V21H11M7,21V19H9V21H7M4,21A1,1 0 0,1 3,20V19H5V21H4M3,15H5V17H3V15M21,15V17H19V15H21M3,11H5V13H3V11M21,11V13H19V11H21M21,7V9H19V7H21Z",wf="M16,18H18V6H16M6,18L14.5,12L6,6V18Z",Ef="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",Cf="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",d0="M18,18H6V6H18V18Z",p0="M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z",f0="M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",m0="M17,14H19V17H22V19H19V22H17V19H14V17H17V14M12,17V15H7V17H12M17,11H7V13H14.69C13.07,14.07 12,15.91 12,18C12,19.09 12.29,20.12 12.8,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19A2,2 0 0,1 21,5V12.8C20.12,12.29 19.09,12 18,12L17,12.08V11M17,9V7H7V9H17Z",g0="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z",Tf="M18 5H6V7H18M6 9H18V11H6M2 12H4V17H20V12H22V17A2 2 0 0 1 20 19H4A2 2 0 0 1 2 17M18 13H6V15H18Z",js="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",h0="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z";const v0=({option:e,index:t,isSelected:n,onClick:o,onMove:r,colors:s})=>{const[l,i]=w.useState(!1),[c,u]=w.useState(!1),p=v=>{i(!0),v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",t.toString())},f=()=>{i(!1)},g=v=>{v.preventDefault(),v.dataTransfer.dropEffect="move",u(!0)},x=()=>{u(!1)},y=v=>{v.preventDefault(),u(!1);const S=parseInt(v.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==t&&r(S,t)};return a.jsxs("button",{type:"button",draggable:!0,onDragStart:p,onDragEnd:f,onDragOver:g,onDragLeave:x,onDrop:y,onClick:o,className:"w-full px-3 py-2 text-sm text-left transition-all duration-300 flex items-center gap-2",style:{backgroundColor:c?s.BACKGROUND_DARK:n?s.BACKGROUND_LIGHT:s.BACKGROUND_MEDIUM,color:n&&s.TEXT_HOVER||s.TEXT_PRIMARY,border:"none",opacity:l?.5:1,cursor:l?"grabbing":"pointer"},children:[a.jsx(Q,{path:Xi,size:.5,color:s.TEXT_SECONDARY}),a.jsx("span",{className:"flex-1",children:e.label})]})},x0=({value:e,onChange:t,options:n,onReorder:o,disabled:r=!1,className:s=""})=>{const{getThemeColors:l}=re(),i=l(),[c,u]=w.useState(!1),[p,f]=w.useState(n),g=w.useRef(null),x=w.useRef(null),[y,v]=w.useState({top:0,left:0,width:0}),S=vr({scaleFactor:1.02});w.useEffect(()=>{f(n)},[n]);const m=w.useMemo(()=>{const k="imaginegodmode-draggable-dropdown-portal";let E=document.getElementById(k);if(!E){E=document.createElement("div"),E.id=k,E.style.position="fixed",E.style.top="0",E.style.left="0",E.style.zIndex=String(wn.DROPDOWN),E.style.pointerEvents="none";const I=document.getElementById("imaginegodmode-root");I?I.appendChild(E):document.body.appendChild(E)}return E},[]),d=p.find(k=>k.value===e),h=(d==null?void 0:d.label)||"";w.useEffect(()=>{if(c&&x.current){const k=()=>{if(x.current){const E=x.current.getBoundingClientRect();v({top:E.bottom+4,left:E.left,width:E.width})}};return k(),window.addEventListener("scroll",k,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",k)}}},[c]),w.useEffect(()=>{const k=E=>{g.current&&!g.current.contains(E.target)&&x.current&&!x.current.contains(E.target)&&u(!1)};return c&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[c]);const C=k=>{t(k),u(!1)},P=()=>{r||u(!c)},T=(k,E)=>{const I=[...p],[A]=I.splice(k,1);I.splice(E,0,A),f(I),o&&o(I.map(j=>j.value))};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:S.glowStyles}),a.jsx("div",{className:`relative ${s}`,children:a.jsxs("button",{ref:x,type:"button",onClick:P,disabled:r,className:"pl-3 pr-8 py-2 rounded-full text-sm cursor-pointer focus:outline-none transition-all duration-300 text-left relative block overflow-hidden",style:{backgroundColor:i.BACKGROUND_MEDIUM,color:i.TEXT_PRIMARY,border:`1px solid ${i.BORDER}`,opacity:r?.5:1,cursor:r?"not-allowed":"pointer",width:"100%"},onMouseEnter:k=>{r||(S.handleMouseEnter(k),k.currentTarget.style.backgroundColor=i.BACKGROUND_LIGHT,k.currentTarget.style.color=i.TEXT_PRIMARY)},onMouseLeave:k=>{r||(S.handleMouseLeave(k),k.currentTarget.style.backgroundColor=i.BACKGROUND_MEDIUM,k.currentTarget.style.color=i.TEXT_PRIMARY)},children:[!r&&a.jsx(S.GlowOverlay,{}),a.jsx("span",{className:"relative z-10",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",paddingRight:"8px"},children:h}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:a.jsx(Q,{path:dl,size:.6,color:i.TEXT_PRIMARY,className:`transition-transform duration-200 ${c?"rotate-180":""}`})})]})}),c&&mr.createPortal(a.jsx("div",{ref:g,className:"rounded-lg shadow-lg overflow-hidden",style:{position:"absolute",top:`${y.top}px`,left:`${y.left}px`,width:`${y.width}px`,pointerEvents:"auto",backgroundColor:i.BACKGROUND_MEDIUM,border:`1px solid ${i.BORDER}`,maxHeight:"200px",overflowY:"auto"},children:p.map((k,E)=>a.jsx(v0,{option:k,index:E,isSelected:k.value===e,onClick:()=>C(k.value),onMove:T,colors:i},k.value))}),m)]})},y0={prompt:"Prompt",ops:"Ops",settings:"Settings",help:"Help",queueTooltip:"Job Queue"},k0={cancel:"Cancel",delete:"Delete",import:"Import",export:"Export",add:"Add",copy:"Copy",make:"Make",paste:"Paste",current:"Current",version:"Version",confirm:"Confirm",close:"Close",processing:"Processing",selectAll:"Select All",deselectAll:"Deselect All",loading:"Loading",save:"Save"},S0={collapseTooltip:"Collapse panel",expandTooltip:"Expand panel",authorCredit:"by b2kdaman",previousPostTooltip:"Previous post",nextPostTooltip:"Next post",autoTooltip:"Auto: Automatically repeat Make + Next",upscaleAllLikedTooltip:"Upscale videos from multiple liked posts"},P0={placeholder:"Enter your prompt...",toTooltip:"Replace current prompt with this one",fromTooltip:"Save current prompt to this slot",copyTooltip:"Copy this prompt to clipboard",addTooltip:"Add new prompt slot",makeTooltip:"Fill prompt and click Make button",status:{navigateToPost:"Navigate to a post to manage prompts"},prefixPlaceholder:"Enter prefix text...",previousTooltip:"Previous prompt (Left arrow, hold for fast navigation)",nextTooltip:"Next prompt (Right arrow, hold for fast navigation)",duplicateTooltip:"Duplicate current prompt",navigatePreviousPost:"Navigate to previous post",navigateNextPost:"Navigate to next post",makeAndNextTooltip:"Make video and navigate to next post",autoMakeNextTooltip:"Auto: Automatically repeat Make + Next with 1-1.5s delay",stopAutoTooltip:"Stop auto Make + Next"},w0={packsAndPrompts:"Packs + Prompts",behavior:"Behavior",appearance:"Appearance",theme:"Theme",size:"Size",language:"Language",autoDownload:"Auto Download",rememberPostState:"Remember Pack Per Post",simpleShortcut:"Simple Shortcut",confirmCopyFrom:"Confirm Copy From",hideUnsave:"Hide Unsave",enableSound:"Enable Sound",enableThePit:"Enable The Pit",collapseSections:"Collapse Sections",listLimit:"List Limit",listLimitWarning:"Warning: Using limits different from 100 might lead to a ban",globalPromptAddon:"Global Prompt Addon",globalPromptAddonPlaceholder:"Enter text to append to all prompts...",navigatePostsWithArrows:"Navigate Posts with Arrows",openPacksManagement:"Open Packs Management",importMode:"Pack Import Mode",importModeAdd:"Add",importModeReplace:"Replace",purge:"Purge",purgeAllData:"Purge All Data",purgeClickHint:"Click 5 times to activate purge sequence",themes:{dark:"Dark",light:"Light",dracula:"Dracula",winamp:"Winamp",limewire:"LimeWire",steam:"Steam",discord:"Discord"},sizes:{tiny:"Tiny (70%)",small:"Small (85%)",medium:"Medium (100%)",large:"Large (115%)"},languages:{en:"English",es:"Spanish",ru:"Russian",de:"German"},tooltips:{packsManagement:"Manage packs: import/export, rename, organize prompts with drag & drop",rememberPostState:"Remember which prompt pack was used for each post, automatically switching packs when navigating between posts",simpleShortcut:"Use Ctrl/Cmd+Enter instead of Ctrl/Cmd+Shift+Enter to apply prompt",confirmCopyFrom:"Show confirmation dialog when copying from page would replace existing prompt text",globalPromptAddon:"Add custom text that will be automatically appended to every prompt when pressing Make or Make+Next",autoDownload:"Automatically download media files when video generation completes",enableSound:"Enable sound effects for UI interactions",hideUnsave:"Hide the Unsave button from the page",enableThePit:"Show The Pit tab for accessing deleted posts",collapseSections:"Enable collapsible sections - sections start collapsed and can be expanded by clicking headers. When off, all sections are always expanded"}},E0={sections:{bulkActions:"Bulk Actions"},tooltips:{upscaleAllLiked:"Upscale videos from multiple liked posts",downloadAllLiked:"Download all media from multiple liked posts",manageLikes:"Unlike posts or re-like from archive",deleteMultiple:"Delete multiple posts permanently"},buttons:{upscaleAllLiked:"Upscale All Liked",downloadAllLiked:"Download All Liked",manageLikes:"Manage Likes"}},C0={availableFeatures:"Available Features",keyboardShortcuts:"Keyboard Shortcuts",about:{description:"Chrome/Firefox extension for Grok media management",author:"by b2kdaman",firefoxSupport:"Firefox support by wyntre"},sections:{availableFeatures:"Available Features",keyboardShortcuts:"Keyboard Shortcuts",about:"About",signIn:"Sign In"},features:{savePrompts:"Save and organize prompts in packs",ratePrompts:"Rate prompts with star ratings",importExport:"Import/export prompt packs as JSON",upscale:"Upscale videos to HD quality",autoDownload:"Auto-download generated media",keyboardShortcuts:"Full keyboard shortcut support",themes:"Multiple color themes and UI sizes",crossBrowser:"Firefox and Chrome cross-browser support",saveOrganize:"Save and organize prompts with packs",packManagement:"Create, delete, and switch between packs",ratePromptsStars:"Rate prompts with 1-5 star ratings",arrowKeys:"Navigate prompts with arrow keys",importExportPacks:"Import and export packs (add or replace mode)",aiGenerate:"Generate new packs with AI using Grok prompt templates",downloadMedia:"Download images and videos (when all videos are HD)",parallelUpscale:"Parallel video upscaling to HD quality",bulkOperations:"Bulk operations: Delete, upscale, relike, unlike posts",purgeData:"Purge all data feature for complete data cleanup",batchSelection:"Shift-click batch selection in bulk operations modal",makeNext:"Make + Next: Automate prompt application and post navigation",realtimeProgress:"Real-time video generation progress",playPause:"Play/pause video control",fullscreen:"Fullscreen video playback",hideUnsave:"Hide unsave button option",themeCustomization:"Theme customization (Dark, Light, Dracula, Winamp, LimeWire, Steam, Discord)",uiScaling:"UI size scaling (Tiny to Large)",autoDownloadMedia:"Auto-download media when generation completes",multiLanguage:"Multi-language support (English, Spanish, Russian, German)"},shortcuts:{makeVideo:"Make a Video",copyMake:"Copy & Make",navigatePrompts:"Navigate Prompts",togglePanel:"Toggle Panel",switchTabs:"Switch Tabs",descriptions:{makeVideo:"Make a Video",copyMake:"Copy & Make",navigateVideos:"Navigate videos",toggleFullscreen:"Toggle fullscreen",playPause:"Play/pause video"},keys:{ctrl:"Ctrl",cmd:"Cmd",enter:"Enter",shift:"Shift",arrowLeft:"",arrowRight:"",f:"F",space:"Space"}},aboutText:"ImagineGodMode helps you manage video generation prompts with features like saving prompt packs, rating, importing/exporting, upscaling videos to HD, and auto-downloading media.",signIn:{linkText:"Sign in to X.ai"},tooltips:{crossBrowser:"Works seamlessly on both Firefox and Chrome browsers",saveOrganize:"Create multiple packs to organize your prompts by theme or project",packManagement:"Add new packs, delete existing ones, and easily switch between them",ratePrompts:"Click stars to rate your prompts from 1-5 stars for easy quality tracking",arrowKeys:"Use left/right arrow keys to quickly browse through videos",navigatePostsWithArrows:"Use arrow keys to navigate between posts instead of videos (by default, arrow keys navigate videos)",importExport:"Share packs with others or backup your prompts as JSON files",aiGenerate:"Use Grok AI to generate entire prompt packs from templates",downloadMedia:"Automatically download all images and HD videos from a post",parallelUpscale:"Upscale multiple videos to HD quality simultaneously for faster processing",bulkOperations:"Perform delete, upscale, relike, or unlike actions on multiple posts at once",purgeData:"Completely wipe all extension data with a secure confirmation sequence",batchSelection:"Hold Shift and click to select multiple items in bulk operations",makeNext:"Automatically apply prompt and navigate to next post in sequence",realtimeProgress:"See live progress bar while videos are generating",playPause:"Control video playback with play/pause button or spacebar",fullscreen:"Watch videos in fullscreen mode by pressing F or clicking the button",hideUnsave:"Remove the unsave button from the UI for cleaner interface",themeCustomization:"Choose from 7 different themes to match your style",uiScaling:"Scale the entire UI from 70% (Tiny) to 115% (Large)",autoDownloadMedia:"Enable automatic downloads when video generation completes",multiLanguage:"Switch between English, Spanish, Russian, and German languages",dragPanel:"Drag to reposition panel"}},T0={searchTooltip:"Search prompts",manageTooltip:"Manage packs and prompts"},A0={likeManagement:{tabs:{liked:"Liked Posts",archive:"Archive"}},confirmDelete:{title:"Delete Pack",message:'Are you sure you want to delete "{{packName}}"?'},confirmDeletion:{title:"Confirm Deletion",message:"Are you sure you want to permanently delete {{count}} post{{plural}}? This action cannot be undone."},delete:{title:"Delete Posts ({{total}} total)",actionText:"Delete",warningMessage:"Warning: Deleting posts is permanent and cannot be undone!"},download:{title:"Select Posts to Download ({{selected}}/{{total}})",actionText:"Download {{count}} Post{{plural}}",warningMessage:"This will download all media (images and videos) from the selected posts."},unlike:{title:"Select Posts to Unlike ({{selected}}/{{total}})",actionText:"Unlike {{count}} Post{{plural}}"},upscale:{title:"Select Posts to Upscale ({{selected}}/{{total}})",actionText:"Upscale {{count}} Post{{plural}}"},like:{title:"Select Posts to Like ({{selected}}/{{total}})",actionText:"Like {{count}} Post{{plural}}"},unlikedArchive:{title:"Unliked Posts Archive ({{total}} total)",actionText:"Re-like {{count}} Post{{plural}}",selectPrompt:"Select posts to re-like",noPostsMessage:"No unliked posts in archive",relikingPosts:"Re-liking posts"},importPack:{title:"Import Pack",selectFile:"Select File",validJson:"Valid JSON",invalidJson:"Invalid JSON",importing:"Importing...",success:"Imported successfully",error:"Import failed",pasteJsonPlaceholder:"Paste JSON here or click buttons above...",pasteTooltip:"Paste JSON from clipboard",selectFileTooltip:"Select JSON or PAK file"},selectPack:{title:"Select Packs to Export",exportAll:"Export All Packs",selectAll:"Select All",deselectAll:"Deselect All",selectedCount:"{{count}} pack(s) selected"},searchPrompts:{title:"Search Prompts",placeholder:"Type to search...",noResults:"No prompts found",resultCount:"{{count}} result(s)",promptNumber:"Prompt #{{number}}"},purge:{title:" PURGE ALL DATA",dangerZone:"DANGER ZONE",warningMessage:"This action will permanently delete:",allLikedPosts:"All liked posts",allLikedPostsDesc:"Will attempt to unlike all posts",unlikedArchive:"Unliked archive",unlikedArchiveDesc:"Complete history will be cleared",allPromptPacks:"All prompt packs",allPromptPacksDesc:"Every pack and prompt will be deleted",cannotBeUndone:"THIS CANNOT BE UNDONE!",pressArrowKeys:"Press the following arrow keys in order:",startPressing:"Start pressing the arrow keys...",sequenceComplete:" Sequence complete! Purge button enabled.",purgeAllDataButton:"Purge All Data"},confirmReplace:{title:"Replace Prompt Text?",message:"This will replace the current prompt text. Are you sure you want to continue?",confirmText:"Replace"},packsManagement:{title:"Packs Management",confirmDeleteTitle:"Confirm Delete",createPackTooltip:"Create new pack",selectAllPacksTooltip:"Select all packs",deselectAllPacksTooltip:"Deselect all packs",deleteSelectedTooltip:"Delete selected packs",newPackPlaceholder:"New pack name...",saveTooltip:"Save",cancelTooltip:"Cancel",renamePackTooltip:"Rename pack",deletePackTooltip:"Delete pack",importTooltip:"Import pack from file or clipboard",copyPromptTooltip:"Copy Grok system prompt for AI-generated packs",exportTooltip:"Export selected packs to file",addPromptTooltip:"Add new prompt",searchPromptsPlaceholder:"Search prompts...",selectAllPromptsTooltip:"Select all",deselectAllPromptsTooltip:"Deselect all",moveToPlaceholder:"Move to...",editPromptTooltip:"Edit prompt",duplicatePromptTooltip:"Duplicate prompt",deletePromptTooltip:"Delete prompt",moveSelectedPromptsTooltip:"Move selected prompts",emptyPackPlaceholder:"Start typing to create a prompt..."},fullscreen:{enterTooltip:"Enter fullscreen (F)"}},R0={navigation:{previousPost:"Previous post",nextPost:"Next post",previousPrompt:"Previous prompt",nextPrompt:"Next prompt"},prompt:{placeholder:"Enter your prompt..."},status:{underConstruction:"Under construction"}},N0={tabs:y0,common:k0,panel:S0,prompt:P0,settings:w0,ops:E0,help:C0,packManager:T0,modals:A0,pit:R0},M0={prompt:"Prompts",ops:"Ops",settings:"Ajustes",help:"Ayuda",queueTooltip:"Cola de Trabajos"},D0={cancel:"Cancelar",delete:"Eliminar",import:"Importar",export:"Exportar",add:"Agregar",copy:"Copiar",make:"Crear",paste:"Pegar",current:"Actual",version:"Versin",confirm:"Confirmar",close:"Cerrar",processing:"Procesando",selectAll:"Seleccionar Todo",deselectAll:"Deseleccionar Todo",loading:"Cargando",save:"Guardar"},I0={collapseTooltip:"Contraer panel",expandTooltip:"Expandir panel",authorCredit:"por b2kdaman",previousPostTooltip:"Publicacin anterior",nextPostTooltip:"Siguiente publicacin",autoTooltip:"Auto: Repetir automticamente Crear + Siguiente",upscaleAllLikedTooltip:"Mejorar videos de mltiples publicaciones con me gusta"},b0={placeholder:"Ingresa tu prompt...",toTooltip:"Reemplazar prompt actual con este",fromTooltip:"Guardar prompt actual en este espacio",copyTooltip:"Copiar este prompt al portapapeles",addTooltip:"Agregar nuevo espacio de prompt",makeTooltip:"Rellenar prompt y hacer clic en Crear",status:{navigateToPost:"Navega a una publicacin para gestionar prompts"},prefixPlaceholder:"Ingresa texto de prefijo...",previousTooltip:"Prompt anterior (Flecha izquierda, mantener para navegacin rpida)",nextTooltip:"Siguiente prompt (Flecha derecha, mantener para navegacin rpida)",duplicateTooltip:"Duplicar prompt actual",navigatePreviousPost:"Navegar a publicacin anterior",navigateNextPost:"Navegar a siguiente publicacin",makeAndNextTooltip:"Crear video y navegar a la siguiente publicacin",autoMakeNextTooltip:"Auto: Repetir automticamente Crear + Siguiente con 1-1.5s de retraso",stopAutoTooltip:"Detener auto Crear + Siguiente"},_0={packsAndPrompts:"Paquetes + Prompts",behavior:"Comportamiento",appearance:"Apariencia",theme:"Tema",size:"Tamao",language:"Idioma",autoDownload:"Descarga Automtica",rememberPostState:"Recordar Pack Por Post",simpleShortcut:"Atajo Simple",confirmCopyFrom:"Confirmar Copiar Desde",hideUnsave:"Ocultar Desguardar",enableSound:"Activar Sonido",enableThePit:"Activar El Pozo",collapseSections:"Contraer Secciones",listLimit:"Lmite de Lista",listLimitWarning:"Advertencia: Usar lmites diferentes a 100 podra llevar a un baneo",globalPromptAddon:"Complemento de Prompt Global",globalPromptAddonPlaceholder:"Ingresa texto para agregar a todos los prompts...",navigatePostsWithArrows:"Navegar Posts con Flechas",openPacksManagement:"Abrir Gestin de Paquetes",importMode:"Modo de Importacin de Pack",importModeAdd:"Agregar",importModeReplace:"Reemplazar",purge:"Purgar",purgeAllData:"Purgar Todos los Datos",purgeClickHint:"Haz clic 5 veces para activar la secuencia de purga",themes:{dark:"Oscuro",light:"Claro",dracula:"Drcula",winamp:"Winamp",limewire:"LimeWire",steam:"Steam",discord:"Discord"},sizes:{tiny:"Muy Pequeo (70%)",small:"Pequeo (85%)",medium:"Mediano (100%)",large:"Grande (115%)"},languages:{en:"Ingls",es:"Espaol",ru:"Ruso",de:"Alemn"},tooltips:{packsManagement:"Gestionar paquetes: importar/exportar, renombrar, organizar prompts con arrastrar y soltar",rememberPostState:"Recordar qu paquete de prompts se us para cada publicacin, cambiando automticamente de paquete al navegar entre publicaciones",simpleShortcut:"Usar Ctrl/Cmd+Enter en lugar de Ctrl/Cmd+Shift+Enter para aplicar prompt",confirmCopyFrom:"Mostrar dilogo de confirmacin cuando copiar desde la pgina reemplazara el texto del prompt existente",globalPromptAddon:"Agregar texto personalizado que se agregar automticamente a cada prompt al presionar Crear o Crear+Siguiente",autoDownload:"Descargar automticamente archivos multimedia cuando se complete la generacin de video",enableSound:"Activar efectos de sonido para interacciones de la interfaz",hideUnsave:"Ocultar el botn Desguardar de la pgina",enableThePit:"Mostrar la pestaa El Pozo para acceder a publicaciones eliminadas",collapseSections:"Activar secciones contrables - las secciones comienzan contradas y se pueden expandir haciendo clic en los encabezados. Cuando est desactivado, todas las secciones siempre estn expandidas"}},O0={sections:{bulkActions:"Acciones Masivas"},tooltips:{upscaleAllLiked:"Mejorar videos de mltiples publicaciones con me gusta",downloadAllLiked:"Descargar todos los medios de mltiples publicaciones con me gusta",manageLikes:"Quitar me gusta o volver a dar me gusta desde el archivo",deleteMultiple:"Eliminar mltiples publicaciones permanentemente"},buttons:{upscaleAllLiked:"Mejorar Todos los Me Gusta",downloadAllLiked:"Descargar Todos los Me Gusta",manageLikes:"Gestionar Me Gusta"}},j0={availableFeatures:"Caractersticas Disponibles",keyboardShortcuts:"Atajos de Teclado",about:{description:"Extensin de Chrome/Firefox para gestin de medios de Grok",author:"por b2kdaman",firefoxSupport:"Soporte de Firefox por wyntre"},sections:{availableFeatures:"Caractersticas Disponibles",keyboardShortcuts:"Atajos de Teclado",about:"Acerca de",signIn:"Iniciar Sesin"},features:{savePrompts:"Guardar y organizar prompts en paquetes",ratePrompts:"Calificar prompts con estrellas",importExport:"Importar/exportar paquetes de prompts como JSON",upscale:"Mejorar videos a calidad HD",autoDownload:"Descarga automtica de medios generados",keyboardShortcuts:"Soporte completo de atajos de teclado",themes:"Mltiples temas de color y tamaos de interfaz",crossBrowser:"Soporte para Firefox y Chrome",saveOrganize:"Guardar y organizar prompts con paquetes",packManagement:"Crear, eliminar y cambiar entre paquetes",ratePromptsStars:"Calificar prompts con calificaciones de 1-5 estrellas",arrowKeys:"Navegar prompts con teclas de flecha",importExportPacks:"Importar y exportar paquetes (modo agregar o reemplazar)",aiGenerate:"Generar nuevos paquetes con IA usando plantillas de prompts de Grok",downloadMedia:"Descargar imgenes y videos (cuando todos los videos son HD)",parallelUpscale:"Mejora paralela de videos a calidad HD",bulkOperations:"Operaciones masivas: Eliminar, mejorar, volver a gustar, quitar me gusta",purgeData:"Funcin de purga de todos los datos para limpieza completa",batchSelection:"Seleccin por lotes con Shift-clic en modal de operaciones masivas",makeNext:"Crear + Siguiente: Automatizar aplicacin de prompt y navegacin de publicaciones",realtimeProgress:"Progreso de generacin de video en tiempo real",playPause:"Control de reproducir/pausar video",fullscreen:"Reproduccin de video en pantalla completa",hideUnsave:"Opcin para ocultar botn de no guardar",themeCustomization:"Personalizacin de tema (Oscuro, Claro, Drcula, Winamp, LimeWire, Steam, Discord)",uiScaling:"Escalado de tamao de interfaz (Muy Pequeo a Grande)",autoDownloadMedia:"Descarga automtica de medios cuando se completa la generacin",multiLanguage:"Soporte multiidioma (Ingls, Espaol, Ruso, Alemn)"},shortcuts:{makeVideo:"Crear un Video",copyMake:"Copiar y Crear",navigatePrompts:"Navegar Prompts",togglePanel:"Alternar Panel",switchTabs:"Cambiar Pestaas",descriptions:{makeVideo:"Crear un Video",copyMake:"Copiar y Crear",navigateVideos:"Navegar videos",toggleFullscreen:"Alternar pantalla completa",playPause:"Reproducir/pausar video"},keys:{ctrl:"Ctrl",cmd:"Cmd",enter:"Enter",shift:"Shift",arrowLeft:"",arrowRight:"",f:"F",space:"Espacio"}},aboutText:"ImagineGodMode te ayuda a gestionar prompts de generacin de video con caractersticas como guardar paquetes de prompts, calificacin, importar/exportar, mejorar videos a HD y descarga automtica de medios.",signIn:{linkText:"Iniciar sesin en X.ai"},tooltips:{crossBrowser:"Funciona perfectamente en navegadores Firefox y Chrome",saveOrganize:"Crea mltiples paquetes para organizar tus prompts por tema o proyecto",packManagement:"Agrega nuevos paquetes, elimina los existentes y cambia fcilmente entre ellos",ratePrompts:"Haz clic en las estrellas para calificar tus prompts de 1 a 5 estrellas",arrowKeys:"Usa las teclas de flecha izquierda/derecha para navegar rpidamente entre videos",navigatePostsWithArrows:"Usa las teclas de flecha para navegar entre posts en lugar de videos (por defecto, las flechas navegan videos)",importExport:"Comparte paquetes con otros o haz copias de seguridad de tus prompts como archivos JSON",aiGenerate:"Usa Grok AI para generar paquetes completos de prompts desde plantillas",downloadMedia:"Descarga automticamente todas las imgenes y videos HD de una publicacin",parallelUpscale:"Mejora mltiples videos a calidad HD simultneamente para un procesamiento ms rpido",bulkOperations:"Realiza acciones de eliminar, mejorar, volver a gustar o dejar de gustar en mltiples publicaciones a la vez",purgeData:"Elimina completamente todos los datos de la extensin con una secuencia de confirmacin segura",batchSelection:"Mantn presionado Shift y haz clic para seleccionar mltiples elementos en operaciones masivas",makeNext:"Aplica automticamente el prompt y navega a la siguiente publicacin en secuencia",realtimeProgress:"Ve la barra de progreso en vivo mientras se generan los videos",playPause:"Controla la reproduccin del video con el botn de reproducir/pausar o la barra espaciadora",fullscreen:"Mira videos en modo de pantalla completa presionando F o haciendo clic en el botn",hideUnsave:"Elimina el botn de no guardar de la interfaz para una interfaz ms limpia",themeCustomization:"Elige entre 7 temas diferentes para que coincida con tu estilo",uiScaling:"Escala toda la interfaz desde 70% (Pequeo) hasta 115% (Grande)",autoDownloadMedia:"Habilita descargas automticas cuando se complete la generacin de video",multiLanguage:"Cambia entre los idiomas ingls, espaol, ruso y alemn",dragPanel:"Arrastra para reposicionar el panel"}},L0={searchTooltip:"Buscar prompts",manageTooltip:"Gestionar paquetes y prompts"},U0={likeManagement:{tabs:{liked:"Publicaciones Gustadas",archive:"Archivo"}},confirmDelete:{title:"Eliminar Paquete",message:'Ests seguro de que deseas eliminar "{{packName}}"?'},confirmDeletion:{title:"Confirmar Eliminacin",message:"Ests seguro de que deseas eliminar permanentemente {{count}} publicacin{{plural}}? Esta accin no se puede deshacer."},delete:{title:"Eliminar Publicaciones ({{total}} en total)",actionText:"Eliminar",warningMessage:"Advertencia: Eliminar publicaciones es permanente y no se puede deshacer!"},download:{title:"Seleccionar Publicaciones para Descargar ({{selected}}/{{total}})",actionText:"Descargar {{count}} Publicacin{{plural}}",warningMessage:"Esto descargar todos los medios (imgenes y videos) de las publicaciones seleccionadas."},unlike:{title:"Seleccionar Publicaciones para Quitar Me Gusta ({{selected}}/{{total}})",actionText:"Quitar Me Gusta a {{count}} Publicacin{{plural}}"},upscale:{title:"Seleccionar Publicaciones para Mejorar ({{selected}}/{{total}})",actionText:"Mejorar {{count}} Publicacin{{plural}}"},like:{title:"Seleccionar Publicaciones para Me Gusta ({{selected}}/{{total}})",actionText:"Me Gusta a {{count}} Publicacin{{plural}}"},unlikedArchive:{title:"Archivo de Publicaciones Sin Me Gusta ({{total}} en total)",actionText:"Dar Me Gusta a {{count}} Publicacin{{plural}}",selectPrompt:"Seleccionar publicaciones para dar me gusta",noPostsMessage:"No hay publicaciones sin me gusta en el archivo",relikingPosts:"Dando me gusta a publicaciones"},importPack:{title:"Importar Paquete",selectFile:"Seleccionar Archivo",validJson:"JSON Vlido",invalidJson:"JSON Invlido",importing:"Importando...",success:"Importado exitosamente",error:"Error al importar",pasteJsonPlaceholder:"Pega JSON aqu o haz clic en los botones de arriba...",pasteTooltip:"Pegar JSON desde el portapapeles",selectFileTooltip:"Seleccionar archivo JSON o PAK"},selectPack:{title:"Seleccionar Paquetes para Exportar",exportAll:"Exportar Todos los Paquetes",selectAll:"Seleccionar Todo",deselectAll:"Deseleccionar Todo",selectedCount:"{{count}} paquete(s) seleccionado(s)"},searchPrompts:{title:"Buscar Prompts",placeholder:"Escribe para buscar...",noResults:"No se encontraron prompts",resultCount:"{{count}} resultado(s)",promptNumber:"Prompt #{{number}}"},purge:{title:" PURGAR TODOS LOS DATOS",dangerZone:"ZONA DE PELIGRO",warningMessage:"Esta accin eliminar permanentemente:",allLikedPosts:"Todas las publicaciones con me gusta",allLikedPostsDesc:"Intentar quitar el me gusta de todas las publicaciones",unlikedArchive:"Archivo de sin me gusta",unlikedArchiveDesc:"Se borrar el historial completo",allPromptPacks:"Todos los paquetes de prompts",allPromptPacksDesc:"Se eliminarn todos los paquetes y prompts",cannotBeUndone:"ESTO NO SE PUEDE DESHACER!",pressArrowKeys:"Presiona las siguientes teclas de flecha en orden:",startPressing:"Comienza a presionar las teclas de flecha...",sequenceComplete:" Secuencia completa! Botn de purga habilitado.",purgeAllDataButton:"Purgar Todos los Datos"},confirmReplace:{title:"Reemplazar Texto del Prompt?",message:"Esto reemplazar el texto actual del prompt. Ests seguro de que quieres continuar?",confirmText:"Reemplazar"},packsManagement:{title:"Gestin de Paquetes",confirmDeleteTitle:"Confirmar Eliminacin",createPackTooltip:"Crear nuevo paquete",selectAllPacksTooltip:"Seleccionar todos los paquetes",deselectAllPacksTooltip:"Deseleccionar todos los paquetes",deleteSelectedTooltip:"Eliminar paquetes seleccionados",newPackPlaceholder:"Nombre del nuevo paquete...",saveTooltip:"Guardar",cancelTooltip:"Cancelar",renamePackTooltip:"Renombrar paquete",deletePackTooltip:"Eliminar paquete",importTooltip:"Importar paquete desde archivo o portapapeles",copyPromptTooltip:"Copiar prompt del sistema Grok para paquetes generados por IA",exportTooltip:"Exportar paquetes seleccionados a archivo",addPromptTooltip:"Agregar nuevo prompt",searchPromptsPlaceholder:"Buscar prompts...",selectAllPromptsTooltip:"Seleccionar todo",deselectAllPromptsTooltip:"Deseleccionar todo",moveToPlaceholder:"Mover a...",editPromptTooltip:"Editar prompt",duplicatePromptTooltip:"Duplicar prompt",deletePromptTooltip:"Eliminar prompt",moveSelectedPromptsTooltip:"Mover prompts seleccionados",emptyPackPlaceholder:"Empieza a escribir para crear un prompt..."},fullscreen:{enterTooltip:"Entrar en pantalla completa (F)"}},V0={navigation:{previousPost:"Publicacin anterior",nextPost:"Siguiente publicacin",previousPrompt:"Prompt anterior",nextPrompt:"Siguiente prompt"},prompt:{placeholder:"Ingresa tu prompt..."},status:{underConstruction:"En construccin"}},H0={tabs:M0,common:D0,panel:I0,prompt:b0,settings:_0,ops:O0,help:j0,packManager:L0,modals:U0,pit:V0},z0={prompt:"",ops:"",settings:"",help:"",queueTooltip:" "},$0={cancel:"",delete:"",import:"",export:"",add:"",copy:"",make:"",paste:"",current:"",version:"",confirm:"",close:"",processing:"",selectAll:" ",deselectAll:" ",loading:"",save:""},B0={collapseTooltip:" ",expandTooltip:" ",authorCredit:" b2kdaman",previousPostTooltip:" ",nextPostTooltip:" ",autoTooltip:":    + ",upscaleAllLikedTooltip:"     "},F0={placeholder:"  ...",toTooltip:"   ",fromTooltip:"     ",copyTooltip:"     ",addTooltip:"   ",makeTooltip:"     ",status:{navigateToPost:"     "},prefixPlaceholder:"  ...",previousTooltip:"  ( ,    )",nextTooltip:"  ( ,    )",duplicateTooltip:"  ",navigatePreviousPost:"   ",navigateNextPost:"   ",makeAndNextTooltip:"      ",autoMakeNextTooltip:":    +    1-1.5",stopAutoTooltip:"   + "},G0={packsAndPrompts:" + ",behavior:"",appearance:" ",theme:"",size:"",language:"",autoDownload:" ",rememberPostState:"   ",simpleShortcut:"  ",confirmCopyFrom:" ",hideUnsave:"  Unsave",enableSound:" ",enableThePit:" ",collapseSections:" ",listLimit:" ",listLimitWarning:":     100    ",globalPromptAddon:"   ",globalPromptAddonPlaceholder:"      ...",navigatePostsWithArrows:"   ",openPacksManagement:"  ",importMode:"  ",importModeAdd:"",importModeReplace:"",purge:"",purgeAllData:"  ",purgeClickHint:" 5     ",themes:{dark:"",light:"",dracula:"",winamp:"Winamp",limewire:"LimeWire",steam:"Steam",discord:"Discord"},sizes:{tiny:" (70%)",small:" (85%)",medium:" (100%)",large:" (115%)"},languages:{en:"",es:"",ru:"",de:""},tooltips:{packsManagement:" : /, ,     ",rememberPostState:"       ,       ",simpleShortcut:" Ctrl/Cmd+Enter  Ctrl/Cmd+Shift+Enter   ",confirmCopyFrom:"          ",globalPromptAddon:"  ,            +",autoDownload:"      ",enableSound:"      ",hideUnsave:"  Unsave  ",enableThePit:"       ",collapseSections:"   -          .  ,    "}},Y0={sections:{bulkActions:" "},tooltips:{upscaleAllLiked:"     ",downloadAllLiked:"      ",manageLikes:"        ",deleteMultiple:"   "},buttons:{upscaleAllLiked:"  ",downloadAllLiked:"  ",manageLikes:" "}},K0={availableFeatures:" ",keyboardShortcuts:" ",about:{description:" Chrome/Firefox    Grok",author:" b2kdaman",firefoxSupport:" Firefox  wyntre"},sections:{availableFeatures:" ",keyboardShortcuts:" ",about:" ",signIn:""},features:{savePrompts:"     ",ratePrompts:"  ",importExport:"/    JSON",upscale:"   HD ",autoDownload:"   ",keyboardShortcuts:"   ",themes:"     ",crossBrowser:" Firefox  Chrome",saveOrganize:"     ",packManagement:",     ",ratePromptsStars:"   1  5 ",arrowKeys:"     -",importExportPacks:"    (   )",aiGenerate:"     ,    Grok",downloadMedia:"    (    HD)",parallelUpscale:"    HD ",bulkOperations:" : , ,  ,  ",purgeData:"   ",batchSelection:"    Shift-     ",makeNext:" + :       ",realtimeProgress:"     ",playPause:" / ",fullscreen:"  ",hideUnsave:"    ",themeCustomization:"  (, , , Winamp, LimeWire, Steam, Discord)",uiScaling:"  (   )",autoDownloadMedia:"     ",multiLanguage:"   (, , , )"},shortcuts:{makeVideo:" ",copyMake:"  ",navigatePrompts:"  ",togglePanel:" ",switchTabs:" ",descriptions:{makeVideo:" ",copyMake:"  ",navigateVideos:"  ",toggleFullscreen:"  ",playPause:"/ "},keys:{ctrl:"Ctrl",cmd:"Cmd",enter:"Enter",shift:"Shift",arrowLeft:"",arrowRight:"",f:"F",space:""}},aboutText:"ImagineGodMode           , , /,    HD    .",signIn:{linkText:"  X.ai"},tooltips:{crossBrowser:"    Firefox  Chrome",saveOrganize:"         ",packManagement:"  ,       ",ratePrompts:"  ,     1  5    ",arrowKeys:"  /    ",navigatePostsWithArrows:"         (    )",importExport:"           JSON",aiGenerate:" Grok AI       ",downloadMedia:"     HD   ",parallelUpscale:"    HD      ",bulkOperations:"  , ,       ",purgeData:"        ",batchSelection:" Shift         ",makeNext:"         ",realtimeProgress:"         ",playPause:"      /  ",fullscreen:"    ,  F  ",hideUnsave:"         ",themeCustomization:"   7  ,   ",uiScaling:"    70% ()  115% ()",autoDownloadMedia:"      ",multiLanguage:"  , ,    ",dragPanel:"    "}},X0={searchTooltip:" ",manageTooltip:"   "},W0={likeManagement:{tabs:{liked:" ",archive:""}},confirmDelete:{title:" ",message:' ,    "{{packName}}"?'},confirmDeletion:{title:" ",message:" ,     {{count}} {{plural}}?    ."},delete:{title:"  ( {{total}})",actionText:"",warningMessage:":   !"},download:{title:"    ({{selected}}/{{total}})",actionText:" {{count}} {{plural}}",warningMessage:"    (  )   ."},unlike:{title:"     ({{selected}}/{{total}})",actionText:"   {{count}} {{plural}}"},upscale:{title:"    ({{selected}}/{{total}})",actionText:" {{count}} {{plural}}"},like:{title:"    ({{selected}}/{{total}})",actionText:" {{count}} {{plural}}"},unlikedArchive:{title:"    ( {{total}})",actionText:"  {{count}} {{plural}}",selectPrompt:"   ",noPostsMessage:"     ",relikingPosts:"   "},importPack:{title:" ",selectFile:" ",validJson:" JSON",invalidJson:" JSON",importing:"...",success:" ",error:" ",pasteJsonPlaceholder:" JSON     ...",pasteTooltip:" JSON   ",selectFileTooltip:"  JSON  PAK"},selectPack:{title:"   ",exportAll:"  ",selectAll:" ",deselectAll:" ",selectedCount:": {{count}}"},searchPrompts:{title:" ",placeholder:"   ...",noResults:"  ",resultCount:"{{count}} ()",promptNumber:" #{{number}}"},purge:{title:"   ",dangerZone:" ",warningMessage:"   :",allLikedPosts:"  ",allLikedPostsDesc:"     ",unlikedArchive:" ",unlikedArchiveDesc:"   ",allPromptPacks:"  ",allPromptPacksDesc:"     ",cannotBeUndone:"  !",pressArrowKeys:"     :",startPressing:"   ...",sequenceComplete:"  !   .",purgeAllDataButton:"  "},confirmReplace:{title:"  ?",message:"    .  ,   ?",confirmText:""},packsManagement:{title:" ",confirmDeleteTitle:" ",createPackTooltip:"  ",selectAllPacksTooltip:"  ",deselectAllPacksTooltip:"    ",deleteSelectedTooltip:"  ",newPackPlaceholder:"  ...",saveTooltip:"",cancelTooltip:"",renamePackTooltip:" ",deletePackTooltip:" ",importTooltip:"      ",copyPromptTooltip:"   Grok  ,  ",exportTooltip:"    ",addPromptTooltip:"  ",searchPromptsPlaceholder:" ...",selectAllPromptsTooltip:" ",deselectAllPromptsTooltip:"   ",moveToPlaceholder:" ...",editPromptTooltip:" ",duplicatePromptTooltip:" ",deletePromptTooltip:" ",moveSelectedPromptsTooltip:"  ",emptyPackPlaceholder:"  ,   ..."},fullscreen:{enterTooltip:"    (F)"}},J0={navigation:{previousPost:" ",nextPost:" ",previousPrompt:" ",nextPrompt:" "},prompt:{placeholder:"  ..."},status:{underConstruction:" "}},Q0={tabs:z0,common:$0,panel:B0,prompt:F0,settings:G0,ops:Y0,help:K0,packManager:X0,modals:W0,pit:J0},q0={prompt:"Prompt",ops:"Ops",settings:"Einstellungen",help:"Hilfe",queueTooltip:"Auftragswarteschlange"},Z0={cancel:"Abbrechen",delete:"Lschen",import:"Importieren",export:"Exportieren",add:"Hinzufgen",copy:"Kopieren",make:"Erstellen",paste:"Einfgen",current:"Aktuell",version:"Version",confirm:"Besttigen",close:"Schlieen",processing:"Verarbeitung",selectAll:"Alle auswhlen",deselectAll:"Alle abwhlen",loading:"Wird geladen",save:"Speichern"},ev={collapseTooltip:"Panel einklappen",expandTooltip:"Panel ausklappen",authorCredit:"von b2kdaman",previousPostTooltip:"Vorheriger Beitrag",nextPostTooltip:"Nchster Beitrag",autoTooltip:"Auto: Automatisch Erstellen + Weiter wiederholen",upscaleAllLikedTooltip:"Videos von mehreren gelikten Beitrgen hochskalieren"},tv={placeholder:"Geben Sie Ihren Prompt ein...",toTooltip:"Aktuellen Prompt mit diesem ersetzen",fromTooltip:"Aktuellen Prompt in diesem Slot speichern",copyTooltip:"Diesen Prompt in die Zwischenablage kopieren",addTooltip:"Neuen Prompt-Slot hinzufgen",makeTooltip:"Prompt ausfllen und Make-Button klicken",status:{navigateToPost:"Navigieren Sie zu einem Beitrag, um Prompts zu verwalten"},prefixPlaceholder:"Prfixtext eingeben...",previousTooltip:"Vorheriger Prompt (Pfeiltaste links, gedrckt halten fr schnelle Navigation)",nextTooltip:"Nchster Prompt (Pfeiltaste rechts, gedrckt halten fr schnelle Navigation)",duplicateTooltip:"Aktuellen Prompt duplizieren",navigatePreviousPost:"Zum vorherigen Beitrag navigieren",navigateNextPost:"Zum nchsten Beitrag navigieren",makeAndNextTooltip:"Video erstellen und zum nchsten Beitrag navigieren",autoMakeNextTooltip:"Auto: Erstellen + Weiter automatisch wiederholen mit 1-1,5s Verzgerung",stopAutoTooltip:"Auto Erstellen + Weiter stoppen"},nv={packsAndPrompts:"Packs + Prompts",behavior:"Verhalten",appearance:"Erscheinungsbild",theme:"Thema",size:"Gre",language:"Sprache",autoDownload:"Auto-Download",rememberPostState:"Pack pro Beitrag merken",simpleShortcut:"Einfache Tastenkombination",confirmCopyFrom:"Kopieren besttigen",hideUnsave:"Unsave ausblenden",enableSound:"Sound aktivieren",enableThePit:"Die Grube aktivieren",collapseSections:"Abschnitte einklappen",listLimit:"Listenlimit",listLimitWarning:"Warnung: Die Verwendung von anderen Limits als 100 knnte zu einem Bann fhren",globalPromptAddon:"Globaler Prompt-Zusatz",globalPromptAddonPlaceholder:"Text eingeben, der an alle Prompts angehngt wird...",navigatePostsWithArrows:"Beitrge mit Pfeiltasten navigieren",openPacksManagement:"Pack-Verwaltung ffnen",importMode:"Pack-Importmodus",importModeAdd:"Hinzufgen",importModeReplace:"Ersetzen",purge:"Bereinigen",purgeAllData:"Alle Daten lschen",purgeClickHint:"5 Mal klicken, um die Bereinigungssequenz zu aktivieren",themes:{dark:"Dunkel",light:"Hell",dracula:"Dracula",winamp:"Winamp",limewire:"LimeWire",steam:"Steam",discord:"Discord"},sizes:{tiny:"Mini (70%)",small:"Klein (85%)",medium:"Mittel (100%)",large:"Gro (115%)"},languages:{en:"Englisch",es:"Spanisch",ru:"Russisch",de:"Deutsch"},tooltips:{packsManagement:"Packs verwalten: importieren/exportieren, umbenennen, Prompts mit Drag & Drop organisieren",rememberPostState:"Merken Sie sich, welches Prompt-Pack fr jeden Beitrag verwendet wurde, und wechseln Sie beim Navigieren zwischen Beitrgen automatisch die Packs",simpleShortcut:"Verwenden Sie Strg/Cmd+Enter anstelle von Strg/Cmd+Shift+Enter, um den Prompt anzuwenden",confirmCopyFrom:"Besttigungsdialog anzeigen, wenn das Kopieren von der Seite den vorhandenen Prompt-Text ersetzen wrde",globalPromptAddon:"Fgen Sie benutzerdefinierten Text hinzu, der beim Drcken von Erstellen oder Erstellen+Weiter automatisch an jeden Prompt angehngt wird",autoDownload:"Mediendateien automatisch herunterladen, wenn die Videogenerierung abgeschlossen ist",enableSound:"Soundeffekte fr UI-Interaktionen aktivieren",hideUnsave:"Blenden Sie die Unsave-Schaltflche von der Seite aus",enableThePit:"Zeigen Sie die Registerkarte Die Grube fr den Zugriff auf gelschte Beitrge an",collapseSections:"Einklappbare Abschnitte aktivieren - Abschnitte starten eingeklappt und knnen durch Klicken auf die berschriften erweitert werden. Wenn deaktiviert, sind alle Abschnitte immer erweitert"}},ov={sections:{bulkActions:"Massenaktionen"},tooltips:{upscaleAllLiked:"Videos von mehreren gelikten Beitrgen hochskalieren",downloadAllLiked:"Alle Medien von mehreren gelikten Beitrgen herunterladen",manageLikes:"Beitrge unliken oder aus Archiv erneut liken",deleteMultiple:"Mehrere Beitrge dauerhaft lschen"},buttons:{upscaleAllLiked:"Alle Gelikten hochskalieren",downloadAllLiked:"Alle Gelikten herunterladen",manageLikes:"Likes verwalten"}},rv={availableFeatures:"Verfgbare Funktionen",keyboardShortcuts:"Tastaturkrzel",about:{description:"Chrome/Firefox-Erweiterung fr Grok-Medienverwaltung",author:"von b2kdaman",firefoxSupport:"Firefox-Untersttzung von wyntre"},sections:{availableFeatures:"Verfgbare Funktionen",keyboardShortcuts:"Tastaturkrzel",about:"ber",signIn:"Anmelden"},features:{savePrompts:"Prompts in Packs speichern und organisieren",ratePrompts:"Prompts mit Sternebewertungen bewerten",importExport:"Prompt-Packs als JSON importieren/exportieren",upscale:"Videos auf HD-Qualitt hochskalieren",autoDownload:"Generierte Medien automatisch herunterladen",keyboardShortcuts:"Vollstndige Tastaturkrzel-Untersttzung",themes:"Mehrere Farbthemen und UI-Gren",crossBrowser:"Firefox- und Chrome-Cross-Browser-Untersttzung",saveOrganize:"Prompts mit Packs speichern und organisieren",packManagement:"Packs erstellen, lschen und zwischen ihnen wechseln",ratePromptsStars:"Prompts mit 1-5-Sterne-Bewertungen bewerten",arrowKeys:"Mit Pfeiltasten durch Prompts navigieren",importExportPacks:"Packs importieren und exportieren (Hinzufgen- oder Ersetzen-Modus)",aiGenerate:"Neue Packs mit KI generieren unter Verwendung von Grok-Prompt-Vorlagen",downloadMedia:"Bilder und Videos herunterladen (wenn alle Videos HD sind)",parallelUpscale:"Parallele Video-Hochskalierung auf HD-Qualitt",bulkOperations:"Massenoperationen: Beitrge lschen, hochskalieren, erneut liken, unliken",purgeData:"Alle Daten lschen-Funktion fr vollstndige Datenbereinigung",batchSelection:"Shift-Klick-Stapelauswahl im Massenoperations-Modal",makeNext:"Erstellen + Weiter: Automatisieren Sie die Prompt-Anwendung und Beitrags-Navigation",realtimeProgress:"Echtzeit-Videogenerierungsfortschritt",playPause:"Video-Wiedergabe/Pause-Steuerung",fullscreen:"Vollbild-Videowiedergabe",hideUnsave:"Unsave-Button ausblenden-Option",themeCustomization:"Theme-Anpassung (Dunkel, Hell, Dracula, Winamp, LimeWire, Steam, Discord)",uiScaling:"UI-Grenskalierung (Mini bis Gro)",autoDownloadMedia:"Automatischer Medien-Download nach Abschluss der Generierung",multiLanguage:"Mehrsprachige Untersttzung (Englisch, Spanisch, Russisch, Deutsch)"},shortcuts:{makeVideo:"Video erstellen",copyMake:"Kopieren & Erstellen",navigatePrompts:"Prompts navigieren",togglePanel:"Panel umschalten",switchTabs:"Tabs wechseln",descriptions:{makeVideo:"Video erstellen",copyMake:"Kopieren & Erstellen",navigateVideos:"Videos navigieren",toggleFullscreen:"Vollbild umschalten",playPause:"Video wiedergeben/pausieren"},keys:{ctrl:"Strg",cmd:"Cmd",enter:"Eingabe",shift:"Umschalt",arrowLeft:"",arrowRight:"",f:"F",space:"Leertaste"}},aboutText:"ImagineGodMode hilft Ihnen bei der Verwaltung von Videogenerierungs-Prompts mit Funktionen wie dem Speichern von Prompt-Packs, Bewertungen, Import/Export, Hochskalierung von Videos auf HD und automatischem Medien-Download.",signIn:{linkText:"Bei X.ai anmelden"},tooltips:{crossBrowser:"Funktioniert nahtlos auf Firefox- und Chrome-Browsern",saveOrganize:"Erstellen Sie mehrere Packs, um Ihre Prompts nach Thema oder Projekt zu organisieren",packManagement:"Fgen Sie neue Packs hinzu, lschen Sie bestehende und wechseln Sie einfach zwischen ihnen",ratePrompts:"Klicken Sie auf Sterne, um Ihre Prompts von 1-5 Sternen zu bewerten und die Qualitt leicht zu verfolgen",arrowKeys:"Verwenden Sie die Pfeiltasten links/rechts, um schnell durch Videos zu blttern",navigatePostsWithArrows:"Verwenden Sie die Pfeiltasten, um zwischen Beitrgen statt Videos zu navigieren (standardmig navigieren Pfeiltasten Videos)",importExport:"Teilen Sie Packs mit anderen oder sichern Sie Ihre Prompts als JSON-Dateien",aiGenerate:"Verwenden Sie Grok AI, um ganze Prompt-Packs aus Vorlagen zu generieren",downloadMedia:"Laden Sie automatisch alle Bilder und HD-Videos von einem Beitrag herunter",parallelUpscale:"Skalieren Sie mehrere Videos gleichzeitig auf HD-Qualitt hoch fr schnellere Verarbeitung",bulkOperations:"Fhren Sie Lschen, Hochskalieren, erneutes Liken oder Unliken auf mehreren Beitrgen gleichzeitig durch",purgeData:"Lschen Sie alle Erweiterungsdaten vollstndig mit einer sicheren Besttigungssequenz",batchSelection:"Halten Sie die Umschalttaste gedrckt und klicken Sie, um mehrere Elemente bei Massenoperationen auszuwhlen",makeNext:"Wenden Sie automatisch Prompt an und navigieren Sie zum nchsten Beitrag in der Sequenz",realtimeProgress:"Sehen Sie den Live-Fortschrittsbalken whrend Videos generiert werden",playPause:"Steuern Sie die Videowiedergabe mit der Wiedergabe-/Pause-Taste oder der Leertaste",fullscreen:"Sehen Sie Videos im Vollbildmodus, indem Sie F drcken oder auf die Schaltflche klicken",hideUnsave:"Entfernen Sie die Unsave-Schaltflche aus der Benutzeroberflche fr ein saubereres Interface",themeCustomization:"Whlen Sie aus 7 verschiedenen Themen, um Ihren Stil anzupassen",uiScaling:"Skalieren Sie die gesamte Benutzeroberflche von 70% (Mini) bis 115% (Gro)",autoDownloadMedia:"Aktivieren Sie automatische Downloads, wenn die Videogenerierung abgeschlossen ist",multiLanguage:"Wechseln Sie zwischen Englisch, Spanisch, Russisch und Deutsch",dragPanel:"Ziehen Sie, um das Panel neu zu positionieren"}},sv={searchTooltip:"Prompts durchsuchen",manageTooltip:"Packs und Prompts verwalten"},lv={likeManagement:{tabs:{liked:"Gelikte Beitrge",archive:"Archiv"}},confirmDelete:{title:"Pack lschen",message:'Mchten Sie "{{packName}}" wirklich lschen?'},confirmDeletion:{title:"Lschen besttigen",message:"Mchten Sie wirklich {{count}} Beitrag{{plural}} dauerhaft lschen? Diese Aktion kann nicht rckgngig gemacht werden."},delete:{title:"Beitrge lschen ({{total}} insgesamt)",actionText:"Lschen",warningMessage:"Warnung: Das Lschen von Beitrgen ist dauerhaft und kann nicht rckgngig gemacht werden!"},download:{title:"Beitrge zum Herunterladen auswhlen ({{selected}}/{{total}})",actionText:"{{count}} Beitrag{{plural}} herunterladen",warningMessage:"Dies ldt alle Medien (Bilder und Videos) von den ausgewhlten Beitrgen herunter."},unlike:{title:"Beitrge zum Unliken auswhlen ({{selected}}/{{total}})",actionText:"{{count}} Beitrag{{plural}} unliken"},upscale:{title:"Beitrge zum Hochskalieren auswhlen ({{selected}}/{{total}})",actionText:"{{count}} Beitrag{{plural}} hochskalieren"},like:{title:"Beitrge zum Liken auswhlen ({{selected}}/{{total}})",actionText:"{{count}} Beitrag{{plural}} liken"},unlikedArchive:{title:"Archiv ungelikter Beitrge ({{total}} insgesamt)",actionText:"{{count}} Beitrag{{plural}} erneut liken",selectPrompt:"Beitrge zum erneuten Liken auswhlen",noPostsMessage:"Keine ungelikten Beitrge im Archiv",relikingPosts:"Beitrge werden erneut geliked"},importPack:{title:"Pack importieren",selectFile:"Datei auswhlen",validJson:"Gltiges JSON",invalidJson:"Ungltiges JSON",importing:"Wird importiert...",success:"Erfolgreich importiert",error:"Import fehlgeschlagen",pasteJsonPlaceholder:"JSON hier einfgen oder oben auf Schaltflchen klicken...",pasteTooltip:"JSON aus Zwischenablage einfgen",selectFileTooltip:"JSON- oder PAK-Datei auswhlen"},selectPack:{title:"Packs zum Exportieren auswhlen",exportAll:"Alle Packs exportieren",selectAll:"Alle auswhlen",deselectAll:"Alle abwhlen",selectedCount:"{{count}} Pack(s) ausgewhlt"},searchPrompts:{title:"Prompts durchsuchen",placeholder:"Zum Suchen eingeben...",noResults:"Keine Prompts gefunden",resultCount:"{{count}} Ergebnis(se)",promptNumber:"Prompt #{{number}}"},purge:{title:" ALLE DATEN LSCHEN",dangerZone:"GEFAHRENZONE",warningMessage:"Diese Aktion lscht dauerhaft:",allLikedPosts:"Alle gelikten Beitrge",allLikedPostsDesc:"Wird versuchen, alle Beitrge zu unliken",unlikedArchive:"Archiv ungelikter Beitrge",unlikedArchiveDesc:"Die gesamte Historie wird gelscht",allPromptPacks:"Alle Prompt-Packs",allPromptPacksDesc:"Jedes Pack und jeder Prompt wird gelscht",cannotBeUndone:"DIES KANN NICHT RCKGNGIG GEMACHT WERDEN!",pressArrowKeys:"Drcken Sie die folgenden Pfeiltasten in der Reihenfolge:",startPressing:"Beginnen Sie mit dem Drcken der Pfeiltasten...",sequenceComplete:" Sequenz abgeschlossen! Bereinigungsschaltflche aktiviert.",purgeAllDataButton:"Alle Daten lschen"},confirmReplace:{title:"Prompt-Text ersetzen?",message:"Dies ersetzt den aktuellen Prompt-Text. Mchten Sie wirklich fortfahren?",confirmText:"Ersetzen"},packsManagement:{title:"Pack-Verwaltung",confirmDeleteTitle:"Lschen besttigen",createPackTooltip:"Neues Pack erstellen",selectAllPacksTooltip:"Alle Packs auswhlen",deselectAllPacksTooltip:"Alle Packs abwhlen",deleteSelectedTooltip:"Ausgewhlte Packs lschen",newPackPlaceholder:"Name des neuen Packs...",saveTooltip:"Speichern",cancelTooltip:"Abbrechen",renamePackTooltip:"Pack umbenennen",deletePackTooltip:"Pack lschen",importTooltip:"Pack aus Datei oder Zwischenablage importieren",copyPromptTooltip:"Grok-System-Prompt fr KI-generierte Packs kopieren",exportTooltip:"Ausgewhlte Packs in Datei exportieren",addPromptTooltip:"Neuen Prompt hinzufgen",searchPromptsPlaceholder:"Prompts durchsuchen...",selectAllPromptsTooltip:"Alle auswhlen",deselectAllPromptsTooltip:"Alle abwhlen",moveToPlaceholder:"Verschieben nach...",editPromptTooltip:"Prompt bearbeiten",duplicatePromptTooltip:"Prompt duplizieren",deletePromptTooltip:"Prompt lschen",moveSelectedPromptsTooltip:"Ausgewhlte Prompts verschieben",emptyPackPlaceholder:"Beginnen Sie mit der Eingabe, um einen Prompt zu erstellen..."},fullscreen:{enterTooltip:"Vollbild aktivieren (F)"}},av={navigation:{previousPost:"Vorheriger Beitrag",nextPost:"Nchster Beitrag",previousPrompt:"Vorheriger Prompt",nextPrompt:"Nchster Prompt"},prompt:{placeholder:"Geben Sie Ihren Prompt ein..."},status:{underConstruction:"In Bearbeitung"}},iv={tabs:q0,common:Z0,panel:ev,prompt:tv,settings:nv,ops:ov,help:rv,packManager:sv,modals:lv,pit:av},Br={en:N0,es:H0,ru:Q0,de:iv},Af=w.createContext(void 0),cv=({children:e})=>{const[t,n]=w.useState(()=>{const s=localStorage.getItem("i18n_locale");return s&&Br[s]?s:"en"}),o=s=>{Br[s]&&(n(s),localStorage.setItem("i18n_locale",s))},r=(s,l)=>{const i=s.split(".");let c=Br[t];for(const u of i)if(c&&typeof c=="object"&&u in c)c=c[u];else{c=Br.en;for(const p of i)if(c&&typeof c=="object"&&p in c)c=c[p];else return s;break}return typeof c!="string"?s:l?c.replace(/\{\{(\w+)\}\}/g,(u,p)=>{var f;return((f=l[p])==null?void 0:f.toString())??`{{${p}}}`}):c};return a.jsx(Af.Provider,{value:{locale:t,setLocale:o,t:r},children:e})},de=()=>{const e=w.useContext(Af);if(!e)throw new Error("useTranslation must be used within an I18nProvider");return e},Rf=({rating:e,onChange:t,readonly:n=!1})=>{const{getThemeColors:o}=re(),r=o(),[s,l]=w.useState(null),i=s!==null?s:e;return a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(c=>a.jsx("button",{type:"button",className:n?"cursor-default":"cursor-pointer transition-colors duration-100",onClick:()=>!n&&t(c),onMouseEnter:()=>!n&&l(c),onMouseLeave:()=>!n&&l(null),disabled:n,children:a.jsx(Q,{path:i>=c?Ef:Cf,size:1,color:r.TEXT_PRIMARY})},c))})},uv={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full"},vt=({isOpen:e,title:t,onClose:n,getThemeColors:o,children:r,maxWidth:s="md",maxHeight:l,width:i,height:c,padding:u="p-3",overlayOpacity:p=.5,showCloseButton:f=!0,closeOnOverlayClick:g=!0,disableClose:x=!1,footer:y,headerExtra:v})=>{const S=o();if(!e)return null;const m=()=>{g&&!x&&n()},d=()=>{x||n()},h=uv[s],C=a.jsx("div",{className:"modal-overlay fixed inset-0 flex items-center justify-center p-4",style:{backgroundColor:`rgba(0, 0, 0, ${p})`,zIndex:wn.MODAL},onClick:m,children:a.jsxs("div",{className:`modal-content rounded-xl ${u} ${h} w-full mx-4 flex flex-col gap-2`,style:{backgroundColor:`${S.BACKGROUND_DARK}aa`,backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:`1px solid ${S.BORDER}`,boxShadow:`0 8px 32px ${S.SHADOW}`,...i&&{width:i},...c&&{height:c},...l&&{maxHeight:l}},onClick:P=>P.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("h2",{className:"text-sm font-semibold",style:{color:S.TEXT_PRIMARY},children:t}),v]}),f&&a.jsx("button",{onClick:d,disabled:x,className:"rounded-full p-1 transition-colors flex-shrink-0",style:{backgroundColor:"transparent",color:S.TEXT_SECONDARY,opacity:x?.5:1,cursor:x?"not-allowed":"pointer"},onMouseEnter:P=>{x||(P.currentTarget.style.backgroundColor=S.BACKGROUND_MEDIUM,P.currentTarget.style.color=S.TEXT_PRIMARY)},onMouseLeave:P=>{x||(P.currentTarget.style.backgroundColor="transparent",P.currentTarget.style.color=S.TEXT_SECONDARY)},children:a.jsx(Q,{path:yr,size:.8})})]}),a.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:r}),y&&a.jsx("div",{children:y})]})});return mr.createPortal(C,document.body)},dv=({isOpen:e,onClose:t,getThemeColors:n})=>{const{packs:o,setCurrentPack:r,setCurrentIndex:s}=Ye(),{t:l}=de(),i=n(),[c,u]=w.useState(""),[p,f]=w.useState([]),g=w.useRef(null);w.useEffect(()=>{e&&g.current&&g.current.focus()},[e]),w.useEffect(()=>{if(!c.trim()){const d=setTimeout(()=>{f([])},0);return()=>clearTimeout(d)}const v=c.toLowerCase(),S=[];Object.entries(o).forEach(([d,h])=>{h.forEach((C,P)=>{C.text.toLowerCase().includes(v)&&S.push({packName:d,promptIndex:P,text:C.text,rating:C.rating||0})})});const m=setTimeout(()=>{f(S)},0);return c.trim()&&Ph(c.length,S.length),()=>clearTimeout(m)},[c,o]);const x=v=>{r(v.packName),s(v.promptIndex),t()},y=()=>{u(""),f([]),t()};return a.jsx(vt,{isOpen:e,title:l("modals.searchPrompts.title"),onClose:y,getThemeColors:n,maxWidth:"md",maxHeight:"80vh",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:a.jsx(Q,{path:Os,size:.7,color:i.TEXT_SECONDARY})}),a.jsx("input",{ref:g,type:"text",value:c,onChange:v=>u(v.target.value),placeholder:l("modals.searchPrompts.placeholder"),className:"w-full pl-10 pr-3 py-2 rounded-lg text-sm focus:outline-none",style:{backgroundColor:i.BACKGROUND_MEDIUM,color:i.TEXT_PRIMARY,border:`1px solid ${i.BORDER}`}})]}),c&&a.jsx("div",{className:"text-xs mb-2",style:{color:i.TEXT_SECONDARY},children:l("modals.searchPrompts.resultCount",{count:p.length})}),a.jsx("div",{className:"flex-1 overflow-y-scroll custom-scrollbar",children:c&&p.length===0?a.jsx("div",{className:"text-center py-8 text-sm",style:{color:i.TEXT_SECONDARY},children:l("modals.searchPrompts.noResults")}):a.jsx("div",{className:"flex flex-col gap-2",children:p.map((v,S)=>a.jsxs("button",{onClick:()=>x(v),className:"text-left p-3 rounded-lg transition-colors",style:{backgroundColor:i.BACKGROUND_MEDIUM,border:`1px solid ${i.BORDER}`},onMouseEnter:m=>{m.currentTarget.style.backgroundColor=i.BACKGROUND_LIGHT,m.currentTarget.style.borderColor=i.TEXT_SECONDARY},onMouseLeave:m=>{m.currentTarget.style.backgroundColor=i.BACKGROUND_MEDIUM,m.currentTarget.style.borderColor=i.BORDER},children:[a.jsx("div",{className:"text-sm mb-2 line-clamp-2",style:{color:i.TEXT_PRIMARY},children:v.text}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"font-medium truncate",style:{color:i.TEXT_SECONDARY},children:v.packName}),a.jsx("span",{className:"ml-2 flex-shrink-0",style:{color:i.TEXT_SECONDARY,opacity:.5},children:l("modals.searchPrompts.promptNumber",{number:v.promptIndex+1})})]}),v.rating>0&&a.jsx("div",{className:"mt-2",children:a.jsx(Rf,{rating:v.rating,onChange:()=>{},readonly:!0})})]},`${v.packName}-${v.promptIndex}-${S}`))})})]})})},Au={selectedPackName:null,isPackDragging:!1,draggedPromptIndex:null,statusMessage:"",isNotificationVisible:!1,isSelectionMode:!1,selectedPromptIndices:new Set,isPackSelectionMode:!1,selectedPackNames:new Set},kr=At(e=>({...Au,setSelectedPackName:t=>e({selectedPackName:t,selectedPromptIndices:new Set}),setIsPackDragging:t=>e({isPackDragging:t}),setDraggedPromptIndex:t=>e({draggedPromptIndex:t}),setStatusMessage:t=>e({statusMessage:t}),setIsNotificationVisible:t=>e({isNotificationVisible:t}),setIsSelectionMode:t=>e({isSelectionMode:t,selectedPromptIndices:new Set}),togglePromptSelection:t=>e(n=>{const o=new Set(n.selectedPromptIndices);return o.has(t)?o.delete(t):o.add(t),{selectedPromptIndices:o}}),selectAllPrompts:t=>e({selectedPromptIndices:new Set(t)}),deselectAllPrompts:()=>e({selectedPromptIndices:new Set}),setIsPackSelectionMode:t=>e({isPackSelectionMode:t,selectedPackNames:new Set}),togglePackSelection:t=>e(n=>{const o=new Set(n.selectedPackNames);return o.has(t)?o.delete(t):o.add(t),{selectedPackNames:o}}),selectAllPacks:t=>e({selectedPackNames:new Set(t)}),deselectAllPacks:()=>e({selectedPackNames:new Set}),resetState:()=>e({...Au,selectedPromptIndices:new Set,selectedPackNames:new Set})})),pv=({packName:e,index:t,promptCount:n,onRename:o,onDelete:r,onDropPrompt:s,onPackMove:l,getThemeColors:i})=>{const{t:c}=de(),{currentPack:u}=Ye(),{selectedPackName:p,setSelectedPackName:f,setIsPackDragging:g,isPackSelectionMode:x,selectedPackNames:y,togglePackSelection:v}=kr(),S=e===p,m=e===u,d=y.has(e),h=!0,[C,P]=w.useState(!1),[T,k]=w.useState(e),[E,I]=w.useState(!1),[A,j]=w.useState(!1),[X,G]=w.useState(!1),Y=i(),$=_=>{if(C||t===void 0){_.preventDefault();return}console.log("[DnD] Starting pack drag:",{packName:e,index:t}),G(!0),g(!0),_.dataTransfer.effectAllowed="move";const L=_.currentTarget,F=L.cloneNode(!0);F.style.position="absolute",F.style.top="-9999px",F.style.width=L.offsetWidth+"px",F.style.opacity="0.8",document.body.appendChild(F),_.dataTransfer.setDragImage(F,0,0),setTimeout(()=>document.body.removeChild(F),0),_.dataTransfer.setData("application/json",JSON.stringify({type:"pack",packIndex:t})),_.dataTransfer.setData("text/plain",`pack:${t}`)},b=()=>{console.log("[DnD] Ending pack drag"),G(!1),g(!1)},J=_=>{_.preventDefault(),_.dataTransfer.dropEffect="move",_.dataTransfer.types.includes("application/json")&&j(!0)},O=()=>{I(!1),j(!1)},R=_=>{_.preventDefault(),I(!1),j(!1);try{const L=JSON.parse(_.dataTransfer.getData("application/json"));if(L.type==="pack"){const{packIndex:F}=L;console.log("[DnD] Drop pack on pack:",{dragIndex:F,hoverIndex:t}),l&&F!==t&&t!==void 0&&l(F,t)}else{const{promptIndex:F,sourcePack:q}=L;console.log("[DnD] Drop prompt on pack:",{packName:e,promptIndex:F,sourcePack:q}),q!==e&&s(F,q)}}catch(L){console.error("[DnD] Failed to parse drop data:",L)}},N=()=>{const _=T.trim();_&&_!==e&&o(e,_),P(!1),k(e)},H=_=>{_.key==="Enter"?N():_.key==="Escape"&&(k(e),P(!1))},D=()=>{C||(x?v(e):f(e))},M=()=>{!x&&!C&&P(!0)};return a.jsx("div",{draggable:!x&&h&&!C,onDragStart:$,onDragEnd:b,onDragOver:J,onDragLeave:O,onDrop:R,className:"p-2 mb-1 rounded-lg transition-all",style:{backgroundColor:d?`${Y.SUCCESS}20`:S?Y.BACKGROUND_MEDIUM:E?`${Y.SUCCESS}20`:A?`${Y.TEXT_SECONDARY}20`:Y.BACKGROUND_DARK,border:`1px solid ${d||E?Y.SUCCESS:A||S?Y.TEXT_SECONDARY:Y.BORDER}`,opacity:X?.5:1,cursor:C?"text":x?"pointer":"ns-resize"},onClick:D,onDoubleClick:M,children:C?a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx("input",{type:"text",value:T,onChange:_=>k(_.target.value),onKeyDown:H,onFocus:_=>_.target.select(),className:"flex-1 px-1 rounded text-sm",style:{backgroundColor:"transparent",color:Y.TEXT_PRIMARY,border:"none",outline:"none"},autoFocus:!0,onClick:_=>_.stopPropagation()}),a.jsx(U,{icon:xr,iconSize:.5,variant:"icon",onClick:_=>{_.stopPropagation(),N()},tooltip:c("modals.packsManagement.saveTooltip")}),a.jsx(U,{icon:yr,iconSize:.5,variant:"icon",onClick:_=>{_.stopPropagation(),k(e),P(!1)},tooltip:c("modals.packsManagement.cancelTooltip")})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x?a.jsx(Q,{path:d?ul:cl,size:.8,color:d?Y.SUCCESS:Y.TEXT_SECONDARY}):a.jsx(Q,{path:Xi,size:.6,color:Y.TEXT_SECONDARY}),a.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[a.jsx("div",{className:"font-medium text-sm truncate",style:{color:Y.TEXT_PRIMARY},children:e}),n===0?a.jsx(Q,{path:qh,size:.6,color:Y.TEXT_SECONDARY}):a.jsx("div",{className:"flex items-center justify-center text-xs font-semibold rounded-full min-w-[20px] h-5 px-1.5",style:{backgroundColor:Y.SUCCESS,color:"#fff"},children:n})]}),!x&&a.jsxs("div",{className:"flex items-center gap-1",children:[m&&a.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full",style:{backgroundColor:Y.SUCCESS,color:"#fff"},children:c("common.current")}),a.jsx(U,{icon:Sf,iconSize:.5,variant:"icon",onClick:_=>{_.stopPropagation(),P(!0)},tooltip:c("modals.packsManagement.renamePackTooltip")}),a.jsx(U,{icon:sn,iconSize:.5,variant:"icon",onClick:_=>{_.stopPropagation(),r(e)},tooltip:c("modals.packsManagement.deletePackTooltip")})]})]})})},fv=({importMode:e,onImportModeChange:t,onImport:n,onExport:o,onCopyGrokPrompt:r,getThemeColors:s})=>{const l=s(),{t:i}=de();return a.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{style:{color:l.TEXT_SECONDARY},children:[i("settings.importMode"),":"]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",value:"add",checked:e==="add",onChange:()=>t("add"),style:{accentColor:l.SUCCESS}}),a.jsx("span",{style:{color:l.TEXT_PRIMARY},children:i("settings.importModeAdd")})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",value:"replace",checked:e==="replace",onChange:()=>t("replace"),style:{accentColor:l.SUCCESS}}),a.jsx("span",{style:{color:l.TEXT_PRIMARY},children:i("settings.importModeReplace")})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:n,icon:js,className:"flex-1",tooltip:i("modals.packsManagement.importTooltip"),children:i("common.import")}),a.jsx(U,{onClick:r,icon:mf,variant:"icon",tooltip:i("modals.packsManagement.copyPromptTooltip")}),a.jsx(U,{onClick:o,icon:js,className:"flex-1",tooltip:i("modals.packsManagement.exportTooltip"),children:i("common.export")})]})]})},mv=({onAddPack:e,onRenamePack:t,onDeletePack:n,onDropPrompt:o,importMode:r,onImportModeChange:s,onImport:l,onExport:i,onCopyGrokPrompt:c,getThemeColors:u})=>{const{t:p}=de(),f=u(),{packs:g,packOrder:x,reorderPacks:y,deletePacksByNames:v}=Ye(),{isPackSelectionMode:S,setIsPackSelectionMode:m,selectedPackNames:d,selectAllPacks:h,deselectAllPacks:C,setStatusMessage:P,setSelectedPackName:T}=kr(),k=x||Object.keys(g),[E,I]=w.useState(!1),[A,j]=w.useState(""),[X,G]=w.useState(!1),Y=(M,_)=>{if(M===_)return;const L=[...k],[F]=L.splice(M,1);L.splice(_,0,F),y(L)},$=()=>{const M=A.trim();M&&(e(M),j(""),I(!1))},b=M=>{M.key==="Enter"?$():M.key==="Escape"&&(j(""),I(!1))},J=()=>{m(!S)},O=()=>{h(k)},R=()=>{C()},N=()=>{if(d.size===0){P("No packs selected");return}G(!0)},H=()=>{const M=Array.from(d);v(M);const _=k.filter(F=>!d.has(F)),L=_.length>0?_[0]:"Default";T(L),C(),P(`${M.length} pack${M.length!==1?"s":""} deleted`),G(!1)},D=()=>{G(!1)};return a.jsxs("div",{className:"flex flex-col",style:{flex:"0 0 33.333%",minWidth:0,borderRight:`1px solid ${f.BORDER}`},children:[a.jsxs("div",{className:"px-3 border-b flex items-center justify-between gap-2",style:{borderColor:f.BORDER,height:"50px"},children:[a.jsxs("h3",{className:"text-sm font-semibold",style:{color:f.TEXT_PRIMARY},children:["Packs (",k.length,")",S&&d.size>0&&a.jsxs("span",{style:{color:f.SUCCESS},children:[" - ",d.size," selected"]})]}),a.jsxs("div",{className:"flex gap-1",children:[!S&&a.jsx(U,{icon:Ji,iconSize:.6,variant:"icon",onClick:()=>I(!0),tooltip:p("modals.packsManagement.createPackTooltip")}),a.jsx(U,{icon:cf,iconSize:.6,variant:"icon",onClick:J,tooltip:S?"Exit selection mode":"Enter selection mode",style:S?{backgroundColor:`${f.SUCCESS}40`}:void 0})]})]}),S&&a.jsxs("div",{className:"px-3 pr-3 py-2 border-b flex items-center gap-2",style:{borderColor:f.BORDER,backgroundColor:`${f.BACKGROUND_MEDIUM}80`},children:[a.jsx(U,{icon:Qi,iconSize:.5,variant:"icon",onClick:O,tooltip:p("modals.packsManagement.selectAllPacksTooltip")}),a.jsx(U,{icon:Pf,iconSize:.5,variant:"icon",onClick:R,tooltip:p("modals.packsManagement.deselectAllPacksTooltip")}),a.jsx("div",{className:"flex-1"}),a.jsx(U,{icon:sn,iconSize:.5,variant:"icon",onClick:N,tooltip:p("modals.packsManagement.deleteSelectedTooltip"),disabled:d.size===0})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar pl-2 pr-3 py-2",children:[E&&a.jsx("div",{className:"mb-2 p-2 rounded-lg",style:{backgroundColor:f.BACKGROUND_DARK,border:`1px solid ${f.BORDER}`},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:A,onChange:M=>j(M.target.value),onKeyDown:b,onFocus:M=>M.target.select(),placeholder:p("modals.packsManagement.newPackPlaceholder"),className:"flex-1 px-1 rounded text-sm",style:{backgroundColor:"transparent",color:f.TEXT_PRIMARY,border:"none",outline:"none"},autoFocus:!0}),a.jsx(U,{icon:xr,iconSize:.5,variant:"icon",onClick:$,tooltip:p("modals.packsManagement.saveTooltip")}),a.jsx(U,{icon:yr,iconSize:.5,variant:"icon",onClick:()=>{j(""),I(!1)},tooltip:p("modals.packsManagement.cancelTooltip")})]})}),k.map((M,_)=>{const L=g[M].filter(F=>F.text&&F.text.trim()!=="").length;return a.jsx(pv,{packName:M,index:_,promptCount:L,onRename:t,onDelete:n,onDropPrompt:(F,q)=>o(M,F,q),onPackMove:Y,getThemeColors:u},M)})]}),a.jsx("div",{className:"pr-3",children:a.jsx(fv,{importMode:r,onImportModeChange:s,onImport:l,onExport:i,onCopyGrokPrompt:c,getThemeColors:u})}),X&&a.jsx(vt,{isOpen:!0,title:p("modals.packsManagement.confirmDeleteTitle"),onClose:D,getThemeColors:u,maxWidth:"sm",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("p",{style:{color:f.TEXT_PRIMARY},children:["Are you sure you want to delete ",a.jsxs("strong",{children:[d.size," pack",d.size!==1?"s":""]}),"?",Array.from(d).some(M=>{var _;return((_=g[M])==null?void 0:_.length)>0})&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("br",{}),"This will delete:",a.jsx("ul",{className:"list-disc ml-5 mt-2",children:Array.from(d).map(M=>{var _,L;return a.jsxs("li",{children:[a.jsx("strong",{children:M})," (",((_=g[M])==null?void 0:_.length)||0," prompt",((L=g[M])==null?void 0:L.length)!==1?"s":"",")"]},M)})})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(U,{onClick:D,variant:"default",children:"Cancel"}),a.jsx(U,{onClick:H,variant:"default",style:{backgroundColor:f.DANGER,color:"#fff"},children:"Delete"})]})]})})]})},Wn=({value:e,onChange:t,options:n,disabled:o=!1,className:r="",placeholder:s=""})=>{const{getThemeColors:l,getScale:i}=re(),c=l(),f=.875*i(),[g,x]=w.useState(!1),y=w.useRef(null),v=w.useRef(null),[S,m]=w.useState({top:0,left:0,width:0}),d=vr({scaleFactor:1.02}),h=al(),C=w.useMemo(()=>typeof window>"u"?!1:!!document.querySelector(".modal-overlay"),[]),P=w.useMemo(()=>{const A=C?"imaginegodmode-modal-dropdown-portal":"imaginegodmode-dropdown-portal";let j=document.getElementById(A);if(!j){j=document.createElement("div"),j.id=A,j.style.position="fixed",j.style.top="0",j.style.left="0",j.style.zIndex=String(C?wn.MODAL_DROPDOWN:wn.DROPDOWN),j.style.pointerEvents="none";const X=document.getElementById("imaginegodmode-root");X?X.appendChild(j):document.body.appendChild(j)}return j},[C]),T=n.find(A=>A.value===e),k=(T==null?void 0:T.label)||s;w.useEffect(()=>{if(g&&v.current){const A=()=>{if(v.current){const j=v.current.getBoundingClientRect();m({top:j.bottom+4,left:j.left,width:j.width})}};return A(),window.addEventListener("scroll",A,!0),window.addEventListener("resize",A),()=>{window.removeEventListener("scroll",A,!0),window.removeEventListener("resize",A)}}},[g]),w.useEffect(()=>{const A=j=>{y.current&&!y.current.contains(j.target)&&v.current&&!v.current.contains(j.target)&&x(!1)};return g&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[g]);const E=A=>{t(A),x(!1)},I=()=>{o||x(!g)};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:d.glowStyles}),a.jsx("style",{children:h.glowStyles}),a.jsx("div",{className:`relative ${r}`,children:a.jsxs("button",{ref:v,type:"button",onClick:I,disabled:o,className:"pl-3 pr-8 py-2 rounded-full text-sm cursor-pointer focus:outline-none transition-all duration-300 text-left relative block overflow-hidden",style:{backgroundColor:c.BACKGROUND_MEDIUM,color:c.TEXT_PRIMARY,border:`1px solid ${c.BORDER}`,opacity:o?.5:1,cursor:o?"not-allowed":"pointer",width:"100%"},onMouseEnter:A=>{o||(d.handleMouseEnter(A),A.currentTarget.style.backgroundColor=c.BACKGROUND_LIGHT,A.currentTarget.style.color=c.TEXT_PRIMARY)},onMouseLeave:A=>{o||(d.handleMouseLeave(A),A.currentTarget.style.backgroundColor=c.BACKGROUND_MEDIUM,A.currentTarget.style.color=c.TEXT_PRIMARY)},children:[!o&&a.jsx(d.GlowOverlay,{}),a.jsx("span",{className:"relative z-10",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",paddingRight:"8px"},children:k}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:a.jsx(Q,{path:dl,size:.6,color:c.TEXT_PRIMARY,className:`transition-transform duration-200 ${g?"rotate-180":""}`})})]})}),g&&mr.createPortal(a.jsx("div",{ref:y,className:"rounded-lg shadow-lg overflow-hidden",style:{position:"absolute",top:`${S.top}px`,left:`${S.left}px`,width:`${S.width}px`,pointerEvents:"auto",backgroundColor:c.BACKGROUND_MEDIUM,border:`1px solid ${c.BORDER}`,maxHeight:"200px",overflowY:"auto"},children:n.map(A=>{const j=A.value===e;return a.jsxs("button",{type:"button",onClick:()=>E(A.value),className:"w-full px-3 py-2 text-left cursor-pointer transition-all duration-300 relative overflow-hidden",style:{backgroundColor:j?c.BACKGROUND_LIGHT:c.BACKGROUND_MEDIUM,color:j&&c.TEXT_HOVER||c.TEXT_PRIMARY,border:"none",fontSize:`${f}rem`},onMouseEnter:X=>{h.handleMouseEnter(X,A.value,!1,{backgroundColor:c.BACKGROUND_LIGHT,color:c.TEXT_HOVER||c.TEXT_PRIMARY})},onMouseLeave:X=>{h.handleMouseLeave(X,!1,j?{backgroundColor:c.BACKGROUND_LIGHT,color:c.TEXT_HOVER||c.TEXT_PRIMARY}:{backgroundColor:c.BACKGROUND_MEDIUM,color:c.TEXT_PRIMARY})},children:[h.getGlowOverlay(A.value),a.jsx("span",{className:"relative z-10",children:A.label})]},A.value)})}),P)]})},gv=({prompt:e,index:t,packName:n,isDraggable:o,onDragStart:r,onDragEnd:s,onPromptMove:l,getThemeColors:i})=>{const{t:c}=de(),u=i(),{deletePromptByIndex:p,updatePromptByIndex:f,duplicatePromptByIndex:g}=Ye(),{isSelectionMode:x,selectedPromptIndices:y,togglePromptSelection:v,setStatusMessage:S}=kr(),[m,d]=w.useState(!1),[h,C]=w.useState(!1),[P,T]=w.useState(!1),[k,E]=w.useState(e.text),I=y.has(t),A=D=>{if(!o){D.preventDefault();return}console.log("[DnD] Starting prompt drag:",{index:t,packName:n}),d(!0),r(t),D.dataTransfer.effectAllowed="move",D.dataTransfer.setData("application/json",JSON.stringify({type:"prompt",promptIndex:t,sourcePack:n})),D.dataTransfer.setData("text/plain",`prompt:${t}:${n}`)},j=()=>{console.log("[DnD] Ending prompt drag"),d(!1),s()},X=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move",C(!0)},G=()=>{C(!1)},Y=D=>{D.preventDefault(),C(!1);try{const M=JSON.parse(D.dataTransfer.getData("application/json"));if(M.type==="prompt"&&M.sourcePack===n){const{promptIndex:_}=M;console.log("[DnD] Drop prompt on prompt:",{dragIndex:_,hoverIndex:t}),l&&_!==t&&l(_,t)}}catch(M){console.error("[DnD] Failed to parse drop data:",M)}},$=()=>{E(e.text),T(!0)},b=()=>{k.trim()!==e.text&&(f(n,t,k.trim()),S("Prompt updated")),T(!1)},J=()=>{E(e.text),T(!1)},O=()=>{p(n,t),S("Prompt deleted")},R=()=>{g(n,t),S("Prompt duplicated")},N=D=>{D.stopPropagation(),v(t)},H=()=>{!x&&!P&&$()};return a.jsx("div",{draggable:!x&&!P&&o,onDragStart:A,onDragEnd:j,onDragOver:X,onDragLeave:G,onDrop:Y,className:"p-3 mb-2 rounded-lg transition-all",style:{backgroundColor:I?`${u.SUCCESS}20`:h?`${u.TEXT_SECONDARY}20`:u.BACKGROUND_DARK,border:`1px solid ${I?u.SUCCESS:h?u.TEXT_SECONDARY:u.BORDER}`,opacity:m?.5:1,cursor:x?"pointer":o&&!P?"move":"default"},onClick:x?N:void 0,onDoubleClick:H,children:a.jsxs("div",{className:"flex items-start gap-2",children:[x?a.jsx(Q,{path:I?ul:cl,size:.8,color:I?u.SUCCESS:u.TEXT_SECONDARY}):!P&&a.jsx(Q,{path:Xi,size:.7,color:u.TEXT_SECONDARY}),a.jsx("div",{className:"flex-1 min-w-0",children:P?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("textarea",{value:k,onChange:D=>E(D.target.value),className:"w-full px-2 py-1 rounded text-sm resize-none custom-scrollbar",style:{backgroundColor:u.BACKGROUND_MEDIUM,color:u.TEXT_PRIMARY,border:"none",outline:"none",minHeight:"60px"},autoFocus:!0,onKeyDown:D=>{D.key==="Escape"&&J()}}),a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx(U,{icon:xr,iconSize:.6,variant:"icon",onClick:b,tooltip:c("common.save")}),a.jsx(U,{icon:yr,iconSize:.6,variant:"icon",onClick:J,tooltip:c("common.cancel")})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm line-clamp-2 break-words",style:{color:u.TEXT_PRIMARY,wordBreak:"break-word",overflowWrap:"break-word"},children:e.text||a.jsx("em",{style:{color:u.TEXT_SECONDARY},children:"Empty prompt"})}),a.jsx("div",{className:"flex items-center gap-0.5 mt-1",children:[1,2,3,4,5].map(D=>a.jsx(Q,{path:D<=e.rating?Ef:Cf,size:.5,color:D<=e.rating?"#fbbf24":u.TEXT_SECONDARY},D))})]})}),!x&&!P&&a.jsxs("div",{className:"flex gap-1",children:[a.jsx(U,{icon:Sf,iconSize:.6,variant:"icon",onClick:D=>{D.stopPropagation(),$()},tooltip:c("modals.packsManagement.editPromptTooltip")}),a.jsx(U,{icon:gf,iconSize:.6,variant:"icon",onClick:D=>{D.stopPropagation(),R()},tooltip:c("modals.packsManagement.duplicatePromptTooltip")}),a.jsx(U,{icon:sn,iconSize:.6,variant:"icon",onClick:D=>{D.stopPropagation(),O()},tooltip:c("modals.packsManagement.deletePromptTooltip")})]})]})})},hv=({onReorderPrompts:e,getThemeColors:t})=>{const{t:n}=de(),o=t(),{packs:r,packOrder:s,deletePromptsByIndices:l,movePromptToPack:i,addPromptToPack:c}=Ye(),{selectedPackName:u,isPackDragging:p,setDraggedPromptIndex:f,isSelectionMode:g,setIsSelectionMode:x,selectedPromptIndices:y,selectAllPrompts:v,deselectAllPrompts:S,setStatusMessage:m}=kr(),[d,h]=w.useState(""),[C,P]=w.useState(""),[T,k]=w.useState(""),[E,I]=w.useState(!1),A=u||"",j=r[A]||[],X=T.trim()?j.filter(M=>M.text.toLowerCase().includes(T.toLowerCase())):j,Y=(s||Object.keys(r)).filter(M=>M!==A),$=()=>{x(!g)},b=()=>{const M=j.map((_,L)=>L);v(M)},J=()=>{S()},O=()=>{if(y.size===0){m("No prompts selected");return}const M=Array.from(y).sort((_,L)=>L-_);l(A,M),S(),m(`${M.length} prompt${M.length!==1?"s":""} deleted`)},R=()=>{if(y.size===0){m("No prompts selected");return}if(!d){m("Please select a target pack");return}const M=Array.from(y).sort((_,L)=>L-_);M.forEach(_=>{i(_,A,d)}),m(`${M.length} prompt${M.length!==1?"s":""} moved to "${d}"`),h("")},N=()=>{A&&(c(A,""),m("New prompt added"))},H=M=>{const _=M.target.value;P(_),j.length===0&&_.trim()&&(c(A,_),P(""),m("Prompt created"))},D=()=>{I(!E),E&&k("")};return a.jsxs("div",{className:"flex flex-col transition-opacity duration-200",style:{flex:"0 0 66.667%",minWidth:0,opacity:p?.3:1,pointerEvents:p?"none":"auto"},children:[a.jsxs("div",{className:"pl-3 pr-4 border-b flex items-center justify-between gap-2",style:{borderColor:o.BORDER,height:"50px"},children:[a.jsxs("h3",{className:"text-base font-semibold truncate flex items-baseline gap-1",children:[a.jsx("span",{style:{color:o.TEXT_PRIMARY},children:A}),a.jsxs("span",{className:"text-xs font-normal",style:{color:o.TEXT_SECONDARY},children:["(",X.length,T.trim()?`/${j.length}`:""," prompt",j.length!==1?"s":"",")"]}),g&&y.size>0&&a.jsxs("span",{className:"text-xs font-normal",style:{color:o.SUCCESS},children:[" - ",y.size," selected"]})]}),a.jsxs("div",{className:"flex gap-1",children:[!g&&a.jsxs(a.Fragment,{children:[a.jsx(U,{icon:Ji,iconSize:.6,variant:"icon",onClick:N,tooltip:n("modals.packsManagement.addPromptTooltip")}),a.jsx(U,{icon:E?yr:Os,iconSize:.6,variant:"icon",onClick:D,tooltip:E?"Close search":"Search prompts",style:E?{backgroundColor:`${o.SUCCESS}40`}:void 0})]}),a.jsx(U,{icon:cf,iconSize:.6,variant:"icon",onClick:$,tooltip:g?"Exit selection mode":"Enter selection mode",style:g?{backgroundColor:`${o.SUCCESS}40`}:void 0})]})]}),E&&a.jsx("div",{className:"px-3 py-2 border-b",style:{borderColor:o.BORDER,backgroundColor:`${o.BACKGROUND_MEDIUM}80`},children:a.jsx("input",{type:"text",value:T,onChange:M=>k(M.target.value),placeholder:n("modals.packsManagement.searchPromptsPlaceholder"),className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:o.BACKGROUND_MEDIUM,color:o.TEXT_PRIMARY,border:`1px solid ${o.BORDER}`},autoFocus:!0})}),g&&a.jsxs("div",{className:"px-3 py-2 border-b flex items-center gap-2 pr-6",style:{borderColor:o.BORDER,backgroundColor:`${o.BACKGROUND_MEDIUM}80`},children:[a.jsx(U,{icon:Qi,iconSize:.5,variant:"icon",onClick:b,tooltip:n("modals.packsManagement.selectAllPromptsTooltip")}),a.jsx(U,{icon:Pf,iconSize:.5,variant:"icon",onClick:J,tooltip:n("modals.packsManagement.deselectAllPromptsTooltip")}),a.jsx("div",{className:"flex-1"}),Y.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Wn,{options:Y.map(M=>({value:M,label:M})),value:d,onChange:h,placeholder:n("modals.packsManagement.moveToPlaceholder")}),a.jsx(U,{icon:p0,iconSize:.5,variant:"icon",onClick:R,tooltip:n("modals.packsManagement.moveSelectedPromptsTooltip"),disabled:y.size===0||!d})]}),a.jsx(U,{icon:sn,iconSize:.5,variant:"icon",onClick:O,tooltip:n("modals.packsManagement.deletePromptTooltip"),disabled:y.size===0})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar pl-2 pr-4 py-2",children:j.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",style:{color:o.TEXT_SECONDARY},children:[a.jsx(Q,{path:pl,size:2,color:o.TEXT_SECONDARY}),a.jsx("p",{className:"mt-2 mb-4 text-sm",children:"No prompts in this pack"}),a.jsx("textarea",{value:C,onChange:H,placeholder:n("modals.packsManagement.emptyPackPlaceholder"),className:"w-full max-w-md px-3 py-2 rounded text-sm resize-none custom-scrollbar",style:{backgroundColor:o.BACKGROUND_MEDIUM,color:o.TEXT_PRIMARY,border:`1px solid ${o.BORDER}`,minHeight:"80px"}})]}):X.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",style:{color:o.TEXT_SECONDARY},children:[a.jsx(Q,{path:Os,size:2,color:o.TEXT_SECONDARY}),a.jsx("p",{className:"mt-2 text-sm",children:"No prompts match your search"})]}):X.map((M,_)=>{const L=j.findIndex(F=>F===M);return a.jsx(gv,{prompt:M,index:L,packName:A,isDraggable:!T.trim(),onDragStart:f,onDragEnd:()=>f(null),onPromptMove:e,getThemeColors:t},L)})})]})},vv=({isOpen:e,packs:t,currentPack:n,onClose:o,onSelectPack:r,getThemeColors:s})=>{const l=s(),{t:i}=de(),[c,u]=w.useState(new Set),[p,f]=w.useState(!1),[g,x]=w.useState(e);w.useEffect(()=>{if(e&&!g){const h=setTimeout(()=>{u(new Set),x(e)},0);return()=>clearTimeout(h)}const d=setTimeout(()=>{x(e)},0);return()=>clearTimeout(d)},[e,g]);const y=d=>{const h=new Set(c);h.has(d)?h.delete(d):h.add(d),u(h)},v=()=>{u(new Set(t))},S=()=>{u(new Set)},m=()=>{c.size>0&&(r(Array.from(c)),o())};return a.jsx(vt,{isOpen:e,title:i("modals.selectPack.title"),onClose:o,getThemeColors:s,maxWidth:"xs",footer:a.jsxs("div",{className:"flex justify-between items-center w-full",children:[a.jsx(U,{onClick:o,className:"text-xs",children:i("common.cancel")}),a.jsxs(U,{onClick:m,disabled:c.size===0,className:"text-xs",style:{backgroundColor:c.size>0?p?l.TEXT_HOVER:l.SUCCESS:void 0,color:c.size>0?"#fff":void 0,opacity:c.size===0?.5:1,cursor:c.size===0?"not-allowed":"pointer",transition:"background-color 0.2s ease"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[i("common.export")," ",c.size>0&&`(${c.size})`]})]}),children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:v,icon:Qi,className:"flex-1 text-xs",tooltip:i("modals.selectPack.selectAll"),children:i("modals.selectPack.selectAll")}),a.jsx(U,{onClick:S,icon:u0,className:"flex-1 text-xs",tooltip:i("modals.selectPack.deselectAll"),children:i("modals.selectPack.deselectAll")})]}),a.jsx("div",{className:"flex flex-col gap-1.5 max-h-64 overflow-y-scroll",children:t.map(d=>{const h=c.has(d),C=d===n;return a.jsxs("button",{onClick:()=>y(d),className:"text-left px-3 py-2 rounded-lg transition-all flex items-center gap-2 group text-sm",style:{backgroundColor:h?l.BACKGROUND_MEDIUM:l.BACKGROUND_DARK,border:`1px solid ${h?l.SUCCESS:l.BORDER}`,color:l.TEXT_PRIMARY},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=l.BACKGROUND_MEDIUM,h||(P.currentTarget.style.borderColor=l.TEXT_SECONDARY)},onMouseLeave:P=>{h||(P.currentTarget.style.backgroundColor=l.BACKGROUND_DARK,P.currentTarget.style.borderColor=l.BORDER)},children:[a.jsx(Q,{path:h?ul:cl,size:.8,color:h?l.SUCCESS:l.TEXT_SECONDARY}),a.jsx(Q,{path:pl,size:.7,color:l.TEXT_SECONDARY}),a.jsx("span",{className:"font-medium truncate flex-1",children:d}),C&&a.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full ml-2 flex-shrink-0",style:{backgroundColor:l.SUCCESS,color:"#fff"},children:i("common.current")})]},d)})}),c.size>0&&a.jsx("div",{className:"text-xs text-center p-2 rounded-lg",style:{backgroundColor:`${l.SUCCESS}20`,color:l.TEXT_PRIMARY,border:`1px solid ${l.SUCCESS}`},children:i("modals.selectPack.selectedCount",{count:c.size})})]})})},xv=({isOpen:e,importMode:t,onClose:n,onImport:o,getThemeColors:r})=>{const s=r(),{t:l}=de(),[i,c]=w.useState(""),[u,p]=w.useState(null),[f,g]=w.useState(!1),x=w.useRef(null),y=w.useRef(null),v=k=>{if(!k.trim())return{isValid:!1,error:"No JSON provided"};try{const E=JSON.parse(k);if(typeof E.version!="string")return{isValid:!1,error:'Missing or invalid "version" field'};if(E.version==="2.0"&&Array.isArray(E.packs)){if(typeof E.exportDate!="string")return{isValid:!1,error:'Missing or invalid "exportDate" field'};let I=0;for(let A=0;A<E.packs.length;A++){const j=E.packs[A];if(typeof j.packName!="string"||!j.packName.trim())return{isValid:!1,error:`Pack ${A+1}: missing or invalid "packName"`};if(!Array.isArray(j.prompts))return{isValid:!1,error:`Pack ${A+1}: "prompts" must be an array`};for(let X=0;X<j.prompts.length;X++){const G=j.prompts[X];if(typeof G.text!="string")return{isValid:!1,error:`Pack "${j.packName}", Prompt ${X+1}: missing or invalid "text"`};if(typeof G.rating!="number"||G.rating<0||G.rating>5)return{isValid:!1,error:`Pack "${j.packName}", Prompt ${X+1}: "rating" must be 0-5`}}I+=j.prompts.length}return{isValid:!0,isMultiPack:!0,packCount:E.packs.length,promptCount:I,jsonText:k}}if(typeof E.packName!="string"||!E.packName.trim())return{isValid:!1,error:'Missing or invalid "packName" field'};if(!Array.isArray(E.prompts))return{isValid:!1,error:'"prompts" must be an array'};for(let I=0;I<E.prompts.length;I++){const A=E.prompts[I];if(typeof A.text!="string")return{isValid:!1,error:`Prompt ${I+1}: missing or invalid "text"`};if(typeof A.rating!="number"||A.rating<0||A.rating>5)return{isValid:!1,error:`Prompt ${I+1}: "rating" must be 0-5`}}return{isValid:!0,isMultiPack:!1,packName:E.packName,promptCount:E.prompts.length,jsonText:k}}catch(E){return{isValid:!1,error:E instanceof Error?E.message:"Invalid JSON format"}}},S=k=>{try{const E=decodeURIComponent(escape(atob(k)));return JSON.parse(E)}catch{throw new Error("Invalid base64 or JSON format")}},m=async()=>{try{const k=await navigator.clipboard.readText();c(k);const E=v(k);p(E)}catch{p({isValid:!1,error:"Failed to read clipboard"})}},d=k=>{if(c(k),k.trim()){const E=v(k);p(E)}else p(null)},h=k=>{var A;const E=(A=k.target.files)==null?void 0:A[0];if(!E)return;const I=new FileReader;I.onload=j=>{var X;try{const G=(X=j.target)==null?void 0:X.result;let Y;if(E.name.endsWith(".pak"))try{const b=S(G);Y=JSON.stringify(b,null,2)}catch{p({isValid:!1,error:"Invalid .pak file format. File must contain base64 encoded JSON."});return}else Y=G;c(Y);const $=v(Y);p($)}catch(G){p({isValid:!1,error:G instanceof Error?G.message:"Failed to process file"})}},I.onerror=()=>{p({isValid:!1,error:"Failed to read file"})},I.readAsText(E)},C=async()=>{if(!(!(u!=null&&u.isValid)||!u.jsonText)){g(!0);try{const k=new Blob([u.jsonText],{type:"application/json"}),E=new File([k],"import.json",{type:"application/json"});await o(E),c(""),p(null),n()}catch(k){p({...u,isValid:!1,error:k instanceof Error?k.message:"Import failed"})}finally{g(!1)}}},P=()=>{c(""),p(null),n()},T=i.split(`
`).length;return a.jsx(vt,{isOpen:e,title:l("modals.importPack.title"),onClose:P,getThemeColors:r,maxWidth:"md",footer:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(U,{onClick:P,children:l("common.cancel")}),a.jsx(U,{onClick:C,disabled:!(u!=null&&u.isValid)||f,style:{backgroundColor:u!=null&&u.isValid?s.SUCCESS:void 0,color:u!=null&&u.isValid?"#fff":void 0,opacity:!(u!=null&&u.isValid)||f?.5:1},children:l(f?"modals.importPack.importing":"common.import")})]}),children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(U,{onClick:m,icon:Xh,className:"flex-1",tooltip:l("modals.importPack.pasteTooltip"),children:l("common.paste")}),a.jsx(U,{onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},icon:js,className:"flex-1",tooltip:l("modals.importPack.selectFileTooltip"),children:l("modals.importPack.selectFile")})]}),a.jsx("input",{ref:x,type:"file",accept:".pak,.json",onChange:h,className:"hidden"}),a.jsxs("div",{className:"mb-3",children:[a.jsx("textarea",{ref:y,value:i,onChange:k=>d(k.target.value),placeholder:l("modals.importPack.pasteJsonPlaceholder"),className:"w-full h-32 px-3 py-2 rounded-lg text-xs font-mono resize-none",style:{backgroundColor:s.BACKGROUND_MEDIUM,color:s.TEXT_PRIMARY,border:`1px solid ${s.BORDER}`}}),i&&a.jsxs("div",{className:"text-xs mt-1",style:{color:s.TEXT_SECONDARY},children:[T," line",T!==1?"s":""]})]}),u&&a.jsxs("div",{className:"mb-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:u.isValid?`${s.SUCCESS}20`:`${s.BACKGROUND_MEDIUM}`,border:`1px solid ${u.isValid?s.SUCCESS:s.BORDER}`},children:[a.jsx(Q,{path:u.isValid?af:il,size:.7,color:u.isValid?s.SUCCESS:s.TEXT_SECONDARY}),a.jsx("div",{className:"flex-1",children:u.isValid?a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-semibold mb-1",style:{color:s.SUCCESS},children:l("modals.importPack.validJson")}),u.isMultiPack?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Format: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:"Multi-pack (v2.0)"})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Packs: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.packCount})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Total Prompts: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.promptCount})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Format: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:"Single pack (v1.0)"})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Pack: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.packName})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Prompts: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.promptCount})]})]})]}):a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-semibold mb-1",style:{color:s.TEXT_SECONDARY},children:l("modals.importPack.invalidJson")}),a.jsx("div",{style:{color:s.TEXT_SECONDARY},children:u.error})]})})]})]})})},Nf=({isOpen:e,onClose:t,getThemeColors:n})=>{var H;const{t:o}=de(),{packs:r,currentPack:s,addPack:l,renamePack:i,deletePack:c,importPack:u,movePromptToPack:p,reorderPrompts:f}=Ye(),{selectedPackName:g,setSelectedPackName:x,statusMessage:y,setStatusMessage:v,isNotificationVisible:S,setIsNotificationVisible:m,resetState:d}=kr(),[h,C]=w.useState("add"),[P,T]=w.useState(!1),[k,E]=w.useState(!1),[I,A]=w.useState(null);be.useEffect(()=>{e&&!g&&x(s)},[e,s,g,x]),be.useEffect(()=>{e||d()},[e,d]),be.useEffect(()=>{if(y){m(!0);const D=setTimeout(()=>{m(!1)},2500),M=setTimeout(()=>{v("")},3e3);return()=>{clearTimeout(D),clearTimeout(M)}}else m(!1)},[y,m,v]);const j=D=>{l(D),x(D),v(`Pack "${D}" created`)},X=(D,M)=>{i(D,M),g===D&&x(M),v(`Pack renamed to "${M}"`)},G=D=>{A(D)},Y=()=>{if(!I)return;c(I);const D=Object.keys(r).filter(_=>_!==I),M=D.length>0?D[0]:"Default";x(M),v(`Pack "${I}" deleted`),A(null)},$=()=>{A(null)},b=(D,M,_)=>{if(D===_){v("Prompt already in this pack");return}p(M,_,D),v(`Prompt moved from "${_}" to "${D}"`)},J=(D,M)=>{D===M||!g||f(g,D,M)},O=D=>{if(D.length!==0){if(D.length===1){const M=D[0],_=r[M]||[];ef(M,_),v(`Pack "${M}" exported successfully!`)}else{const M=Object.fromEntries(D.map(_=>[_,r[_]||[]]));q1(M),v(`${D.length} packs exported successfully!`)}E(!1)}},R=async D=>{const M=await u(D,h);if(M.success)M.importedCount&&M.importedCount>1?v(`${M.importedCount} packs imported successfully!`):M.packName?v(`Pack "${M.packName}" imported successfully!`):v("Import successful!");else throw new Error(M.error||"Unknown error")},N=async()=>{const D=`You are a SFW video prompt pack generator for a Chrome extension. Your task is to create a JSON file containing safe, creative, and professional video generation prompts organized in a pack.

**OUTPUT FORMAT (STRICT):**
\`\`\`json
{
  "version": "1.0",
  "exportDate": "${new Date().toISOString()}",
  "packName": "Pack Name Here",
  "prompts": [
    { "text": "Detailed SFW video generation prompt", "rating": 4 },
    { "text": "Another creative SFW prompt", "rating": 5 }
  ]
}
\`\`\`

**FIELD REQUIREMENTS:**
- \`version\`: Must be exactly "1.0"
- \`exportDate\`: ISO 8601 timestamp (use current date/time)
- \`packName\`: Creative pack name matching the theme
- \`prompts\`: Array of 10-15 prompt objects
- Each prompt object:
  - \`text\`: Detailed, creative SFW video generation prompt (include camera angles, lighting, movement, style, mood, setting)
  - \`rating\`: Integer 0-5 (0=unrated, 1-2=basic, 3=good, 4=great, 5=exceptional)

**CONTENT GUIDELINES (IMPORTANT - SFW ONLY):**
- ALL prompts must be Safe For Work (SFW)
- NO adult content, violence, gore, or disturbing imagery
- Focus on: nature, landscapes, cityscapes, abstract art, technology, food, architecture, animals, space, weather, emotions (positive), everyday life, sports, travel, culture
- Keep content appropriate for all audiences
- Emphasize beauty, creativity, and artistic expression

**PROMPT QUALITY GUIDELINES:**
- Be specific and descriptive (mention camera movements, lighting conditions, time of day, weather, mood)
- Include cinematic details (focal length, framing, speed, effects)
- Vary complexity and style across prompts
- Mix different types (establishing shots, close-ups, actions, abstract, landscapes)
- Distribute ratings realistically (not all 5s, show variety)

**EXAMPLE SFW PACKS:**
Cinematic Landscapes, Abstract Art, Nature & Wildlife, Sci-Fi Technology, Urban Architecture, Serene Underwater, Cosmic Space, Seasonal Weather, Food & Cuisine, Cultural Celebrations, Sports Action, Minimalist Design, Retro Aesthetic, Emotional Moments, Travel Destinations

**RESPONSE RULE:**
Return ONLY the valid JSON. No explanations, no markdown, no code blocks. Just the raw JSON object.

---

What type of SFW video prompt pack would you like me to create? (Describe the theme, style, or mood you want)`;try{await navigator.clipboard.writeText(D),v("Grok prompt copied to clipboard!")}catch{v("Failed to copy prompt")}};return a.jsxs(a.Fragment,{children:[a.jsxs(vt,{isOpen:e,title:o("modals.packsManagement.title"),onClose:t,getThemeColors:n,width:"95vw",maxWidth:"full",height:"85vh",maxHeight:"900px",padding:"p-4",overlayOpacity:.7,children:[y&&a.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-50 px-4 py-2 rounded-md shadow-lg text-sm font-medium whitespace-nowrap",style:{backgroundColor:n().BACKGROUND_MEDIUM,color:n().TEXT_PRIMARY,border:`1px solid ${n().BORDER}`,boxShadow:`0 4px 6px ${n().SHADOW}`,maxWidth:"300px",top:S?"16px":"-60px",opacity:S?.95:0,transition:"all 0.3s ease-in-out"},children:y}),a.jsxs("div",{className:"flex gap-4 flex-1 min-h-0 overflow-hidden",children:[a.jsx(mv,{onAddPack:j,onRenamePack:X,onDeletePack:G,onDropPrompt:b,importMode:h,onImportModeChange:C,onImport:()=>T(!0),onExport:()=>E(!0),onCopyGrokPrompt:N,getThemeColors:n}),a.jsx(hv,{onReorderPrompts:J,getThemeColors:n})]})]}),a.jsx(vv,{isOpen:k,packs:Object.keys(r),currentPack:s,onClose:()=>E(!1),onSelectPack:O,getThemeColors:n}),a.jsx(xv,{isOpen:P,importMode:h,onClose:()=>T(!1),onImport:R,getThemeColors:n}),I&&a.jsx(vt,{isOpen:!0,title:o("modals.packsManagement.confirmDeleteTitle"),onClose:$,getThemeColors:n,maxWidth:"sm",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("p",{style:{color:n().TEXT_PRIMARY},children:["Are you sure you want to delete the pack ",a.jsxs("strong",{children:['"',I,'"']}),"?",((H=r[I])==null?void 0:H.length)>0&&a.jsxs("span",{children:[" This will delete ",r[I].length," prompt",r[I].length!==1?"s":"","."]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(U,{onClick:$,variant:"default",children:o("common.cancel")}),a.jsx(U,{onClick:Y,variant:"default",style:{backgroundColor:n().DANGER,color:"#fff"},children:o("common.delete")})]})]})})]})},yv=()=>{const{packOrder:e,currentPack:t,setCurrentPack:n,reorderPacks:o}=Ye(),{getThemeColors:r}=re(),{t:s}=de(),[l,i]=w.useState(!1),[c,u]=w.useState(!1),p=e;return a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(U,{onClick:()=>i(!0),icon:Os,iconSize:.7,variant:"icon",tooltip:s("packManager.searchTooltip"),className:"flex-shrink-0"}),a.jsx(x0,{value:t,onChange:f=>n(f),options:p.map(f=>({value:f,label:f})),onReorder:f=>o(f),className:"flex-1 min-w-0"}),a.jsx(U,{onClick:()=>u(!0),icon:pl,iconSize:.7,variant:"icon",tooltip:s("packManager.manageTooltip"),className:"flex-shrink-0"}),a.jsx(dv,{isOpen:l,onClose:()=>i(!1),getThemeColors:r}),a.jsx(Nf,{isOpen:c,onClose:()=>u(!1),getThemeColors:r})]})},kv=({isOpen:e,title:t,message:n,confirmText:o,cancelText:r,onClose:s,onConfirm:l,getThemeColors:i,variant:c="warning"})=>{const u=i(),{t:p}=de(),f=c==="danger"||c==="warning"?u.DANGER:u.GLOW_PRIMARY;return a.jsx(vt,{isOpen:e,title:t,onClose:s,getThemeColors:i,maxWidth:"xs",footer:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:s,className:"flex-1 text-xs",children:r||p("common.cancel")}),a.jsx(U,{onClick:l,icon:xr,iconSize:.7,className:"flex-1 text-xs",style:{backgroundColor:f,color:"#fff"},children:o||p("common.confirm")})]}),children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"rounded-full p-3",style:{backgroundColor:`${f}20`},children:a.jsx(Q,{path:il,size:1.5,color:f})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm mb-2",style:{color:u.TEXT_PRIMARY},children:n})})]})})},Ru={urls:[],videoIdsToUpscale:[],upscaleProgress:0,isUpscaling:!1,hdVideoCount:0,statusText:"Ready",isSpinning:!1},qi=At(e=>({...Ru,setMediaUrls:t=>e({urls:t}),setVideoIdsToUpscale:t=>e({videoIdsToUpscale:t}),setUpscaleProgress:t=>e({upscaleProgress:t}),setIsUpscaling:t=>e({isUpscaling:t}),setHdVideoCount:t=>e({hdVideoCount:t}),setStatusText:t=>e({statusText:t}),setIsSpinning:t=>e({isSpinning:t}),reset:()=>e(Ru)})),Zi=e=>{const t=w.useRef(window.location.href),{reset:n}=qi();w.useEffect(()=>{const o=setInterval(()=>{const r=window.location.href;r!==t.current&&(console.log("[ImagineGodMode] URL changed, resetting state and refetching data"),n(),t.current=r,e&&e())},pt.URL_WATCHER_INTERVAL);return()=>{clearInterval(o)}},[n,e])},fl=e=>{const[t,n]=w.useState([]),[o,r]=w.useState(!1),{listLimit:s}=re();return{likedPosts:t,isLoading:o,loadLikedPosts:async()=>{r(!0);try{const c=(await hr(s)).posts||[];return n(c),c}catch(i){return console.error(`${On} ${hn.FETCH_LIKED_FAILED}`,i),e&&e(hn.FETCH_LIKED_FAILED),[]}finally{r(!1)}}}},Sv=({message:e="No post ID found",subMessage:t="Navigate to a post to continue"})=>{const{getThemeColors:n}=re(),o=n();return a.jsxs("div",{className:"flex flex-col w-full items-center justify-center py-8",children:[a.jsx("div",{className:"text-sm text-center",style:{color:o.TEXT_SECONDARY},children:e}),a.jsx("div",{className:"text-xs text-center mt-2",style:{color:`${o.TEXT_SECONDARY}80`},children:t})]})},Nn=e=>{const t=`/imagine/post/${e}`;return console.log("[ImagineGodMode] Navigating to post via history.pushState:",e),window.history.pushState({},"",t),window.dispatchEvent(new PopStateEvent("popstate")),!0},Pv=(e,t)=>{var o;const n=(o=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:o.set;n==null||n.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))},wv=()=>{const e=document.querySelector(Pt.MAKE_VIDEO_BUTTON);e?(console.log("[ImagineGodMode] Found Make video button:",e),[new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,composed:!0}),new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,composed:!0}),new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,composed:!0}),new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,composed:!0}),new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0})].forEach(n=>e.dispatchEvent(n))):console.warn("[ImagineGodMode] Make video button not found")},ar=(e,t="",n=100)=>{const o=document.querySelector(Pt.TEXTAREA);if(o&&e){const r=t.trim()?`${t.trim()}, ${e}`.trim():e;Pv(o,r),setTimeout(()=>{wv()},n)}},Mf=(e,t="",n,o=100)=>{ar(e,t,o),n&&setTimeout(()=>{Nn(n)},o+1e3)},Wa=()=>{const{currentPack:e,currentIndex:t,getCurrentPrompt:n,getCurrentPromptCount:o,updatePromptText:r,updatePromptRating:s,nextPrompt:l,prevPrompt:i,addPrompt:c,loadPostState:u,savePostState:p}=Ye(),{getThemeColors:f,rememberPostState:g,confirmCopyFrom:x,globalPromptAddonEnabled:y,globalPromptAddon:v,listLimit:S}=re(),{getNextPostId:m,getPrevPostId:d,setCurrentPostId:h,setPosts:C}=go(),{t:P}=de(),T=f(),k=n(),E=o(),[I,A]=w.useState(""),[j,X]=w.useState(null),[G,Y]=w.useState(!1),[$,b]=w.useState(!1),[J,O]=w.useState(!1),R=be.useRef(null),N=be.useRef(null),H=be.useRef(0),D=be.useRef(!1),M=be.useRef(null),{loadLikedPosts:_}=fl(()=>{}),L=w.useCallback(()=>{R.current&&(window.clearTimeout(R.current),R.current=null),N.current&&(window.clearTimeout(N.current),N.current=null),D.current=!1},[]),F=w.useCallback(z=>{R.current&&window.clearTimeout(R.current),N.current&&window.clearTimeout(N.current),D.current=!1,H.current=Date.now(),R.current=window.setTimeout(()=>{D.current=!0,H.current=Date.now();const xe=()=>{const ee=Date.now()-H.current;if(z==="prev")if(t>0)i(),zr("prev");else{L();return}else if(t<E-1)l(),zr("next");else{L();return}let ye=200;ee>2e3?ye=50:ee>1e3?ye=100:ee>500&&(ye=150),N.current&&window.clearTimeout(N.current),N.current=window.setTimeout(xe,ye)};xe()},300)},[t,E,i,l,L]);be.useEffect(()=>()=>{L()},[L]);const q=w.useCallback(async()=>{const z=Mn();if(X(z),h(z),z){const xe=await Ki(z);A(xe),g&&await u(z)}else A("")},[u,g,h]),[ae,W]=w.useState(S);w.useEffect(()=>{q(),_().then(z=>C(z))},[]),w.useEffect(()=>{ae!==S&&(W(S),_().then(z=>C(z)))},[S,ae,_,C]),Zi(q),w.useEffect(()=>{j&&g&&p(j)},[e,t,j,p,g]);const B=async z=>{A(z),j&&await oh(j,z)},Z=()=>{var xe;const z=document.querySelector(Pt.TEXTAREA);if(z&&k){const ee=(xe=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:xe.set;ee==null||ee.call(z,k.text),z.dispatchEvent(new Event("input",{bubbles:!0})),z.dispatchEvent(new Event("change",{bubbles:!0})),Lh()}},le=()=>{const z=document.querySelector(Pt.TEXTAREA);if(!z)return;if(k!=null&&k.text.trim()&&x){Y(!0);return}const xe=zt(z.value);r(xe),xu(),ku()},Te=()=>{const z=document.querySelector(Pt.TEXTAREA);if(!z)return;const xe=zt(z.value);r(xe),xu(),ku(),Y(!1)},yt=()=>{if(!k)return;const z=k.text,xe=k.rating;c(),r(z),s(xe)},Ht=w.useCallback(z=>y&&v.trim()?`${z}, ${v.trim()}`:z,[y,v]),zt=z=>{if(y&&v.trim()){const xe=`, ${v.trim()}`;if(z.endsWith(xe))return z.slice(0,-xe.length).trim()}return z},Sr=()=>{if(!k)return;Ms();const z=Ht(k.text);ar(z,I)},pn=w.useCallback(()=>{M.current&&(window.clearTimeout(M.current),M.current=null),b(!1),O(!1)},[]),$t=w.useCallback(()=>{if(!k)return;const z=m();if(!z){pn();return}Ms(),rf();const xe=Ht(k.text);if(Mf(xe,I,z),$){O(!0);const ee=1e3+Math.random()*500;M.current=window.setTimeout(()=>{const ye=m();$&&ye?$t():pn()},ee)}},[k,$,I,m,pn,Ht]);be.useEffect(()=>()=>{pn()},[pn]);const Bt=()=>{const z=d();z&&Nn(z)},ml=()=>{const z=m();z&&Nn(z)},ho=!(k!=null&&k.text.trim())&&!I.trim();return j?a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx(yv,{}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-xs mb-1 block",style:{color:T.TEXT_SECONDARY},children:"Prefix (applied when pressing Make)"}),a.jsx("input",{type:"text",value:I,onChange:z=>B(z.target.value),placeholder:P("prompt.prefixPlaceholder"),className:"w-full px-3 py-2 rounded-lg text-sm focus:outline-none backdrop-blur-xl",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:T.TEXT_PRIMARY,border:`1px solid ${T.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}})]}),a.jsx("textarea",{value:(k==null?void 0:k.text)||"",onChange:z=>r(z.target.value),placeholder:P("prompt.placeholder"),className:"w-full h-32 px-3 py-2 rounded-lg text-sm resize-none focus:outline-none custom-scrollbar mt-3 backdrop-blur-xl",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:T.TEXT_PRIMARY,border:`1px solid ${T.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}}),a.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(Rf,{rating:(k==null?void 0:k.rating)||0,onChange:s}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{variant:"icon",icon:Ka,onClick:()=>{D.current||(i(),zr("prev"))},onMouseDown:()=>F("prev"),onMouseUp:L,onMouseLeave:L,onTouchStart:()=>F("prev"),onTouchEnd:L,disabled:t===0,tooltip:P("prompt.previousTooltip")}),a.jsxs("span",{className:"text-sm",style:{color:T.TEXT_SECONDARY},children:[t+1," / ",E]}),a.jsx(U,{variant:"icon",icon:Xa,onClick:()=>{D.current||(l(),zr("next"))},onMouseDown:()=>F("next"),onMouseUp:L,onMouseLeave:L,onTouchStart:()=>F("next"),onTouchEnd:L,disabled:t>=E-1,tooltip:P("prompt.nextTooltip")})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:Z,icon:Gh,className:"flex-1",tooltip:P("prompt.toTooltip"),children:"To"}),a.jsx(U,{onClick:le,icon:Yh,className:"flex-1",tooltip:P("prompt.fromTooltip"),children:"From"}),a.jsx(U,{onClick:()=>{k&&(navigator.clipboard.writeText(k.text),jh())},icon:mf,className:"flex-1",tooltip:P("prompt.copyTooltip"),children:P("common.copy")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:c,icon:Ji,className:"flex-1",tooltip:P("prompt.addTooltip"),children:P("common.add")}),a.jsx(U,{onClick:yt,icon:gf,className:"flex-1",tooltip:P("prompt.duplicateTooltip"),children:"Duplicate"}),a.jsx(U,{onClick:Sr,icon:Wi,iconColor:T.BACKGROUND_DARK,className:"flex-1",style:{backgroundColor:T.TEXT_PRIMARY,color:T.BACKGROUND_DARK},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=T.TEXT_PRIMARY,z.currentTarget.style.color=T.BACKGROUND_DARK,z.currentTarget.style.opacity="0.9"},onMouseLeave:z=>{z.currentTarget.style.backgroundColor=T.TEXT_PRIMARY,z.currentTarget.style.color=T.BACKGROUND_DARK,z.currentTarget.style.opacity="1",z.currentTarget.style.boxShadow="none",z.currentTarget.style.transform="scale(1)"},disabled:ho,tooltip:P("prompt.makeTooltip"),children:P("common.make")})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{className:"col-span-1 flex justify-between",children:[a.jsx(U,{variant:"icon",icon:uf,onClick:Bt,disabled:!d(),tooltip:P("prompt.navigatePreviousPost")}),a.jsx(U,{variant:"icon",icon:df,onClick:ml,disabled:!m(),tooltip:P("prompt.navigateNextPost")})]}),a.jsxs("div",{className:"col-span-2 flex",children:[a.jsx(U,{onClick:$t,icon:wf,iconColor:T.BACKGROUND_DARK,className:"!rounded-r-none",style:{width:"80%",backgroundColor:T.TEXT_PRIMARY,color:T.BACKGROUND_DARK},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=T.TEXT_PRIMARY,z.currentTarget.style.color=T.BACKGROUND_DARK,z.currentTarget.style.opacity="0.9"},onMouseLeave:z=>{z.currentTarget.style.backgroundColor=T.TEXT_PRIMARY,z.currentTarget.style.color=T.BACKGROUND_DARK,z.currentTarget.style.opacity="1",z.currentTarget.style.boxShadow="none",z.currentTarget.style.transform="scale(1)"},disabled:!m()||ho,tooltip:P("prompt.makeAndNextTooltip"),children:"Make + Next"}),a.jsx(U,{variant:"icon",icon:J?d0:lf,onClick:()=>{J?pn():b(!$)},tooltip:P(J?"prompt.stopAutoTooltip":"prompt.autoMakeNextTooltip"),className:"!rounded-l-none !border-l-0",style:{width:"20%",...($||J)&&{backgroundColor:T.TEXT_PRIMARY,borderColor:T.TEXT_PRIMARY}},iconColor:$||J?T.BACKGROUND_DARK:void 0,onMouseEnter:$||J?z=>{z.currentTarget.style.backgroundColor=T.TEXT_PRIMARY,z.currentTarget.style.borderColor=T.TEXT_PRIMARY,z.currentTarget.style.opacity="0.9"}:void 0,onMouseLeave:$||J?z=>{z.currentTarget.style.backgroundColor=T.TEXT_PRIMARY,z.currentTarget.style.borderColor=T.TEXT_PRIMARY,z.currentTarget.style.opacity="1",z.currentTarget.style.boxShadow="none",z.currentTarget.style.transform="scale(1)"}:void 0,disabled:!m()||ho})]})]})]}),a.jsx(kv,{isOpen:G,title:P("modals.confirmReplace.title"),message:P("modals.confirmReplace.message"),confirmText:P("modals.confirmReplace.confirmText"),onClose:()=>Y(!1),onConfirm:Te,getThemeColors:f,variant:"warning"})]}):a.jsx(Sv,{subMessage:P("prompt.status.navigateToPost")})},bt=({title:e,children:t,className:n="",style:o={},headerClassName:r=""})=>{const{collapseSections:s,getThemeColors:l}=re(),i=l(),[c,u]=w.useState(s),[p,f]=w.useState("none"),g=w.useRef(null);return w.useEffect(()=>{u(s)},[s]),w.useEffect(()=>{g.current&&f(!s||!c?`${g.current.scrollHeight}px`:"0px")},[c,s,t]),a.jsxs("div",{className:n,style:o,children:[a.jsxs("div",{className:`text-xs font-semibold uppercase tracking-wider pb-2 border-b flex items-center justify-between transition-all duration-200 ${s?"cursor-pointer hover:opacity-80":""} ${r}`,style:{color:i.TEXT_SECONDARY,borderColor:`${i.BORDER}40`,marginBottom:c&&s?"0":"12px",transition:"margin-bottom 0.3s ease-in-out"},onClick:s?()=>u(!c):void 0,children:[a.jsx("span",{children:e}),s&&a.jsx(Q,{path:c?dl:pf,size:.7,color:i.TEXT_SECONDARY})]}),a.jsx("div",{ref:g,style:{maxHeight:p,overflow:"hidden",transition:"max-height 0.3s ease-in-out, opacity 0.3s ease-in-out",opacity:!s||!c?1:0},children:t})]})},Ev=({processedCount:e,totalCount:t,label:n,backgroundColor:o,progressColor:r,textColor:s})=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1 items-center",style:{color:s},children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Q,{path:Et,size:.6,className:"animate-spin"}),n]}),a.jsxs("span",{children:[e," / ",t]})]}),a.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden",style:{backgroundColor:o},children:a.jsx("div",{className:"h-full",style:{width:`${t>0?e/t*100:0}%`,backgroundColor:r,transition:"width 0.3s ease-in-out"}},`progress-${e}`)})]}),Ls=({onSelectAll:e,onDeselectAll:t})=>{const{t:n}=de();return a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(U,{onClick:e,className:"text-xs flex-1",children:n("common.selectAll")}),a.jsx(U,{onClick:t,className:"text-xs flex-1",children:n("common.deselectAll")})]})},Us=({posts:e,selectedIds:t,isProcessing:n,onItemClick:o,renderOverlay:r,renderBadges:s,getBorderColor:l,colors:i})=>a.jsx("div",{className:"flex-1 overflow-y-scroll mb-3",children:a.jsx("div",{className:"grid grid-cols-5 gap-2",children:e.map(c=>{const u=t.has(c.id),p=c.thumbnailImageUrl||c.mediaUrl;return a.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden transition-all cursor-pointer",style:{border:`2px solid ${l(u)}`,opacity:n?.7:u?1:.6,pointerEvents:n?"none":"auto"},onClick:f=>o(c.id,f),onMouseEnter:f=>{!u&&!n&&(f.currentTarget.style.opacity="0.8")},onMouseLeave:f=>{!u&&!n&&(f.currentTarget.style.opacity="0.6")},children:[a.jsx("img",{src:p,alt:c.prompt||"Post",className:"w-full h-full object-cover",loading:"lazy"}),r(c,u),c.videoCount!==void 0&&c.videoCount>0&&a.jsxs("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 rounded text-xs font-semibold flex items-center gap-0.5",style:{backgroundColor:i.BACKGROUND_DARK,color:i.TEXT_PRIMARY,opacity:.5},children:[a.jsx(Q,{path:e0,size:.5}),c.videoCount]}),s==null?void 0:s(c)]},c.id)})})}),Vs=e=>{const[t,n]=w.useState(new Set),[o,r]=w.useState(null),s=w.useCallback((u,p)=>{p==null||p.stopPropagation();const f=e.findIndex(g=>g.id===u);if(p!=null&&p.shiftKey&&o!==null&&f!==-1){const g=new Set(t),x=Math.min(o,f),y=Math.max(o,f),v=!t.has(u);for(let S=x;S<=y;S++)v?g.add(e[S].id):g.delete(e[S].id);n(g)}else{const g=new Set(t);g.has(u)?g.delete(u):g.add(u),n(g)}f!==-1&&r(f)},[e,t,o]),l=w.useCallback(()=>{n(new Set(e.map(u=>u.id)))},[e]),i=w.useCallback(()=>{n(new Set)},[]),c=w.useCallback(()=>{n(new Set),r(null)},[]);return{selectedIds:t,setSelectedIds:n,toggleSelection:s,selectAll:l,deselectAll:i,clearSelection:c}},Df=({isOpen:e,posts:t,mode:n,onClose:o,onConfirm:r,getThemeColors:s,isProcessing:l=!1,processedCount:i=0,totalCount:c=0})=>{const u=s(),{t:p}=de(),{selectedIds:f,toggleSelection:g,selectAll:x,deselectAll:y,setSelectedIds:v}=Vs(t);w.useEffect(()=>{e&&t.length>0&&v(new Set(t.map(k=>k.id)))},[e,t,v]);const S=()=>{x(),Ds(n)},m=()=>{y(),Is(n)},d=()=>{const k=Array.from(f);bs(n,k.length),r(k)},h=t||[],C=h.map(k=>{var E;return{id:k.id,thumbnailImageUrl:k.thumbnailImageUrl,mediaUrl:k.mediaUrl,prompt:k.prompt,videoCount:((E=k.childPosts)==null?void 0:E.filter(I=>I.mediaType==="video").length)||0}}),P=n==="upscale"?p("modals.upscale.title",{selected:f.size,total:h.length}):p("modals.like.title",{selected:f.size,total:h.length}),T=n==="upscale"?p("modals.upscale.actionText",{count:f.size,plural:f.size!==1?"s":""}):p("modals.like.actionText",{count:f.size,plural:f.size!==1?"s":""});return a.jsx(vt,{isOpen:e,title:P,onClose:o,getThemeColors:s,width:"90vw",maxWidth:"full",height:"85vh",maxHeight:"800px",padding:"p-6",overlayOpacity:.7,closeOnOverlayClick:!l,disableClose:l,footer:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(U,{onClick:o,className:"text-xs",disabled:l,icon:l?Et:void 0,iconClassName:l?"animate-spin":"",children:p(l?"common.processing":"common.cancel")}),!l&&a.jsx(U,{onClick:d,className:"text-xs",disabled:f.size===0,children:T})]}),children:a.jsxs(a.Fragment,{children:[l&&a.jsx(Ev,{processedCount:i,totalCount:c,label:p("common.processing"),backgroundColor:u.BACKGROUND_MEDIUM,progressColor:u.SUCCESS,textColor:u.TEXT_SECONDARY}),!l&&a.jsx(Ls,{onSelectAll:S,onDeselectAll:m}),a.jsx(Us,{posts:C,selectedIds:f,isProcessing:l,onItemClick:g,getBorderColor:k=>k?u.SUCCESS:u.BORDER,colors:u,renderOverlay:(k,E)=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:E?`${u.SUCCESS}33`:"rgba(0, 0, 0, 0.5)"}}),a.jsx("button",{onClick:I=>g(k.id,I),disabled:l,className:"absolute bottom-2 right-2 rounded-full p-2",style:{backgroundColor:E?u.SUCCESS:u.BACKGROUND_MEDIUM,cursor:l?"not-allowed":"pointer",opacity:.5},children:a.jsx(Q,{path:E?ul:cl,size:1.5,color:"#fff"})})]})})]})})},If=({tabs:e,activeTab:t,onChange:n,direction:o="down"})=>{const{getThemeColors:r}=re(),s=r(),l=o==="up",{glowStyles:i,handleMouseEnter:c,handleMouseLeave:u,getGlowOverlay:p}=al();return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:i}),a.jsx("div",{className:`flex gap-2 ${l?"border-t mt-4":"border-b mb-4"}`,style:{borderColor:`${s.BORDER}`},children:e.map(f=>{const g=t===f.id;return a.jsxs("button",{onClick:()=>n(f.id),className:`flex-1 px-4 py-2 text-xs transition-all duration-300 relative overflow-hidden flex items-center justify-center ${l?"rounded-b-lg":"rounded-t-lg"}`,style:{backgroundColor:g?s.BACKGROUND_MEDIUM:"transparent",color:g?s.TEXT_PRIMARY:s.TEXT_SECONDARY,border:g?`1px solid ${s.BORDER}`:"none",borderTop:g&&!l?`1px solid ${s.BORDER}`:"none",borderBottom:g&&l?`1px solid ${s.BORDER}`:"none",marginBottom:!l&&g?"-1px":"0",marginTop:l&&g?"-1px":"0"},"data-tooltip-content":f.tooltip,onMouseEnter:x=>{g||c(x,f.id,!1,{backgroundColor:`${s.BACKGROUND_LIGHT}40`,color:s.TEXT_HOVER})},onMouseLeave:x=>{g||u(x,!1,{backgroundColor:"transparent",color:s.TEXT_SECONDARY})},children:[!g&&p(f.id),a.jsxs("span",{className:"relative z-10 flex items-center gap-1.5",children:[f.icon&&a.jsx("span",{className:"-mx-1",children:a.jsx(Q,{path:f.icon,size:.8,color:g?s.TEXT_PRIMARY:s.TEXT_SECONDARY})}),f.label&&a.jsx("span",{children:f.label}),f.badge!==void 0&&f.badge>0&&a.jsx("span",{className:"min-w-[16px] h-[16px] rounded-full text-[9px] font-bold flex items-center justify-center px-1",style:{backgroundColor:s.GLOW_PRIMARY,color:s.BACKGROUND_DARK},children:f.badge})]})]},f.id)})})]})},Cv=({isOpen:e,onClose:t,getThemeColors:n,likedPosts:o,onUnlike:r,archivedPosts:s,onRelike:l,onImportArchive:i,initialTab:c="liked"})=>{const u=n(),{t:p}=de(),[f,g]=w.useState(c),[x,y]=w.useState(""),v=w.useRef(null),S=w.useMemo(()=>[...s].sort((N,H)=>H.unlikedAt-N.unlikedAt),[s]),m=Vs(o),d=Vs(S);w.useEffect(()=>{e&&(m.clearSelection(),d.clearSelection(),x&&y(""))},[e,x]),w.useEffect(()=>{e&&f!==c&&g(c)},[e,c]);const h=()=>{m.selectAll(),Ds("unlike")},C=()=>{m.deselectAll(),Is("unlike")},P=()=>{const N=Array.from(m.selectedIds);bs("unlike",N.length),r(N)},T=()=>{d.selectAll(),Ds("relike")},k=()=>{d.deselectAll(),Is("relike")},E=()=>{const N=Array.from(d.selectedIds);bs("relike",N.length),l(N)},I=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),A=()=>{const N={version:"1.0",exportDate:new Date().toISOString(),posts:s,count:s.length},H=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),D=URL.createObjectURL(H),M=document.createElement("a");M.href=D;const _=new Date().toISOString().split("T")[0];M.download=`unliked-archive-${_}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(D)},j=()=>{var N;y(""),(N=v.current)==null||N.click()},X=N=>{var M;const H=(M=N.target.files)==null?void 0:M[0];if(!H)return;const D=new FileReader;D.onload=_=>{var L;try{const F=(L=_.target)==null?void 0:L.result,q=JSON.parse(F);if(!q.posts||!Array.isArray(q.posts)){y("Invalid file format: missing posts array");return}for(const ae of q.posts){if(!ae.id||typeof ae.id!="string"){y("Invalid file format: post missing id field");return}if(ae.prompt===void 0||typeof ae.prompt!="string"){y("Invalid file format: post missing prompt field");return}if(!ae.mediaUrl||typeof ae.mediaUrl!="string"){y("Invalid file format: post missing mediaUrl field");return}if(ae.unlikedAt===void 0||typeof ae.unlikedAt!="number"){y("Invalid file format: post missing unlikedAt field");return}}i&&(i(q.posts),y(""))}catch(F){y(F instanceof Error?F.message:"Failed to parse file")}},D.onerror=()=>{y("Failed to read file")},D.readAsText(H),N.target.value=""},G=[{id:"liked",label:p("modals.likeManagement.tabs.liked"),icon:Xn,badge:o.length},{id:"archive",label:p("modals.likeManagement.tabs.archive"),icon:Fh,badge:s.length}],Y=o.map(N=>{var H;return{id:N.id,thumbnailImageUrl:N.thumbnailImageUrl,mediaUrl:N.mediaUrl,prompt:N.prompt,videoCount:((H=N.childPosts)==null?void 0:H.filter(D=>D.mediaType==="video").length)||0}}),$=S.map(N=>({id:N.id,thumbnailImageUrl:N.thumbnailImageUrl,mediaUrl:N.mediaUrl,prompt:N.prompt,videoCount:N.childPostCount})),b=()=>f==="liked"?p("modals.unlike.title",{selected:m.selectedIds.size,total:o.length}):p("modals.unlikedArchive.title",{total:s.length}),J=()=>f==="liked"?p("modals.unlike.actionText",{count:m.selectedIds.size,plural:m.selectedIds.size!==1?"s":""}):d.selectedIds.size>0?p("modals.unlikedArchive.actionText",{count:d.selectedIds.size,plural:d.selectedIds.size!==1?"s":""}):p("modals.unlikedArchive.selectPrompt"),O=()=>f==="liked"?a.jsxs(a.Fragment,{children:[a.jsx(Ls,{onSelectAll:h,onDeselectAll:C}),a.jsx(Us,{posts:Y,selectedIds:m.selectedIds,isProcessing:!1,onItemClick:m.toggleSelection,getBorderColor:N=>N?u.DANGER:u.BORDER,colors:u,renderOverlay:(N,H)=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:H?`${u.DANGER}33`:"rgba(0, 0, 0, 0.5)"}}),a.jsx("button",{onClick:D=>m.toggleSelection(N.id,D),className:"absolute bottom-2 right-2 rounded-full p-2",style:{backgroundColor:H?u.DANGER:u.SUCCESS,cursor:"pointer",opacity:.5},children:a.jsx(Q,{path:H?yf:Xn,size:1.5,color:"#fff"})})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("input",{ref:v,type:"file",accept:".json",onChange:X,style:{display:"none"}}),x&&a.jsx("div",{className:"mb-3 p-2 rounded text-xs",style:{backgroundColor:u.BACKGROUND_MEDIUM,color:u.DANGER||"#ff4444",border:`1px solid ${u.DANGER||"#ff4444"}`},children:x}),a.jsx(Ls,{onSelectAll:T,onDeselectAll:k}),S.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:u.TEXT_SECONDARY},children:p("modals.unlikedArchive.noPostsMessage")}):a.jsx(Us,{posts:$,selectedIds:d.selectedIds,isProcessing:!1,onItemClick:d.toggleSelection,getBorderColor:N=>N?u.SUCCESS:u.BORDER,colors:u,renderOverlay:(N,H)=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:H?`${u.SUCCESS}33`:"rgba(0, 0, 0, 0.5)"}}),H&&a.jsx("div",{className:"absolute bottom-2 right-2 pointer-events-none",style:{opacity:.5},children:a.jsx(Q,{path:Xn,size:2,color:u.SUCCESS})})]}),renderBadges:N=>{const H=S.find(D=>D.id===N.id);return H?a.jsx("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 rounded text-xs font-semibold",style:{backgroundColor:u.BACKGROUND_DARK,color:u.TEXT_SECONDARY,opacity:.9},children:I(H.unlikedAt)}):null}})]}),R=()=>a.jsxs("div",{className:"flex gap-2 justify-between",children:[f==="archive"?a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:A,className:"text-xs",disabled:s.length===0,icon:lr,children:p("common.export")}),i&&a.jsx(U,{onClick:j,className:"text-xs",icon:js,children:p("common.import")})]}):a.jsx("div",{}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:t,className:"text-xs",children:p("common.close")}),a.jsx(U,{onClick:f==="liked"?P:E,className:"text-xs",disabled:f==="liked"?m.selectedIds.size===0:d.selectedIds.size===0,icon:f==="liked"?void 0:Xn,children:J()})]})]});return a.jsx(vt,{isOpen:e,title:b(),onClose:t,getThemeColors:n,width:"90vw",maxWidth:"full",height:"85vh",maxHeight:"800px",padding:"p-6",overlayOpacity:.7,closeOnOverlayClick:!0,disableClose:!1,footer:R(),children:a.jsxs(a.Fragment,{children:[a.jsx(If,{tabs:G,activeTab:f,onChange:N=>g(N)}),O()]})})},Tv=({isOpen:e,posts:t,onClose:n,onConfirm:o,getThemeColors:r})=>{const s=r(),{t:l}=de(),{selectedIds:i,toggleSelection:c,selectAll:u,deselectAll:p,setSelectedIds:f}=Vs(t);w.useEffect(()=>{e&&t.length>0&&f(new Set(t.map(h=>h.id)))},[e,t,f]);const g=()=>{u(),Ds("download")},x=()=>{p(),Is("download")},y=()=>{const h=Array.from(i);bs("download",h.length),o(h)},v=t||[],S=v.map(h=>{var C;return{id:h.id,thumbnailImageUrl:h.thumbnailImageUrl,mediaUrl:h.mediaUrl,prompt:h.prompt,videoCount:((C=h.childPosts)==null?void 0:C.filter(P=>P.mediaType==="video").length)||0}}),m=l("modals.download.title",{selected:i.size,total:v.length}),d=l("modals.download.actionText",{count:i.size,plural:i.size!==1?"s":""});return a.jsx(vt,{isOpen:e,title:m,onClose:n,getThemeColors:r,width:"90vw",maxWidth:"full",height:"85vh",maxHeight:"800px",padding:"p-6",overlayOpacity:.7,closeOnOverlayClick:!0,disableClose:!1,footer:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(U,{onClick:n,className:"text-xs",children:l("common.cancel")}),a.jsx(U,{onClick:y,className:"text-xs",disabled:i.size===0,icon:lr,children:d})]}),children:a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-3 p-3 rounded text-xs",style:{backgroundColor:`${s.BACKGROUND_MEDIUM}`,color:s.TEXT_SECONDARY,border:`1px solid ${s.BORDER}`},children:l("modals.download.warningMessage")}),a.jsx(Ls,{onSelectAll:g,onDeselectAll:x}),a.jsx(Us,{posts:S,selectedIds:i,isProcessing:!1,onItemClick:c,getBorderColor:h=>h?s.SUCCESS:s.BORDER,colors:s,renderOverlay:(h,C)=>a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:C?`${s.SUCCESS}33`:"rgba(0, 0, 0, 0.5)"}})})]})})},Av=()=>{const{t:e}=de(),{urls:t,videoIdsToUpscale:n,hdVideoCount:o,statusText:r,setMediaUrls:s,setVideoIdsToUpscale:l,setHdVideoCount:i,setStatusText:c}=qi(),{getThemeColors:u,listLimit:p}=re(),{addJob:f,isProcessing:g}=ll(),{setPosts:x,setCurrentPostId:y,ensureCurrentPostInList:v}=go(),{userId:S}=sr(),m=u(),[d,h]=w.useState(null),[C,P]=w.useState(!1),[T,k]=w.useState(!1),[E,I]=w.useState(!1),[A,j]=w.useState([]),{likedPosts:X,isLoading:G,loadLikedPosts:Y}=fl(c),$=w.useCallback(async()=>{var Z;const W=Mn();if(h(W),y(W),console.log(`${On} Post ID:`,W),!W)return;c(hn.FETCHING),console.log(`${On} Fetching post:`,W);const B=await sl(W);if(console.log(`${On} Fetch response:`,B),B.success&&B.data){const le=mo(B.data);console.log(`${On} Processed data:`,le),(Z=B.data)!=null&&Z.post&&v(B.data.post),s(le.mediaUrls),l(le.videosToUpscale),i(le.hdVideoCount),c(hn.FOUND_MEDIA(le.urls.length,le.hdVideoCount))}else console.error(`${On} Fetch failed:`,B),c(hn.FETCH_FAILED)},[s,l,i,c,y,v]);Zi($);const[b,J]=w.useState(p);w.useEffect(()=>{$(),Y().then(W=>x(W))},[]),w.useEffect(()=>{b!==p&&(J(p),Y().then(W=>x(W)))},[p,b,Y,x]);const O=()=>{if(t.length===0){c("No media to download");return}if(!d){c("No post ID found");return}const W=t.map(B=>{const Z=B.url.split("/"),Te=Z[Z.length-1].split("?")[0]||`media_${Date.now()}`;return{url:B.url,filename:Te}});f({type:"download",totalItems:W.length,data:{type:"download",postIds:[d],items:W}}),c(`Added download job: ${t.length} file${t.length===1?"":"s"}`),yu(t.length,"mixed"),s([])},R=()=>{if(n.length===0){c(hn.NO_VIDEOS);return}if(!d){c(hn.NO_POST_ID);return}f({type:"upscale",totalItems:n.length,data:{type:"upscale",postIds:[d],videoIds:n}}),c(`Added upscale job: ${n.length} video${n.length===1?"":"s"}`),l([])},N=async()=>{const W=await Y();x(W),W.length>0&&(P(!0),ns("upscale_all"))},H=async W=>{P(!1),f({type:"process-for-upscale",totalItems:W.length,data:{type:"process-for-upscale",postIds:W}}),c(`Added processing job: ${W.length} post${W.length===1?"":"s"}`)},D=async()=>{const W=await Y();x(W),W.length>0&&(k(!0),ns("download_all"))},M=async W=>{k(!1);const B=X.filter(le=>W.includes(le.id)),Z=[];for(const le of B){if(le.mediaUrl){const Te=le.mediaUrl.split("/"),Ht=Te[Te.length-1].split("?")[0]||`media_${le.id}`;Z.push({url:le.mediaUrl,filename:Ht})}if(le.childPosts&&le.childPosts.length>0){for(const Te of le.childPosts)if(Te.mediaUrl){const yt=Te.mediaUrl.split("/"),zt=yt[yt.length-1].split("?")[0]||`media_${Te.id}`;Z.push({url:Te.mediaUrl,filename:zt})}}}Z.length>0&&(f({type:"download",totalItems:Z.length,data:{type:"download",postIds:W,items:Z}}),c(`Added download job: ${Z.length} file${Z.length===1?"":"s"} from ${W.length} post${W.length===1?"":"s"}`),yu(Z.length,"mixed"))},_=async()=>{const W=await Y(),B=await Ns(S??void 0);x(W),j(B),(W.length>0||B.length>0)&&(I(!0),ns("like_management"))},L=async W=>{I(!1);const B=X.filter(Z=>W.includes(Z.id));f({type:"unlike",totalItems:W.length,data:{type:"unlike",postIds:W,posts:B}}),c(`Added unlike job: ${W.length} post${W.length===1?"":"s"}`)},F=async W=>{I(!1),f({type:"relike",totalItems:W.length,data:{type:"relike",postIds:W}}),c(`Added relike job: ${W.length} post${W.length===1?"":"s"}`)},q=async W=>{await tf(W,S??void 0);const B=await Ns(S??void 0);j(B),c(`Imported ${W.length} posts to archive`),setTimeout(()=>c(""),3e3)},ae=t.length>0&&n.length===0&&o>0;return a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"text-sm text-center flex items-center justify-center gap-2",style:{color:m.TEXT_SECONDARY},children:[ae&&a.jsx(Q,{path:af,size:.7,color:m.SUCCESS}),a.jsx("span",{children:r})]}),t.length>0&&a.jsxs("div",{className:"text-xs text-center",style:{color:`${m.TEXT_SECONDARY}80`},children:[t.length," media files  ",o," HD videos"]}),d&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:R,icon:kf,disabled:n.length===0,className:"flex-1",tooltip:g?"Add to upscale queue":"Upscale videos to HD quality",children:g?"Add to Queue":"Upscale"}),a.jsx(U,{onClick:O,icon:lr,disabled:t.length===0||n.length>0,className:"flex-1",tooltip:n.length>0?"Upscale all videos to HD first":"Download all media files",children:"Download"})]}),a.jsx(bt,{title:e("ops.sections.bulkActions"),className:"mt-4 rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${m.BACKGROUND_MEDIUM}e6 0%, ${m.BACKGROUND_DARK}f2 100%)`,borderColor:`${m.BORDER}50`,boxShadow:`0 8px 32px 0 ${m.BACKGROUND_DARK}66, inset 0 1px 0 0 ${m.TEXT_SECONDARY}0d`},children:a.jsxs("div",{className:"flex flex-col gap-2 mb-3 mt-3",children:[a.jsx(U,{onClick:N,icon:G?Et:xf,iconClassName:G?"animate-spin":"",disabled:G,className:"w-full transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",tooltip:e("ops.tooltips.upscaleAllLiked"),children:e(G?"common.loading":"ops.buttons.upscaleAllLiked")}),a.jsx(U,{onClick:D,icon:G?Et:lr,iconClassName:G?"animate-spin":"",disabled:G,className:"w-full transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",tooltip:e("ops.tooltips.downloadAllLiked"),children:e(G?"common.loading":"ops.buttons.downloadAllLiked")}),a.jsx(U,{onClick:_,icon:G?Et:Xn,iconClassName:G?"animate-spin":"",disabled:G,className:"w-full transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",tooltip:e("ops.tooltips.manageLikes"),children:e(G?"common.loading":"ops.buttons.manageLikes")})]})}),a.jsx(Df,{isOpen:C,posts:X,mode:"upscale",onClose:()=>{P(!1),os("upscale_all")},onConfirm:H,getThemeColors:u}),a.jsx(Tv,{isOpen:T,posts:X,onClose:()=>{k(!1),os("download_all")},onConfirm:M,getThemeColors:u}),a.jsx(Cv,{isOpen:E,onClose:()=>{I(!1),os("like_management")},getThemeColors:u,likedPosts:X,onUnlike:L,archivedPosts:A,onRelike:F,onImportArchive:q})]})};let Rv=0;const et=({id:e,checked:t,onChange:n,disabled:o=!1})=>{const{getThemeColors:r}=re(),s=r(),[l,i]=w.useState(!1),[c,u]=w.useState(0),p=w.useRef();p.current===void 0&&(p.current=++Rv);const f=`toggleGlow-${p.current}`,g=`
    @keyframes ${f} {
      0% {
        left: -150%;
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        left: 150%;
        opacity: 0;
      }
    }
  `;return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:g}),a.jsxs("label",{className:"relative inline-block w-12 h-6 cursor-pointer",children:[a.jsx("input",{id:e,type:"checkbox",checked:t,onChange:x=>n(x.target.checked),disabled:o,className:"sr-only peer"}),a.jsxs("div",{className:"toggle-track w-full h-full rounded-full relative overflow-hidden transition-all duration-300 border",style:{"--toggle-bg":t?s.SUCCESS:s.BACKGROUND_MEDIUM,"--toggle-border":t?s.SUCCESS:s.BORDER,opacity:o?.5:1,cursor:o?"not-allowed":"pointer",boxShadow:l&&!o?`0 0 15px ${s.SUCCESS}30`:"none"},onMouseEnter:()=>{o||(i(!0),u(x=>x+1))},onMouseLeave:()=>{o||i(!1)},children:[l&&!o&&a.jsx("span",{className:"absolute pointer-events-none",style:{background:t?"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.4) 50%, transparent 100%)":`linear-gradient(90deg, transparent 0%, ${s.SUCCESS}50 50%, transparent 100%)`,width:"60px",height:"200%",top:"-50%",left:"-150%",transform:"rotate(20deg)",animation:`${f} 0.6s ease-out forwards`,zIndex:1}},c),a.jsx("div",{className:"absolute top-[1px] left-[1px] w-5 h-5 rounded-full bg-white z-10",style:{transform:t?"translateX(26px)":"translateX(0)",transition:"transform 0.2s ease"}})]})]})]})},ec=()=>re.getState().enableSound,ir=(e,t,n="sine",o=.4)=>{try{const r=window.AudioContext||window.webkitAudioContext;if(!r)throw new Error("AudioContext not supported");const s=new r,l=s.createOscillator(),i=s.createGain();l.connect(i),i.connect(s.destination),l.frequency.value=e,l.type=n,i.gain.setValueAtTime(o,s.currentTime),i.gain.exponentialRampToValueAtTime(.01,s.currentTime+t),l.start(s.currentTime),l.stop(s.currentTime+t)}catch(r){console.error("[Audio] Error playing tone:",r)}},Hs=(e,t,n)=>{try{const o=window.AudioContext||window.webkitAudioContext;if(!o)throw new Error("AudioContext not supported");const r=new o,s=r.createOscillator(),l=r.createGain();s.connect(l),l.connect(r.destination),s.type="square",s.frequency.setValueAtTime(e,r.currentTime),s.frequency.exponentialRampToValueAtTime(t,r.currentTime+n),l.gain.setValueAtTime(.5,r.currentTime),l.gain.exponentialRampToValueAtTime(.01,r.currentTime+n),s.start(r.currentTime),s.stop(r.currentTime+n)}catch(o){console.error("[Audio] Error playing frequency sweep:",o)}},Nv=()=>{ec()&&(Hs(800,1600,.08),setTimeout(()=>ir(1200,.06,"square",.3),10))},Nu=()=>{ec()&&(Hs(400,80,.25),setTimeout(()=>ir(150,.2,"sawtooth",.6),20),ir(60,.05,"square",.4))},Mv=()=>{if(!ec())return;const e=[{freq:523.25,duration:.15},{freq:659.25,duration:.15},{freq:783.99,duration:.15},{freq:1046.5,duration:.15},{freq:1318.51,duration:.2},{freq:1567.98,duration:.3}];let t=0;e.forEach(({freq:n,duration:o},r)=>{setTimeout(()=>{ir(n,o,"square",.5),ir(n/2,o,"square",.3),r%2===0&&Hs(n,n*1.1,o*.5)},t),t+=o*1e3*.7}),setTimeout(()=>{Hs(1567.98,3135.96,.4)},t+100)},Ja=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Dv={ArrowUp:"",ArrowDown:"",ArrowLeft:"",ArrowRight:""},Iv=6,Ze={PRESS_ANIMATION_DURATION:200,ASCEND_ANIMATION_DURATION:600,ASCEND_STAGGER_DELAY:50,COMPLETION_DELAY:600,ERROR_RESET_DELAY:500,SEQUENCE_TIMEOUT:5e3},Co={PRESS_SCALE:1.2,PRESS_ROTATION:5,ICON_PRESS_SCALE:1.1,ASCEND_BASE_OFFSET:100,ASCEND_STAGGER_OFFSET:20},bv="cubic-bezier(0.34, 1.56, 0.64, 1)",_v=()=>{const e=[];for(let t=0;t<Iv;t++){const n=Math.floor(Math.random()*Ja.length);e.push(Ja[n])}return e},Ov=e=>Ja.includes(e),jv=(e,t,n)=>`translateY(-${t+e*n}px)`,Lv=(e,t)=>`${e*(t/1e3)}s`,Uv=({isOpen:e,onClose:t,onConfirm:n,getThemeColors:o})=>{const r=o(),{t:s}=de(),{addJob:l}=ll(),[i,c]=w.useState([]),[u,p]=w.useState([]),[f,g]=w.useState(!1),[x,y]=w.useState(!1),[v,S]=w.useState(null),[m,d]=w.useState(Ze.SEQUENCE_TIMEOUT),[h,C]=w.useState(!1),[P,T]=w.useState(!1),[k,E]=w.useState([{id:"liked-posts",titleKey:"modals.purge.allLikedPosts",descKey:"modals.purge.allLikedPostsDesc",status:"pending"},{id:"unliked-archive",titleKey:"modals.purge.unlikedArchive",descKey:"modals.purge.unlikedArchiveDesc",status:"pending"},{id:"prompt-packs",titleKey:"modals.purge.allPromptPacks",descKey:"modals.purge.allPromptPacksDesc",status:"pending"}]),[I,A]=w.useState(!1),j=be.useRef(null),X=be.useRef(null),G=()=>{p([]),d(Ze.SEQUENCE_TIMEOUT),C(!1),S(null),T(!1),j.current&&(window.clearInterval(j.current),j.current=null),X.current=null};w.useEffect(()=>{e&&(c(_v()),p([]),g(!1),y(!1),A(!1),E([{id:"liked-posts",titleKey:"modals.purge.allLikedPosts",descKey:"modals.purge.allLikedPostsDesc",status:"pending"},{id:"unliked-archive",titleKey:"modals.purge.unlikedArchive",descKey:"modals.purge.unlikedArchiveDesc",status:"pending"},{id:"prompt-packs",titleKey:"modals.purge.allPromptPacks",descKey:"modals.purge.allPromptPacksDesc",status:"pending"}]),G())},[e]),w.useEffect(()=>{if(h&&!f)return X.current=Date.now(),j.current=window.setInterval(()=>{const $=Date.now()-(X.current||Date.now()),b=Math.max(0,Ze.SEQUENCE_TIMEOUT-$);d(b),b<=0&&(Nu(),T(!0),setTimeout(()=>{G()},Ze.ERROR_RESET_DELAY))},16),()=>{j.current&&window.clearInterval(j.current)}},[h,f]),w.useEffect(()=>{if(!e||f)return;const $=b=>{if(!Ov(b.key))return;b.preventDefault(),u.length===0&&!h&&C(!0);const J=u.length;if(!(b.key===i[J])){Nu(),S(J),T(!0),setTimeout(()=>{S(null),G()},Ze.ERROR_RESET_DELAY);return}const R=[...u,b.key];S(J),setTimeout(()=>S(null),Ze.PRESS_ANIMATION_DURATION),Nv(),p(R),R.length===i.length&&(Mv(),y(!0),C(!1),j.current&&window.clearInterval(j.current),setTimeout(()=>{g(!0)},Ze.COMPLETION_DELAY))};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[e,u,i,f,h]);const Y=async()=>{A(!0);for(let $=0;$<k.length;$++)E(b=>b.map((J,O)=>O===$?{...J,status:"in_progress"}:J)),await new Promise(b=>setTimeout(b,800)),E(b=>b.map((J,O)=>O===$?{...J,status:"completed"}:J));await new Promise($=>setTimeout($,1e3)),l({type:"purge-liked",totalItems:1,data:{type:"purge-liked",category:"liked-posts"}}),l({type:"purge-archive",totalItems:1,data:{type:"purge-archive",category:"unliked-archive"}}),l({type:"purge-packs",totalItems:1,data:{type:"purge-packs",category:"prompt-packs"}}),t()};return a.jsx(vt,{isOpen:e,title:s("modals.purge.title"),onClose:t,getThemeColors:o,maxWidth:"md",padding:"p-6",closeOnOverlayClick:!1,disableClose:!1,children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg flex flex-col items-center gap-3",style:{backgroundColor:"#ef444420",border:"2px solid #ef4444"},children:[a.jsx(Q,{path:il,size:2.5,color:"#ef4444"}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"#ef4444"},children:s("modals.purge.dangerZone")}),a.jsx("p",{className:"text-sm",style:{color:r.TEXT_PRIMARY},children:s("modals.purge.warningMessage")})]})]}),a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:r.BACKGROUND_MEDIUM,border:`1px solid ${r.BORDER}`},children:a.jsx("ul",{className:"text-sm space-y-2",style:{color:r.TEXT_PRIMARY},children:k.map($=>{const b=$.status==="completed",J=$.status==="in_progress";return a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{style:{color:b?r.SUCCESS:J?"#f59e0b":"#ef4444",transition:"color 0.3s ease"},children:b?"":J?"":""}),a.jsxs("span",{style:{opacity:b?.6:1,textDecoration:b?"line-through":"none",transition:"all 0.3s ease"},children:[a.jsx("strong",{children:s($.titleKey)})," - ",s($.descKey)]})]},$.id)})})}),a.jsx("p",{className:"text-xs text-center font-bold",style:{color:"#ef4444"},children:s("modals.purge.cannotBeUndone")}),f?a.jsx("div",{className:"text-center p-3 rounded-lg",style:{backgroundColor:`${r.SUCCESS}20`,border:`1px solid ${r.SUCCESS}`,color:r.SUCCESS},children:s("modals.purge.sequenceComplete")}):a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("div",{className:"text-sm text-center p-2 rounded",style:{backgroundColor:r.BACKGROUND_MEDIUM,color:r.TEXT_SECONDARY},children:s("modals.purge.pressArrowKeys")}),h&&a.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:r.BACKGROUND_MEDIUM,border:`1px solid ${r.BORDER}`},children:a.jsx("div",{className:"h-full transition-all",style:{width:`${m/Ze.SEQUENCE_TIMEOUT*100}%`,backgroundColor:m<1e3?"#ef4444":r.SUCCESS,transition:"width 0.016s linear, background-color 0.3s ease"}})}),a.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:i.map(($,b)=>{const J=b<u.length,O=J&&u[b]===$,R=J&&u[b]!==$,N=v===b;return a.jsx("div",{className:"flex items-center justify-center rounded-lg",style:{width:"48px",height:"48px",backgroundColor:P?"#ef4444":O?r.SUCCESS:R?"#ef4444":r.BACKGROUND_MEDIUM,border:`2px solid ${P?"#ef4444":O?r.SUCCESS:R?"#ef4444":r.BORDER}`,opacity:x?0:J||P?1:.5,transform:N?`scale(${Co.PRESS_SCALE}) rotate(${Co.PRESS_ROTATION}deg)`:x?jv(b,Co.ASCEND_BASE_OFFSET,Co.ASCEND_STAGGER_OFFSET):"scale(1) rotate(0deg)",transition:x?`all ${Ze.ASCEND_ANIMATION_DURATION/1e3}s ${bv} ${Lv(b,Ze.ASCEND_STAGGER_DELAY)}`:`all ${Ze.PRESS_ANIMATION_DURATION/1e3}s ease`,boxShadow:N?`0 0 20px ${O?r.SUCCESS:"#ef4444"}`:"none"},children:a.jsx("span",{className:"text-2xl",style:{color:J?"#fff":r.TEXT_SECONDARY,transform:N?`scale(${Co.ICON_PRESS_SCALE})`:"scale(1)",transition:`transform ${Ze.PRESS_ANIMATION_DURATION/1e3}s ease`},children:Dv[$]})},b)})}),a.jsxs("div",{className:"text-xs text-center",style:{color:r.TEXT_SECONDARY},children:[u.length===0&&s("modals.purge.startPressing"),u.length>0&&u.length<i.length&&`${u.length} / ${i.length}`]})]}),a.jsxs("div",{className:"flex gap-3 mt-2",children:[a.jsx(U,{onClick:t,className:"flex-1",disabled:I,style:{opacity:I?.5:1,cursor:I?"not-allowed":"pointer"},children:s("common.cancel")}),a.jsx(U,{onClick:Y,icon:sn,className:"flex-1",disabled:!f||I,style:{backgroundColor:f&&!I?r.DANGER:r.BACKGROUND_MEDIUM,color:f&&!I?"#fff":r.TEXT_SECONDARY,opacity:f&&!I?1:.5,cursor:f&&!I?"pointer":"not-allowed"},children:I?"Purging...":s("modals.purge.purgeAllDataButton")})]})]})})},Vv=()=>{const{theme:e,size:t,autoDownload:n,rememberPostState:o,simpleShortcut:r,hideUnsave:s,enableThePit:l,enableSound:i,confirmCopyFrom:c,globalPromptAddonEnabled:u,globalPromptAddon:p,listLimit:f,collapseSections:g,navigatePostsWithArrows:x,setPanelPosition:y,setTheme:v,setSize:S,setAutoDownload:m,setRememberPostState:d,setSimpleShortcut:h,setHideUnsave:C,setEnableThePit:P,setEnableSound:T,setConfirmCopyFrom:k,setGlobalPromptAddonEnabled:E,setGlobalPromptAddon:I,setListLimit:A,setCollapseSections:j,setNavigatePostsWithArrows:X,getThemeColors:G}=re(),{clearAllPacks:Y}=Ye(),{userId:$}=sr(),{t:b,locale:J,setLocale:O}=de(),R=G(),[N,H]=w.useState(!1),[D,M]=w.useState(!1),[_,L]=w.useState(0),[F,q]=w.useState(!1),ae=()=>{const B=_+1;L(B),B>=5&&(H(!0),L(0))},W=async()=>{try{Y(),await nf($??void 0);const B=await hr(1e3);if(B.posts&&B.posts.length>0)for(const Z of B.posts)try{await Ga(Z.id)}catch(le){console.error(`Failed to unlike post ${Z.id}:`,le)}}catch(B){console.error("Purge failed:",B)}};return a.jsxs("div",{className:"flex flex-col gap-4 w-full max-h-[400px] overflow-y-scroll custom-scrollbar pr-2",style:{scrollbarGutter:"stable"},children:[a.jsx(bt,{title:b("settings.packsAndPrompts"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${R.BACKGROUND_MEDIUM}e6 0%, ${R.BACKGROUND_DARK}f2 100%)`,borderColor:`${R.BORDER}50`,boxShadow:`0 8px 32px 0 ${R.BACKGROUND_DARK}66, inset 0 1px 0 0 ${R.TEXT_SECONDARY}0d`},children:a.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[a.jsx(U,{onClick:()=>M(!0),icon:pl,className:"w-full",tooltip:b("settings.tooltips.packsManagement"),children:b("settings.openPacksManagement")}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.rememberPostState"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"remember-post-state-toggle",children:[a.jsx(Q,{path:hf,size:.7,color:R.TEXT_PRIMARY}),b("settings.rememberPostState")]}),a.jsx(et,{id:"remember-post-state-toggle",checked:o,onChange:B=>{d(B),Rh(B)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.simpleShortcut"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"simple-shortcut-toggle",children:[a.jsx(Q,{path:Cu,size:.7,color:R.TEXT_PRIMARY}),b("settings.simpleShortcut")]}),a.jsx(et,{id:"simple-shortcut-toggle",checked:r,onChange:B=>{h(B),Nh(B)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.confirmCopyFrom"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"confirm-copy-from-toggle",children:[a.jsx(Q,{path:Eu,size:.7,color:R.TEXT_PRIMARY}),b("settings.confirmCopyFrom")]}),a.jsx(et,{id:"confirm-copy-from-toggle",checked:c,onChange:B=>{k(B),Ih(B)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.globalPromptAddon"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"global-prompt-addon-toggle",children:[a.jsx(Q,{path:m0,size:.7,color:R.TEXT_PRIMARY}),b("settings.globalPromptAddon")]}),a.jsx(et,{id:"global-prompt-addon-toggle",checked:u,onChange:B=>{E(B)}})]}),u&&a.jsx("textarea",{value:p,onChange:B=>I(B.target.value),placeholder:b("settings.globalPromptAddonPlaceholder"),className:"w-full px-3 py-2 rounded-lg text-sm resize-none focus:outline-none custom-scrollbar backdrop-blur-xl",rows:3,style:{backgroundColor:`${R.BACKGROUND_MEDIUM}aa`,color:R.TEXT_PRIMARY,border:`1px solid ${R.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}})]})}),a.jsx(bt,{title:b("settings.behavior"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${R.BACKGROUND_MEDIUM}e6 0%, ${R.BACKGROUND_DARK}f2 100%)`,borderColor:`${R.BORDER}50`,boxShadow:`0 8px 32px 0 ${R.BACKGROUND_DARK}66, inset 0 1px 0 0 ${R.TEXT_SECONDARY}0d`},children:a.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.autoDownload"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"auto-download-toggle",children:[a.jsx(Q,{path:Jh,size:.7,color:R.TEXT_PRIMARY}),b("settings.autoDownload")]}),a.jsx(et,{id:"auto-download-toggle",checked:n,onChange:B=>{m(B),Ah(B)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.enableSound"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"enable-sound-toggle",children:[a.jsx(Q,{path:h0,size:.7,color:R.TEXT_PRIMARY}),b("settings.enableSound")]}),a.jsx(et,{id:"enable-sound-toggle",checked:i,onChange:B=>{T(B),Dh(B)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("help.tooltips.navigatePostsWithArrows"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"navigate-posts-arrows-toggle",children:[a.jsx(Q,{path:Cu,size:.7,color:R.TEXT_PRIMARY}),b("settings.navigatePostsWithArrows")]}),a.jsx(et,{id:"navigate-posts-arrows-toggle",checked:x,onChange:B=>{X(B)}})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:R.TEXT_SECONDARY},children:[a.jsx(Q,{path:n0,size:.6,color:R.TEXT_SECONDARY}),b("settings.listLimit")]}),a.jsx(Wn,{value:f.toString(),onChange:B=>{A(parseInt(B))},options:[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"}],className:"w-full"}),f!==100&&a.jsxs("div",{className:"text-xs px-2 py-1.5 rounded flex items-center gap-1.5",style:{backgroundColor:"#dc262620",color:"#ef4444",border:"1px solid #ef444440"},children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Q,{path:Eu,size:.75,color:"#ef4444"})}),b("settings.listLimitWarning")]})]})]})}),a.jsx(bt,{title:b("settings.appearance"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${R.BACKGROUND_MEDIUM}e6 0%, ${R.BACKGROUND_DARK}f2 100%)`,borderColor:`${R.BORDER}50`,boxShadow:`0 8px 32px 0 ${R.BACKGROUND_DARK}66, inset 0 1px 0 0 ${R.TEXT_SECONDARY}0d`},children:a.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:R.TEXT_SECONDARY},children:[a.jsx(Q,{path:a0,size:.6,color:R.TEXT_SECONDARY}),b("settings.theme")]}),a.jsx(Wn,{value:e,onChange:B=>{const Z=B;v(Z),bh(Z)},options:[{value:"dark",label:b("settings.themes.dark")},{value:"light",label:b("settings.themes.light")},{value:"dracula",label:b("settings.themes.dracula")},{value:"winamp",label:b("settings.themes.winamp")},{value:"limewire",label:b("settings.themes.limewire")},{value:"steam",label:b("settings.themes.steam")},{value:"discord",label:b("settings.themes.discord")}],className:"w-full"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:R.TEXT_SECONDARY},children:[a.jsx(Q,{path:Tu,size:.6,color:R.TEXT_SECONDARY}),b("settings.size")]}),a.jsx(Wn,{value:t,onChange:B=>{const Z=B;S(Z),_h(Z)},options:[{value:"tiny",label:b("settings.sizes.tiny")},{value:"small",label:b("settings.sizes.small")},{value:"medium",label:b("settings.sizes.medium")},{value:"large",label:b("settings.sizes.large")}],className:"w-full"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:R.TEXT_SECONDARY},children:[a.jsx(Q,{path:g0,size:.6,color:R.TEXT_SECONDARY}),b("settings.language")]}),a.jsx(Wn,{value:J,onChange:B=>{O(B),Oh(B)},options:[{value:"en",label:b("settings.languages.en")},{value:"es",label:b("settings.languages.es")},{value:"ru",label:b("settings.languages.ru")},{value:"de",label:b("settings.languages.de")}],className:"w-full"})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.hideUnsave"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"hide-unsave-toggle",children:[a.jsx(Q,{path:Zh,size:.7,color:R.TEXT_PRIMARY}),b("settings.hideUnsave")]}),a.jsx(et,{id:"hide-unsave-toggle",checked:s,onChange:B=>{C(B),Mh(B)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.enableThePit"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"enable-pit-toggle",children:[a.jsx(Q,{path:t0,size:.7,color:R.TEXT_PRIMARY}),b("settings.enableThePit")]}),a.jsx(et,{id:"enable-pit-toggle",checked:l,onChange:B=>{P(B)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":b("settings.tooltips.collapseSections"),children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:R.TEXT_PRIMARY},htmlFor:"collapse-sections-toggle",children:[a.jsx(Q,{path:Tu,size:.7,color:R.TEXT_PRIMARY}),b("settings.collapseSections")]}),a.jsx(et,{id:"collapse-sections-toggle",checked:g,onChange:B=>{j(B)}})]}),a.jsx(U,{onClick:()=>y(null),icon:c0,className:"w-full",tooltip:"Reset panel to default position",children:"Reset Position"})]})}),a.jsx(bt,{title:b("settings.purge"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${R.BACKGROUND_MEDIUM}e6 0%, ${R.BACKGROUND_DARK}f2 100%)`,borderColor:`${R.BORDER}50`,boxShadow:`0 8px 32px 0 ${R.BACKGROUND_DARK}66, inset 0 1px 0 0 ${R.TEXT_SECONDARY}0d`},children:a.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[a.jsxs("button",{onClick:ae,className:"w-full px-3 py-2 text-xs rounded-full transition-all flex items-center justify-center gap-1",style:{backgroundColor:F?"#fff":"#ef4444",color:F?"#ef4444":"#fff",border:"1px solid #ef4444"},onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1),children:[a.jsx(Q,{path:Wh,size:.6,color:F?"#ef4444":"#fff"}),_>0&&_<5?`${b("settings.purgeAllData")} (${_}/5)`:b("settings.purgeAllData")]}),a.jsx("div",{className:"text-xs text-center",style:{color:R.TEXT_SECONDARY},children:b("settings.purgeClickHint")})]})}),a.jsx(Uv,{isOpen:N,onClose:()=>H(!1),onConfirm:W,getThemeColors:G}),a.jsx(Nf,{isOpen:D,onClose:()=>M(!1),getThemeColors:G})]})},bf=()=>/iPad|iPhone|iPod/.test(navigator.userAgent),Hv=()=>{const e=bf(),t=/Android/.test(navigator.userAgent),n=/Mobile|Tablet/.test(navigator.userAgent),o="ontouchstart"in window||navigator.maxTouchPoints>0,r=window.innerWidth<=768;return e||t||n||o&&r},zv=()=>{const{getThemeColors:e}=re(),{t}=de(),n=e(),o=bf(),r=[{text:t("help.features.crossBrowser"),tooltip:t("help.tooltips.crossBrowser")},{text:t("help.features.saveOrganize"),tooltip:t("help.tooltips.saveOrganize")},{text:t("help.features.packManagement"),tooltip:t("help.tooltips.packManagement")},{text:t("help.features.ratePromptsStars"),tooltip:t("help.tooltips.ratePrompts")},{text:t("help.features.arrowKeys"),tooltip:t("help.tooltips.arrowKeys")},{text:t("help.features.importExportPacks"),tooltip:t("help.tooltips.importExport")},{text:t("help.features.aiGenerate"),tooltip:t("help.tooltips.aiGenerate")},{text:t("help.features.downloadMedia"),tooltip:t("help.tooltips.downloadMedia")},{text:t("help.features.parallelUpscale"),tooltip:t("help.tooltips.parallelUpscale")},{text:t("help.features.bulkOperations"),tooltip:t("help.tooltips.bulkOperations")},{text:t("help.features.purgeData"),tooltip:t("help.tooltips.purgeData")},{text:t("help.features.batchSelection"),tooltip:t("help.tooltips.batchSelection")},{text:t("help.features.makeNext"),tooltip:t("help.tooltips.makeNext")},{text:t("help.features.realtimeProgress"),tooltip:t("help.tooltips.realtimeProgress")},{text:t("help.features.playPause"),tooltip:t("help.tooltips.playPause")},{text:t("help.features.fullscreen"),tooltip:t("help.tooltips.fullscreen")},{text:t("help.features.hideUnsave"),tooltip:t("help.tooltips.hideUnsave")},{text:t("help.features.themeCustomization"),tooltip:t("help.tooltips.themeCustomization")},{text:t("help.features.uiScaling"),tooltip:t("help.tooltips.uiScaling")},{text:t("help.features.autoDownloadMedia"),tooltip:t("help.tooltips.autoDownloadMedia")},{text:t("help.features.multiLanguage"),tooltip:t("help.tooltips.multiLanguage")}];return a.jsxs("div",{className:"flex flex-col gap-4 w-full max-h-[400px] overflow-y-scroll custom-scrollbar pr-2",style:{scrollbarGutter:"stable"},children:[a.jsx(bt,{title:t("help.sections.availableFeatures"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:a.jsx("div",{className:"flex flex-col gap-2 mt-3",children:a.jsx("ul",{className:"space-y-1 ml-3 text-xs",style:{color:n.TEXT_SECONDARY},children:r.map((s,l)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{style:{color:n.TEXT_SECONDARY,marginTop:"2px"},children:""}),a.jsxs("span",{className:"flex items-center gap-1 group cursor-help flex-1","data-tooltip-content":s.tooltip,children:[a.jsx("span",{children:s.text}),a.jsx("span",{className:"inline-flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Q,{path:s0,size:.5,color:n.TEXT_SECONDARY})})]})]},l))})})}),a.jsx(bt,{title:t("help.sections.keyboardShortcuts"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:a.jsx("div",{className:"flex flex-col gap-2 mt-3",children:a.jsxs("div",{className:"text-xs flex flex-col gap-2",style:{color:n.TEXT_SECONDARY},children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.ctrl")}),a.jsx("span",{className:"text-[10px]",children:"/"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.cmd")}),a.jsx("span",{className:"text-[10px]",children:"+"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.enter")})]}),a.jsx("span",{children:t("help.shortcuts.descriptions.makeVideo")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.ctrl")}),a.jsx("span",{className:"text-[10px]",children:"/"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.cmd")}),a.jsx("span",{className:"text-[10px]",children:"+"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.shift")}),a.jsx("span",{className:"text-[10px]",children:"+"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.enter")})]}),a.jsx("span",{children:t("help.shortcuts.descriptions.copyMake")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.arrowLeft")}),a.jsx("span",{className:"text-[10px]",children:"/"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.arrowRight")})]}),a.jsx("span",{children:t("help.shortcuts.descriptions.navigateVideos")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.f")})}),a.jsx("span",{children:t("help.shortcuts.descriptions.toggleFullscreen")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:t("help.shortcuts.keys.space")})}),a.jsx("span",{children:t("help.shortcuts.descriptions.playPause")})]})]})})}),a.jsx(bt,{title:t("help.sections.about"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:a.jsx("div",{className:"flex flex-col gap-2 mt-3",children:a.jsxs("div",{className:"text-xs",style:{color:n.TEXT_SECONDARY},children:[a.jsx("p",{className:"mb-1",children:a.jsxs("strong",{style:{color:n.TEXT_PRIMARY},children:["ImagineGodMode v",zs]})}),a.jsx("p",{children:t("help.about.description")}),a.jsx("p",{className:"mt-2",children:t("help.about.author")}),a.jsx("p",{className:"mt-1 text-[11px]",children:t("help.about.firefoxSupport")})]})})}),o&&a.jsx(bt,{title:t("help.sections.signIn"),className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:a.jsx("div",{className:"mt-3",children:a.jsxs("a",{href:"https://accounts.x.ai/sign-in?redirect=grok-com",className:"flex items-center gap-2 text-xs hover:opacity-80 transition-opacity",style:{color:n.TEXT_PRIMARY},children:[a.jsx(Q,{path:l0,size:.6,color:n.TEXT_PRIMARY}),a.jsx("span",{children:t("help.signIn.linkText")})]})})})]})},Mu={"process-for-upscale":{icon:ff,label:"Processing Posts"},upscale:{icon:kf,label:"Upscaling"},download:{icon:lr,label:"Downloading"},unlike:{icon:yf,label:"Unliking",color:ft.DANGER},relike:{icon:Xn,label:"Re-liking"},"purge-liked":{icon:sn,label:"Purging Liked Posts",color:ft.DANGER},"purge-archive":{icon:sn,label:"Purging Archive",color:ft.DANGER},"purge-packs":{icon:sn,label:"Purging Packs",color:ft.DANGER}},$v=()=>{const{jobs:e,isProcessing:t,clearCompleted:n,clearAll:o,stopProcessing:r,startProcessing:s}=ll(),{getThemeColors:l}=re(),i=l(),c=e.filter(d=>d.status==="pending"),u=e.filter(d=>d.status==="processing"),p=e.filter(d=>d.status==="completed"),f=e.filter(d=>d.status==="failed"),g=c.length,x=p.length,y=f.length,v=e.length,S=d=>{switch(d){case"completed":return a.jsx(Q,{path:xr,size:.5,color:i.SUCCESS});case"processing":return a.jsx(Q,{path:Et,size:.5,color:i.GLOW_PRIMARY,className:"animate-spin"});case"failed":return a.jsx(Q,{path:il,size:.5,color:ft.DANGER});default:return a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:i.TEXT_SECONDARY}})}},m=d=>{const h=Mu[d.type],C=d.totalItems===1?"item":"items";return`${h.label} ${d.totalItems} ${C}`};return v===0?a.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:a.jsx("div",{className:"text-base opacity-50",style:{color:i.TEXT_SECONDARY},children:"Queue is empty"})}):a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"pb-3",children:a.jsx("h2",{className:"text-base font-medium",style:{color:i.TEXT_PRIMARY},children:"Job Queue"})}),u.length>0&&u[0]&&a.jsxs("div",{className:"mb-3 pb-3",style:{borderBottom:`1px solid ${i.BORDER}`},children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{style:{color:i.TEXT_SECONDARY},children:m(u[0])}),a.jsxs("span",{style:{color:i.GLOW_PRIMARY},children:[Math.round(u[0].progress),"%"]})]}),a.jsx("div",{className:"w-full h-1.5 rounded-full overflow-hidden",style:{backgroundColor:i.BACKGROUND_MEDIUM},children:a.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${u[0].progress}%`,backgroundColor:i.GLOW_PRIMARY}})}),a.jsxs("div",{className:"text-xs mt-1 flex items-center gap-1",style:{color:i.TEXT_SECONDARY},children:["Processing: ",u[0].processedItems,"/",u[0].totalItems]})]}),a.jsxs("div",{className:"mb-3 pb-3 flex gap-3 text-xs",style:{borderBottom:`1px solid ${i.BORDER}`},children:[a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:i.TEXT_PRIMARY},children:g})," pending"]}),u.length>0&&a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:i.GLOW_PRIMARY},children:u.length})," processing"]}),a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:i.SUCCESS},children:x})," done"]}),y>0&&a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:ft.DANGER},children:y})," failed"]})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto mb-3",children:[e.slice(0,20).map(d=>{const h=Mu[d.type];return a.jsxs("div",{className:"py-2 flex items-start gap-2 text-xs",style:{borderBottom:`1px solid ${i.BORDER}20`},children:[a.jsx("div",{className:"pt-0.5",children:S(d.status)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[a.jsx(Q,{path:h.icon,size:.6,color:h.color||i.TEXT_PRIMARY}),a.jsx("span",{className:"font-medium truncate",style:{color:i.TEXT_PRIMARY},children:m(d)})]}),d.status==="processing"&&a.jsx("div",{className:"w-full h-1 rounded-full overflow-hidden mt-1",style:{backgroundColor:i.BACKGROUND_MEDIUM},children:a.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${d.progress}%`,backgroundColor:i.GLOW_PRIMARY}})}),d.status==="failed"&&d.error&&a.jsx("div",{className:"text-[10px] mt-1 opacity-70",style:{color:ft.DANGER},children:d.error})]}),a.jsx("span",{className:"text-[10px] opacity-50 whitespace-nowrap",style:{color:i.TEXT_SECONDARY},children:d.status==="processing"?`${d.processedItems}/${d.totalItems}`:d.status})]},d.id)}),e.length>20&&a.jsxs("div",{className:"py-2 text-xs text-center",style:{color:i.TEXT_SECONDARY},children:["+",e.length-20," more jobs"]})]}),a.jsxs("div",{className:"flex gap-2",children:[t?a.jsx(U,{onClick:r,className:"flex-1",children:"Pause"}):g>0&&a.jsx(U,{onClick:s,className:"flex-1 !bg-white",style:{backgroundColor:i.GLOW_PRIMARY,color:i.BACKGROUND_DARK},children:"Resume"}),x>0&&a.jsx(U,{onClick:n,className:"flex-1",children:"Clear Done"}),a.jsx(U,{onClick:o,className:"opacity-50",children:"Clear All"})]})]})},Du={selectedPostId:null,manualMode:!0,manualPrompt:"",selectedPack:"Default",selectedPromptIndex:0,tries:3,stopOnFirstSuccess:!1},Bv=At(e=>({...Du,setSelectedPostId:t=>e({selectedPostId:t}),setManualMode:t=>e({manualMode:t}),setManualPrompt:t=>e({manualPrompt:t}),setSelectedPack:t=>e({selectedPack:t,selectedPromptIndex:0}),setSelectedPromptIndex:t=>e({selectedPromptIndex:t}),setTries:t=>e({tries:t}),setStopOnFirstSuccess:t=>e({stopOnFirstSuccess:t}),reset:()=>e(Du)})),Fv=()=>{const{t:e}=de(),{selectedPostId:t,manualMode:n,manualPrompt:o,selectedPack:r,selectedPromptIndex:s,tries:l,stopOnFirstSuccess:i,setSelectedPostId:c,setManualMode:u,setManualPrompt:p,setSelectedPack:f,setSelectedPromptIndex:g,setTries:x,setStopOnFirstSuccess:y}=Bv(),{posts:v,setPosts:S,setCurrentPostId:m,ensureCurrentPostInList:d}=go(),{packOrder:h,packs:C}=Ye(),{getThemeColors:P,listLimit:T}=re(),{setMediaUrls:k,setVideoIdsToUpscale:E,setHdVideoCount:I}=qi(),A=P(),[j,X]=w.useState(""),{isLoading:G,loadLikedPosts:Y}=fl(X),[$,b]=w.useState(0),[J,O]=w.useState(null),[R,N]=w.useState(!0),[H,D]=w.useState(!1),[M,_]=w.useState(0),[L,F]=w.useState(0),[q,ae]=w.useState(0),[W,B]=w.useState(""),Z=w.useCallback(async()=>{var bn;const ee=Mn();if(O(ee),m(ee),!ee)return;const ye=await sl(ee);if(ye.success&&ye.data){const at=mo(ye.data);(bn=ye.data)!=null&&bn.post&&d(ye.data.post),k(at.mediaUrls),E(at.videosToUpscale),I(at.hdVideoCount)}},[k,E,I,m,d]);Zi(Z);const[le,Te]=w.useState(T);w.useEffect(()=>{Z(),Y().then(ee=>S(ee))},[]),w.useEffect(()=>{le!==T&&(Te(T),Y().then(ee=>S(ee)))},[T,le,Y,S]),w.useEffect(()=>{v.length>0&&!t&&(c(v[0].id),b(0))},[v,t,c]);const yt=()=>{if($>0){N(!0);const ee=$-1;b(ee),c(v[ee].id)}},Ht=()=>{if($<v.length-1){N(!0);const ee=$+1;b(ee),c(v[ee].id)}},zt=v[$],Sr=()=>zt?zt.thumbnailImageUrl||zt.mediaUrl:"",$t=C[r]||[],Bt=$t[s],ml=()=>{s>0&&g(s-1)},ho=()=>{s<$t.length-1&&g(s+1)},z=ee=>new Promise(ye=>setTimeout(ye,ee)),xe=async()=>{if(!t){console.error("No post selected");return}const ee=n?o:Bt==null?void 0:Bt.text;if(!ee){console.error("No prompt available");return}D(!0),_(0),F(0),ae(0),B("");try{console.log("[PitView] Churning videos:",{postId:t,prompt:ee,tries:l,stopOnFirstSuccess:i});let ye=0,bn=0;for(let at=0;at<l;at++){if(at>0){const Rt=1e3+Math.random()*1e3;console.log(`[PitView] Waiting ${Math.round(Rt)}ms before next request...`),await z(Rt)}_(at+1);try{console.log(`[PitView] Sending request ${at+1}/${l}`);const Rt=await Y1(t,ee);if(console.log(`[PitView] Request ${at+1}/${l} completed:`,Rt),ye++,F(ye),i){console.log("[PitView] Success achieved, stopping early");break}}catch(Rt){if(console.error(`[PitView] Request ${at+1}/${l} failed:`,Rt),bn++,ae(bn),(Rt instanceof Error?Rt.message:String(Rt)).includes("403")){console.error("[PitView] Received 403 error - stopping churn process"),B("403 Forbidden - Authentication required. Please refresh the page.");break}}}console.log("[PitView] Churn completed:",{total:l,success:ye||L,failed:bn||q})}catch(ye){console.error("[PitView] Churn error:",ye)}finally{D(!1)}};return a.jsxs("div",{className:"flex flex-col w-full",children:[j&&a.jsx("div",{className:"text-sm text-center mb-3",style:{color:A.TEXT_SECONDARY},children:j}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[a.jsx(U,{variant:"icon",icon:Ka,onClick:yt,disabled:v.length===0||$===0,tooltip:e("pit.navigation.previousPost")}),a.jsx("div",{className:"w-1/2 rounded-lg overflow-hidden relative flex items-center justify-center bg-white/20",style:{height:"120px",border:`1px solid ${A.BORDER}`},children:v.length===0?a.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm",style:{color:A.TEXT_SECONDARY},children:"No posts loaded"}):Sr()?a.jsxs(a.Fragment,{children:[R&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:`${A.BACKGROUND_MEDIUM}aa`},children:a.jsx("div",{className:"animate-spin",children:a.jsx(Q,{path:Et,size:1.2,color:A.TEXT_SECONDARY})})}),a.jsx("img",{src:Sr(),alt:"Post preview",className:"max-w-full max-h-full object-contain",onLoad:()=>N(!1),onError:()=>N(!1),style:{display:R?"none":"block"}})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm",style:{color:A.TEXT_SECONDARY},children:"No preview available"})}),a.jsx(U,{variant:"icon",icon:Xa,onClick:Ht,disabled:v.length===0||$>=v.length-1,tooltip:e("pit.navigation.nextPost")})]}),v.length>0&&a.jsxs("div",{className:"text-xs text-center mb-3",style:{color:A.TEXT_SECONDARY},children:[$+1," / ",v.length,G&&" (loading more...)"]}),v.length===0&&G&&a.jsxs("div",{className:"text-xs text-center mb-3 flex items-center justify-center gap-2",style:{color:A.TEXT_SECONDARY},children:[a.jsx(Q,{path:Et,size:.5,className:"animate-spin"}),a.jsx("span",{children:"Loading liked posts..."})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsx("label",{className:"text-sm cursor-pointer",style:{color:A.TEXT_PRIMARY},htmlFor:"manual-mode-toggle",children:"Manual Prompt"}),a.jsx(et,{id:"manual-mode-toggle",checked:n,onChange:u})]}),n?a.jsx("textarea",{value:o,onChange:ee=>p(ee.target.value),placeholder:e("pit.prompt.placeholder"),className:"w-full h-20 px-3 py-2 rounded-lg text-sm resize-none focus:outline-none custom-scrollbar mb-3 backdrop-blur-xl",style:{backgroundColor:`${A.BACKGROUND_MEDIUM}aa`,color:A.TEXT_PRIMARY,border:`1px solid ${A.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}}):a.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-xs",style:{color:A.TEXT_SECONDARY},children:"Pack"}),a.jsx(Wn,{value:r,onChange:f,options:h.map(ee=>({value:ee,label:ee})),className:"w-full"})]}),$t.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-sm min-h-[80px] max-h-[80px] overflow-y-auto custom-scrollbar backdrop-blur-xl",style:{backgroundColor:`${A.BACKGROUND_MEDIUM}aa`,color:A.TEXT_PRIMARY,border:`1px solid ${A.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"},children:(Bt==null?void 0:Bt.text)||""}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(U,{variant:"icon",icon:Ka,onClick:ml,disabled:s===0,tooltip:e("pit.navigation.previousPrompt")}),a.jsxs("span",{className:"text-sm",style:{color:A.TEXT_SECONDARY},children:[s+1," / ",$t.length]}),a.jsx(U,{variant:"icon",icon:Xa,onClick:ho,disabled:s>=$t.length-1,tooltip:e("pit.navigation.nextPrompt")})]})]}):a.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-sm text-center",style:{backgroundColor:`${A.BACKGROUND_MEDIUM}aa`,color:A.TEXT_SECONDARY,border:`1px solid ${A.BORDER}`},children:"No prompts in this pack"})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsx("label",{className:"text-sm",style:{color:A.TEXT_PRIMARY},htmlFor:"tries-input",children:"Tries"}),a.jsx("input",{id:"tries-input",type:"number",min:1,max:10,value:l,onChange:ee=>x(Number(ee.target.value)),className:"px-3 py-2 rounded-lg text-sm focus:outline-none backdrop-blur-xl",style:{width:"80px",backgroundColor:`${A.BACKGROUND_MEDIUM}aa`,color:A.TEXT_PRIMARY,border:`1px solid ${A.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsx("label",{className:"text-sm cursor-pointer",style:{color:A.TEXT_PRIMARY},htmlFor:"stop-on-success-toggle",children:"Stop on First Success"}),a.jsx(et,{id:"stop-on-success-toggle",checked:i,onChange:y})]}),H&&a.jsx("div",{className:"px-3 py-2 rounded-lg text-sm mb-3 backdrop-blur-xl",style:{backgroundColor:`${A.BACKGROUND_MEDIUM}aa`,color:A.TEXT_PRIMARY,border:`1px solid ${A.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"},children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:A.TEXT_SECONDARY},children:"Progress:"}),a.jsxs("span",{className:"font-medium",children:[M," / ",l]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:A.TEXT_SECONDARY},children:"Succeeded:"}),a.jsx("span",{className:"font-medium text-green-500",children:L})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:A.TEXT_SECONDARY},children:"Failed:"}),a.jsx("span",{className:"font-medium text-red-500",children:q})]})]})}),W&&a.jsx("div",{className:"px-3 py-2 rounded-lg text-sm mb-3 backdrop-blur-xl",style:{backgroundColor:`${A.BACKGROUND_MEDIUM}aa`,color:"#ff4444",border:"1px solid #ff4444",WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"},children:W}),a.jsx(U,{onClick:xe,icon:H?Et:vf,className:"w-full !bg-white !text-black hover:!bg-white/90",disabled:!0,tooltip:e("pit.status.underConstruction"),children:H?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin",children:a.jsx(Q,{path:Et,size:.7,color:"currentColor"})}),"Churning..."]}):"Churn"}),a.jsx("div",{className:"text-xs text-center mt-2",style:{color:A.TEXT_SECONDARY},children:e("pit.status.underConstruction")})]})},Gv=15,Ql=15,_f=At()(gr((e,t)=>({queue:[],isProcessing:!1,currentBatchIndex:0,batchProgress:0,completedInCurrentBatch:0,pendingDownloads:[],isDownloading:!1,addToQueue:(n,o)=>{const r=o.map(i=>({postId:n,videoId:i,status:"pending",addedAt:Date.now()}));e(i=>{const c=new Set(i.queue.map(p=>p.videoId)),u=r.filter(p=>!c.has(p.videoId));return{queue:[...i.queue,...u]}});const{isProcessing:s,startProcessing:l}=t();s||l()},removeFromQueue:n=>{e(o=>({queue:o.queue.filter(r=>r.videoId!==n)}))},clearCompleted:()=>{e(n=>({queue:n.queue.filter(o=>o.status!=="completed")}))},clearAll:()=>{e({queue:[],isProcessing:!1,currentBatchIndex:0,batchProgress:0,completedInCurrentBatch:0,pendingDownloads:[]})},startProcessing:()=>{const{isProcessing:n,_processNextBatch:o}=t();n||(e({isProcessing:!0}),o())},stopProcessing:()=>{e({isProcessing:!1})},_updateItemStatus:(n,o,r)=>{e(s=>({queue:s.queue.map(l=>l.videoId===n?{...l,status:o,hdUrl:r}:l)}))},_downloadCompletedBatch:async n=>{if(n.length===0)return;const{autoDownload:o}=re.getState();if(!o){console.log("[ImagineGodMode] Auto-download disabled, skipping batch download");return}e({isDownloading:!0});for(let r=0;r<n.length;r+=Ql){const s=n.slice(r,r+Ql);console.log(`[ImagineGodMode] Downloading batch chunk: ${s.length} files`),await qp(s),r+Ql<n.length&&await new Promise(l=>setTimeout(l,1e3))}e({isDownloading:!1})},_pollForHdUrls:async n=>{const o=new Map,r=new Set,{queue:s}=t();n.forEach(c=>{const u=s.find(p=>p.videoId===c);u&&r.add(u.postId)});const l=60;let i=0;for(;o.size<n.length&&i<l;){for(const c of r)try{const u=await sl(c);if(u.success&&u.data){const p=mo(u.data);for(const f of p.mediaUrls)f.id&&n.includes(f.id)&&f.isHD&&f.type==="video"&&o.set(f.id,f.url)}}catch(u){console.error("[ImagineGodMode] Poll error:",u)}o.size<n.length&&(await new Promise(c=>setTimeout(c,rs(pt.UPSCALE_REFETCH_MIN,pt.UPSCALE_REFETCH_MAX))),i++)}return o},_processNextBatch:async()=>{const{queue:n,isProcessing:o,_updateItemStatus:r,_downloadCompletedBatch:s,_pollForHdUrls:l}=t();if(!o)return;const i=n.filter(S=>S.status==="pending");if(i.length===0){console.log("[ImagineGodMode] Queue empty, stopping processing"),e({isProcessing:!1,batchProgress:0,completedInCurrentBatch:0});return}const c=i.slice(0,Gv),u=c.map(S=>S.videoId);console.log(`[ImagineGodMode] Processing batch of ${c.length} videos`),e({batchProgress:0,completedInCurrentBatch:0}),c.forEach(S=>{r(S.videoId,"processing")});let p=0;const f=[];for(let S=0;S<c.length;S++){const m=c[S],d=Zp(m.videoId).then(h=>{p++,e({batchProgress:p/c.length*100,completedInCurrentBatch:p}),console.log(`[ImagineGodMode] Upscale request sent ${p}/${c.length}: ${m.videoId}`),h.success||r(m.videoId,"failed")});f.push(d),S<c.length-1&&await new Promise(h=>setTimeout(h,rs(pt.UPSCALE_DELAY_MIN,pt.UPSCALE_DELAY_MAX)))}await Promise.all(f),console.log("[ImagineGodMode] All upscale requests sent, polling for HD URLs...");const g=await l(u),x=[];for(const S of c){const m=g.get(S.videoId);m?(r(S.videoId,"completed",m),x.push(m)):r(S.videoId,"failed")}x.length>0&&(console.log(`[ImagineGodMode] Downloading ${x.length} HD videos`),await s(x));const{isProcessing:y,_processNextBatch:v}=t();y&&(e(S=>({currentBatchIndex:S.currentBatchIndex+1})),v())}}),{name:"imaginegodmode-upscale-queue",partialize:e=>({queue:e.queue.filter(t=>t.status!=="processing")})})),Yv=()=>{const{t:e}=de(),[t,n]=w.useState(!1),[o,r]=w.useState(!1),s=()=>{const i=document.getElementById("hd-video"),c=document.getElementById("sd-video");let u=null;return i&&i.offsetWidth>0&&i.offsetHeight>0&&getComputedStyle(i).display!=="none"&&getComputedStyle(i).visibility!=="hidden"?u=i:c&&c.offsetWidth>0&&c.offsetHeight>0&&getComputedStyle(c).display!=="none"&&getComputedStyle(c).visibility!=="hidden"?u=c:u=i||c,u};w.useEffect(()=>{const i=()=>{const u=Mn(),p=s();r(!!(u&&p))};i();const c=setInterval(i,1e3);return()=>clearInterval(c)},[]);const l=()=>{try{const i=s();if(!i){console.error("[ImagineGodMode] No video element found for fullscreen"),n(!0),setTimeout(()=>n(!1),1e3);return}console.log("[ImagineGodMode] Entering fullscreen for video:",i.id),sf("button");const c=i;i.requestFullscreen?i.requestFullscreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.msRequestFullscreen&&c.msRequestFullscreen()}catch(i){console.error("[ImagineGodMode] Fullscreen error:",i),n(!0),setTimeout(()=>n(!1),1e3)}};return o?a.jsx(U,{variant:"icon",icon:o0,onClick:l,tooltip:e("modals.fullscreen.enterTooltip"),className:t?"opacity-50":""}):null},Kv=()=>{const[e,t]=w.useState(!1),[n,o]=w.useState(!1),[r,s]=w.useState(!1),l=()=>{const c=document.getElementById("hd-video"),u=document.getElementById("sd-video");let p=null;return c&&c.offsetWidth>0&&c.offsetHeight>0&&getComputedStyle(c).display!=="none"&&getComputedStyle(c).visibility!=="hidden"?p=c:u&&u.offsetWidth>0&&u.offsetHeight>0&&getComputedStyle(u).display!=="none"&&getComputedStyle(u).visibility!=="hidden"?p=u:p=c||u,p};w.useEffect(()=>{const c=()=>{const p=Mn(),f=l();s(!!(p&&f))};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[]),w.useEffect(()=>{(()=>{const x=l();x&&o(x.paused)})();const u=()=>o(!1),p=()=>o(!0),f=document.getElementById("hd-video"),g=document.getElementById("sd-video");return f&&(f.addEventListener("play",u),f.addEventListener("pause",p)),g&&(g.addEventListener("play",u),g.addEventListener("pause",p)),()=>{f&&(f.removeEventListener("play",u),f.removeEventListener("pause",p)),g&&(g.removeEventListener("play",u),g.removeEventListener("pause",p))}},[]);const i=()=>{try{const c=l();if(!c){console.error("[ImagineGodMode] No video element found for play/pause"),t(!0),setTimeout(()=>t(!1),1e3);return}c.paused?(console.log("[ImagineGodMode] Playing video:",c.id),c.play(),_s("play","button")):(console.log("[ImagineGodMode] Pausing video:",c.id),c.pause(),_s("pause","button"))}catch(c){console.error("[ImagineGodMode] Play/Pause error:",c),t(!0),setTimeout(()=>t(!1),1e3)}};return r?a.jsx(U,{variant:"icon",icon:n?Wi:i0,onClick:i,tooltip:n?"Play video (Space)":"Pause video (Space)",className:e?"opacity-50":""}):null},Xv=e=>{const[t,n]=w.useState(!1),{setPosts:o}=go(),{addToQueue:r}=_f(),{likedPosts:s,isLoading:l,loadLikedPosts:i}=fl(e),c=w.useCallback(async()=>{const f=await i();o(f),f.length>0&&(n(!0),ns("upscale_all"))},[i,o]),u=w.useCallback(()=>{n(!1),os("upscale_all")},[]),p=w.useCallback(async f=>{n(!1);let g=0;for(const x of f)try{const y=await Yi(x);if(y!=null&&y.post){const v=mo(y);v.videosToUpscale.length>0&&(r(x,v.videosToUpscale),g+=v.videosToUpscale.length)}}catch(y){console.error(`Failed to process post ${x}:`,y)}},[r,e]);return{isModalOpen:t,likedPosts:s,isLoading:l,openModal:c,closeModal:u,handleBulkUpscale:p}},Wv=()=>{const{isExpanded:e,toggleExpanded:t,setCurrentView:n,setExpanded:o}=Qp(),{t:r}=de(),{globalPromptAddonEnabled:s,globalPromptAddon:l,rememberPostState:i,setRememberPostState:c,getThemeColors:u}=re(),{getCurrentPrompt:p}=Ye(),{getNextPostId:f,getPrevPostId:g,setCurrentPostId:x,setPosts:y,posts:v}=go(),{queue:S}=_f(),{isModalOpen:m,likedPosts:d,openModal:h,closeModal:C,handleBulkUpscale:P}=Xv(),[T,k]=w.useState(!1),[E,I]=w.useState(""),[A,j]=w.useState(""),X=w.useCallback(async()=>{const L=Mn();if(j(L||""),x(L),L){const F=await Ki(L);I(F)}else I("")},[x]);be.useEffect(()=>{X();const L=()=>{X()};return window.addEventListener("popstate",L),()=>window.removeEventListener("popstate",L)},[X]),be.useEffect(()=>{(async()=>{if(v.length===0){const F=await hr(1e3);F.posts&&y(F.posts)}})()},[v.length,y]);const G=L=>s&&l.trim()?`${L}, ${l.trim()}`:L,Y=()=>{const L=p();if(!L)return;Ms();const F=G(L.text);ar(F,E)},$=()=>{const L=p();if(!L)return;const F=f();if(!F){k(!1);return}Ms(),rf();const q=G(L.text);Mf(q,E,F)},b=()=>{const L=g();L&&Nn(L)},J=()=>{const L=f();L&&Nn(L)},O=p(),R=!(O!=null&&O.text.trim())&&!E.trim(),N=!!f(),H=!!g(),D=()=>{const L=G((O==null?void 0:O.text)||""),F=100;return L.length>F?L.substring(0,F)+"...":L},M=S.filter(L=>L.status==="pending"||L.status==="processing").length,_=()=>{n("queue"),e||o(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kv,{}),a.jsx(Yv,{}),e&&a.jsx(U,{variant:"icon",onClick:()=>c(!i),icon:hf,className:`shadow-lg ${i?"!bg-slate-400 !border-slate-400":""}`,iconColor:i?ft.BLACK:void 0,tooltip:i?"Remember Pack Per Post: ON - Each post remembers its pack":"Remember Pack Per Post: OFF - Click to enable"}),!e&&a.jsxs(a.Fragment,{children:[H&&a.jsx(U,{variant:"icon",onClick:b,icon:uf,className:"shadow-lg",tooltip:r("panel.previousPostTooltip")}),N&&a.jsx(U,{variant:"icon",onClick:J,icon:df,className:"shadow-lg",tooltip:r("panel.nextPostTooltip")}),A&&!R&&a.jsx(U,{variant:"icon",onClick:Y,icon:Wi,iconColor:ft.BLACK,className:"shadow-lg !bg-white !text-black hover:!bg-white/90",tooltip:`Make: ${D()}`}),N&&!R&&a.jsx(U,{variant:"icon",onClick:$,icon:wf,iconColor:ft.BLACK,className:"shadow-lg !bg-white !text-black hover:!bg-white/90",tooltip:`Make + Next: ${D()}`}),A&&a.jsx(U,{variant:"icon",onClick:()=>k(!T),icon:lf,className:`shadow-lg ${T?"!bg-slate-400 !border-slate-400":""}`,iconColor:T?ft.BLACK:void 0,tooltip:r("panel.autoTooltip")}),a.jsx(U,{variant:"icon",onClick:h,icon:xf,className:"shadow-lg",tooltip:r("panel.upscaleAllLikedTooltip")})]}),M>0&&a.jsxs("div",{className:"relative",children:[a.jsx(U,{variant:"icon",onClick:_,icon:Tf,className:"shadow-lg",tooltip:r("tabs.queueTooltip")}),a.jsx("div",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] rounded-full flex items-center justify-center text-[10px] font-bold shadow-lg",style:{backgroundColor:u().SUCCESS,color:"#fff",padding:"0 4px"},children:M})]}),a.jsx(U,{variant:"icon",onClick:t,icon:e?dl:pf,iconSize:.9,className:"shadow-lg",tooltip:r(e?"panel.collapseTooltip":"panel.expandTooltip")})]}),a.jsx(Df,{isOpen:m,posts:d,mode:"upscale",onClose:C,onConfirm:P,getThemeColors:u})]})},Jv=()=>{const{getThemeColors:e}=re(),{t}=de(),n=e();return a.jsxs("div",{className:"flex flex-col items-end px-2 py-1 leading-tight rounded-lg",style:{backgroundColor:`${n.BACKGROUND_DARK}aa`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[a.jsxs("span",{className:"text-[10px] font-medium",style:{color:n.TEXT_SECONDARY},children:["ImagineGodMode ",t("common.version")," ",zs]}),a.jsx("span",{className:"text-[9px]",style:{color:`${n.TEXT_SECONDARY}80`},children:t("panel.authorCredit")})]})},Qv=({onMouseDown:e,tooltipContent:t})=>{const{getThemeColors:n}=re(),o=n();return a.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-4 cursor-move flex items-center justify-center opacity-40 hover:opacity-100 transition-opacity duration-200",style:{color:o.TEXT_SECONDARY},onMouseDown:e,"data-tooltip-content":t,children:a.jsx(Q,{path:Qh,size:.7,color:o.TEXT_SECONDARY})})},qv=e=>{const[t,n]=w.useState(!1);return w.useEffect(()=>{const o=()=>{const s=window.location.pathname.includes(e);n(s)};o();const r=new MutationObserver(o);return r.observe(document.querySelector("title")||document.body,{childList:!0,subtree:!0}),window.addEventListener("popstate",o),()=>{r.disconnect(),window.removeEventListener("popstate",o)}},[e]),t},Iu={prompt:Wa,ops:Av,settings:Vv,help:zv,queue:$v,pit:Fv},Zv=()=>{const{isExpanded:e,currentView:t,setCurrentView:n}=Qp(),{getThemeColors:o,getScale:r,enableThePit:s,panelPosition:l,setPanelPosition:i}=re(),{jobs:c}=ll(),{t:u}=de(),p=o(),f=r(),g=qv("/imagine"),[x,y]=w.useState(!1),[v,S]=w.useState({x:0,y:0}),m=w.useRef(null),d=c.filter(R=>R.status==="pending"||R.status==="processing").length,[h,C]=w.useState(e),[P,T]=w.useState(!1),[k,E]=w.useState(!1),[I,A]=w.useState(t);w.useEffect(()=>{if(e){const R=setTimeout(()=>{C(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{T(!0)})})},0);return()=>clearTimeout(R)}else{const R=setTimeout(()=>{T(!1);const N=setTimeout(()=>{C(!1)},300);return()=>clearTimeout(N)},0);return()=>clearTimeout(R)}},[e]),w.useEffect(()=>{if(I!==t){const R=setTimeout(()=>{E(!0);const N=setTimeout(()=>{A(t),E(!1)},200);return()=>clearTimeout(N)},0);return()=>clearTimeout(R)}},[t,I]);const j=w.useRef(window.location.href);if(w.useEffect(()=>{const R=()=>{const H=window.location.href;H!==j.current&&(j.current=H,H.includes("/favorites")&&t!=="ops"?n("ops"):H.includes("/imagine/post/")&&t!=="prompt"&&n("prompt"))};R();const N=setInterval(R,pt.URL_WATCHER_INTERVAL);return()=>{clearInterval(N)}},[t,n]),w.useEffect(()=>{if(!x)return;const R=H=>{if(!m.current)return;const D=m.current.getBoundingClientRect(),M=H.clientX-v.x,_=window.innerHeight-(H.clientY-v.y)-D.height,L=D.width,F=0,q=window.innerWidth-L,ae=0,W=window.innerHeight-D.height,B=Math.max(F,Math.min(q,M)),Z=Math.max(ae,Math.min(W,_));i({x:B,y:Z})},N=()=>{y(!1)};return document.addEventListener("mousemove",R),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",N)}},[x,v,i]),w.useEffect(()=>{const R=()=>{if(!m.current||!l)return;const N=m.current.getBoundingClientRect(),H=window.innerWidth,D=window.innerHeight;let M=!1,_=l.x,L=l.y;N.left<0&&(_=l.x-N.left,M=!0),N.right>H&&(_=l.x-(N.right-H),M=!0),N.top<0&&(L=l.y-N.top,M=!0),N.bottom>D&&(L=l.y-(N.bottom-D),M=!0),M&&i({x:_,y:L})};return window.addEventListener("resize",R),()=>{window.removeEventListener("resize",R)}},[l,i]),!g)return null;const X=Iu[t]||Wa,G=Iu[I]||Wa,$=[{id:"prompt",icon:f0,iconOnly:!0,tooltip:u("tabs.prompt")},{id:"ops",icon:Kh,iconOnly:!0,tooltip:u("tabs.ops")},{id:"settings",icon:ff,iconOnly:!0,tooltip:u("tabs.settings")},{id:"queue",icon:Tf,badge:d,iconOnly:!0,tooltip:u("tabs.queueTooltip")},{id:"help",icon:r0,iconOnly:!0,tooltip:u("tabs.help")},{id:"pit",icon:vf,iconOnly:!0,tooltip:"The Pit"}].filter(R=>R.id==="pit"?s:!0),b=Hv()?gl.BOTTOM_MOBILE:gl.BOTTOM,J=R=>{if(!m.current)return;const N=m.current.getBoundingClientRect();if(!l){const H=N.left,D=window.innerHeight-N.bottom;i({x:H,y:D})}S({x:R.clientX-N.left,y:R.clientY-N.top}),y(!0)},O=()=>l?{left:`${l.x}px`,bottom:`${l.y}px`,top:"auto",right:"auto"}:{bottom:b,right:gl.RIGHT};return a.jsx("div",{ref:m,className:"fixed flex flex-col transition-transform duration-200",style:{...O(),transform:`scale(${f})`,transformOrigin:l?"bottom left":"bottom right",zIndex:wn.MAIN_PANEL,cursor:x?"grabbing":"auto",userSelect:"none",WebkitUserSelect:"none"},children:a.jsxs("div",{className:"flex flex-col items-end gap-2 w-[360px]",children:[a.jsx(Jv,{}),a.jsx(Wv,{}),h&&a.jsxs("div",{className:"rounded-2xl p-4 shadow-2xl w-full overflow-hidden transition-all duration-300 ease-out relative",style:{backgroundColor:`${p.BACKGROUND_DARK}aa`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:`1px solid ${p.BORDER}`,maxHeight:P?"800px":"0px",opacity:P?1:0,padding:P?"16px":"0px 16px",transform:P?"translateY(0) scale(1)":"translateY(20px) scale(0.95)",transformOrigin:l?"bottom left":"bottom right"},children:[a.jsx(Qv,{onMouseDown:J,tooltipContent:u("help.tooltips.dragPanel")}),a.jsxs("div",{className:"relative",children:[k&&a.jsx("div",{className:"absolute inset-0 transition-all duration-200 ease-out pointer-events-none",style:{opacity:0,transform:"translateX(-20px)"},children:a.jsx(G,{})}),a.jsx("div",{className:"transition-all duration-200 ease-out",style:{opacity:k?0:1,transform:k?"translateX(20px)":"translateX(0)"},children:a.jsx(X,{})})]}),a.jsx(If,{tabs:$,activeTab:t,onChange:R=>n(R),direction:"up"})]})]})})},ex=()=>{const{getCurrentPrompt:e}=Ye(),{simpleShortcut:t,globalPromptAddonEnabled:n,globalPromptAddon:o}=re();w.useEffect(()=>{const r=l=>n&&o.trim()?`${l}, ${o.trim()}`:l,s=l=>{const c=navigator.platform.toUpperCase().indexOf("MAC")>=0?l.metaKey:l.ctrlKey,u=l.target,p=u.tagName==="TEXTAREA"||u.tagName==="INPUT"||u.isContentEditable;if(l.key==="f"&&!c&&!p){l.preventDefault(),sf("keyboard"),$r("f","fullscreen");let g=document.querySelector(Pt.FULLSCREEN_BUTTON);if(g||(g=document.querySelector(Pt.FULLSCREEN_BUTTON_ALT)),g)g.click();else{const x=document.querySelector(Pt.VIDEO_ELEMENT);x&&(document.fullscreenElement?document.exitFullscreen():x.requestFullscreen().catch(y=>{console.warn("[ImagineGodMode] Fullscreen request failed:",y)}))}}if(l.key===" "&&!c&&!p){l.preventDefault();const g=document.querySelector(Pt.PLAY_PAUSE_BUTTON);if(g)g.click();else{const x=document.querySelector(Pt.VIDEO_ELEMENT);x&&(x.paused?(x.play().catch(v=>{console.warn("[ImagineGodMode] Video play failed:",v)}),_s("play","keyboard"),$r("space","play")):(x.pause(),_s("pause","keyboard"),$r("space","pause")))}}if(t?c&&l.key==="Enter"&&!l.shiftKey:c&&l.key==="Enter"&&l.shiftKey){l.preventDefault(),$r(t?"ctrl+enter":"ctrl+shift+enter","apply_prompt");const x=e();if(x){const y=r(x.text),v=Mn();v?Ki(v).then(S=>{ar(y,S,100)}):ar(y,"",100)}}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,t,n,o])},tx=()=>{const{navigatePostsWithArrows:e}=re(),{getPrevPostId:t,getNextPostId:n}=go();w.useEffect(()=>{const o=r=>{const s=r.target;if(!(s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.isContentEditable)){if(r.key==="ArrowLeft")if(r.preventDefault(),e){const l=t();l&&(Nn(l),console.log("[ImagineGodMode] Previous post navigated via arrow key"))}else{const l=document.querySelector('button[aria-label="Previous video"]');l&&!l.disabled&&(l.click(),console.log("[ImagineGodMode] Previous video clicked via arrow key"))}if(r.key==="ArrowRight")if(r.preventDefault(),e){const l=n();l&&(Nn(l),console.log("[ImagineGodMode] Next post navigated via arrow key"))}else{const l=document.querySelector('button[aria-label="Next video"]');l&&!l.disabled&&(l.click(),console.log("[ImagineGodMode] Next video clicked via arrow key"))}}};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[e,t,n])},nx=()=>{const{getThemeColors:e}=re();w.useEffect(()=>{let t=null,n=null,o=null;function r(){if(o)return o;const p=e();return o=document.createElement("div"),o.id="grok-progress-bar",Object.assign(o.style,{position:"fixed",top:"0",left:"0",height:"7px",width:"0%",background:p.PROGRESS_BAR,opacity:"0.5",zIndex:String(wn.VIDEO_PROGRESS),transition:"width 0.3s ease",pointerEvents:"none"}),document.body.appendChild(o),o}function s(){o&&(o.remove(),o=null)}function l(p){if(p&&!p.dataset.grokGlowApplied){p.dataset.grokGlowApplied="true";const f=e();if(p.style.boxShadow=`0 0 20px ${f.GLOW_PRIMARY}, 0 0 40px ${f.GLOW_SECONDARY}`,p.style.transition="box-shadow 0.3s ease",!document.getElementById("grok-glow-style")){const g=document.createElement("style");g.id="grok-glow-style",g.textContent=`
            @keyframes grok-glow-pulse {
              0%, 100% {
                box-shadow: 0 0 20px ${f.GLOW_PRIMARY}, 0 0 40px ${f.GLOW_SECONDARY};
              }
              50% {
                box-shadow: 0 0 30px ${f.GLOW_HOVER_PRIMARY}, 0 0 60px ${f.GLOW_HOVER_SECONDARY};
              }
            }
            button[data-grok-glow-applied="true"] {
              animation: grok-glow-pulse 2s ease-in-out infinite;
            }
          `,document.head.appendChild(g)}}}function i(){if(!t||!document.body.contains(t)){const p=document.querySelectorAll("button"),f=document.getElementById("imaginegodmode-root");for(const g of p){if(f&&f.contains(g))continue;if((g.textContent||g.innerText||"").match(/\d+%/)){t=g,l(t);break}}}return t}function c(){const p=i();if(p){const g=(p.textContent||p.innerText||"").match(/(\d+)%/);if(g){const x=parseInt(g[1],10);if(x===100)s(),n=null,t=null;else{const y=r();y.style.width=`${x}%`,x!==n&&(n=x,console.log("[ImagineGodMode] Video generation progress:",x+"%"))}}else n!==null&&(s(),n=null,t=null)}else o&&(s(),n=null)}c();const u=setInterval(c,500);return()=>{clearInterval(u),s()}},[e])},ox=()=>{const{getScale:e}=re(),[t,n]=w.useState(!1),[o,r]=w.useState(""),[s,l]=w.useState({top:0,left:0,arrowLeft:0}),i=w.useRef(null),c=w.useRef(null);if(w.useEffect(()=>{if(!t||!c.current)return;const g=()=>{if(!c.current||!i.current)return;const v=c.current.getBoundingClientRect(),S=i.current.getBoundingClientRect(),m=4,d=6,h=v.top-S.height-m-d;let C=v.left+v.width/2-S.width/2,T=v.left+v.width/2-C-d;const k=10;if(C<k){const E=k-C;C+=E,T-=E}else if(C+S.width>window.innerWidth-k){const E=C+S.width-(window.innerWidth-k);C-=E,T+=E}l({top:h,left:C,arrowLeft:T})},x=setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(g)})},0);return()=>clearTimeout(x)},[t]),w.useEffect(()=>{const g=m=>{const d=m.currentTarget,h=d.getAttribute("data-tooltip-content");h&&(c.current=d,r(h),n(!0))},x=()=>{n(!1),c.current=null,l({top:0,left:0,arrowLeft:0})},y=()=>{const m=document.querySelectorAll("[data-tooltip-content]");return m.forEach(d=>{d.addEventListener("mouseenter",g),d.addEventListener("mouseleave",x)}),()=>{m.forEach(d=>{d.removeEventListener("mouseenter",g),d.removeEventListener("mouseleave",x)})}},v=y(),S=setInterval(y,1e3);return()=>{v(),clearInterval(S)}},[]),!t||!o)return null;const f=.75*e();return mr.createPortal(a.jsx("div",{ref:i,className:"fixed pointer-events-none",style:{top:`${s.top}px`,left:`${s.left}px`,zIndex:wn.MODAL_TOOLTIP,opacity:s.top===0?0:1,transition:"opacity 0.1s ease-in-out"},children:a.jsxs("div",{className:"relative px-3 py-2 max-w-[20rem] rounded-lg shadow-lg",style:{backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",fontSize:`${f}rem`},children:[o,a.jsx("div",{className:"absolute",style:{bottom:"-6px",left:`${s.arrowLeft}px`,width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid rgba(0, 0, 0, 0.9)"}})]})}),document.body)},rx=()=>{const{loadFromStorage:e}=Ye(),{loadThemes:t,hideUnsave:n,theme:o,getThemeColors:r}=re(),{loadUserId:s}=sr();return w.useEffect(()=>{e(),t(),s(),kh()},[e,t,s]),w.useEffect(()=>{const l=r(),i="theme-variables";let c=document.getElementById(i);return c||(c=document.createElement("style"),c.id=i,document.head.appendChild(c)),c.textContent=`:root {
      --color-bg-dark: ${l.BACKGROUND_DARK};
      --color-bg-medium: ${l.BACKGROUND_MEDIUM};
      --color-bg-light: ${l.BACKGROUND_LIGHT};
      --color-text-primary: ${l.TEXT_PRIMARY};
      --color-text-secondary: ${l.TEXT_SECONDARY};
      --color-text-hover: ${l.TEXT_HOVER};
      --color-shadow: ${l.SHADOW};
      --color-border: ${l.BORDER};
      --color-success: ${l.SUCCESS};
      --color-danger: ${l.DANGER};
      --color-progress-bar: ${l.PROGRESS_BAR};
      --color-glow-primary: ${l.GLOW_PRIMARY};
      --color-glow-secondary: ${l.GLOW_SECONDARY};
      --color-glow-hover-primary: ${l.GLOW_HOVER_PRIMARY};
      --color-glow-hover-secondary: ${l.GLOW_HOVER_SECONDARY};
    }`,()=>{const u=document.getElementById(i);u&&u.remove()}},[o,r]),w.useEffect(()=>{const l="hide-unsave-style";let i=document.getElementById(l);return n?(i||(i=document.createElement("style"),i.id=l,document.head.appendChild(i)),i.textContent='button[aria-label="Unsave"] { display: none !important; }'):i&&i.remove(),()=>{const c=document.getElementById(l);c&&c.remove()}},[n]),ex(),tx(),nx(),a.jsxs(cv,{children:[a.jsx(Zv,{}),a.jsx(ox,{})]})};function sx(){let t=0;const n=()=>{t++;const r=Array.from(document.querySelectorAll('button, a[role="button"]')).find(s=>{var i;const l=((i=s.textContent)==null?void 0:i.toLowerCase())||"";return l.includes("continue with web")||l.includes("use web version")||l.includes("continue to web")});return r?(console.log('[ImagineGodMode] Auto-clicking "Continue with web" button'),r.click(),!0):(t<10&&setTimeout(n,500),!1)};n()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",bu):bu();function bu(){console.log(`%c ImagineGodMode v${zs} %c by b2kdaman `,"background: #1a1a1a; color: #ffffff; padding: 4px 8px; border-radius: 3px 0 0 3px; font-weight: bold;","background: #3a3a3a; color: #b0b0b0; padding: 4px 8px; border-radius: 0 3px 3px 0;"),sx();const e="imaginegodmode-root";let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t)),ql.createRoot(t).render(a.jsx(be.StrictMode,{children:a.jsx(rx,{})}))}
