import{A as xn,b as ve,p as Rf,M as Zi,V as Ms,r as Zo,T as St,Z as yn,U as Ie,S as yt,g as Pn,a as rl}from"./helpers-ByKo8P2x.js";function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Au={exports:{}},_s={},Du={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=Symbol.for("react.element"),Af=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Of=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),Lf=Symbol.for("react.memo"),Uf=Symbol.for("react.lazy"),ec=Symbol.iterator;function Hf(e){return e===null||typeof e!="object"?null:(e=ec&&e[ec]||e["@@iterator"],typeof e=="function"?e:null)}var Mu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_u=Object.assign,Iu={};function lr(e,t,n){this.props=e,this.context=t,this.refs=Iu,this.updater=n||Mu}lr.prototype.isReactComponent={};lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ou(){}Ou.prototype=lr.prototype;function Va(e,t,n){this.props=e,this.context=t,this.refs=Iu,this.updater=n||Mu}var $a=Va.prototype=new Ou;$a.constructor=Va;_u($a,lr.prototype);$a.isPureReactComponent=!0;var tc=Array.isArray,ju=Object.prototype.hasOwnProperty,za={current:null},bu={key:!0,ref:!0,__self:!0,__source:!0};function Lu(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)ju.call(t,r)&&!bu.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:no,type:e,key:s,ref:l,props:o,_owner:za.current}}function Vf(e,t){return{$$typeof:no,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===no}function $f(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nc=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$f(""+e.key):t.toString(36)}function Ho(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case no:case Af:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+ol(l,0):r,tc(o)?(n="",e!=null&&(n=e.replace(nc,"$&/")+"/"),Ho(o,t,n,"",function(u){return u})):o!=null&&(Ba(o)&&(o=Vf(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(nc,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",tc(e))for(var i=0;i<e.length;i++){s=e[i];var c=r+ol(s,i);l+=Ho(s,t,n,c,o)}else if(c=Hf(e),typeof c=="function")for(e=c.call(e),i=0;!(s=e.next()).done;)s=s.value,c=r+ol(s,i++),l+=Ho(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function vo(e,t,n){if(e==null)return e;var r=[],o=0;return Ho(e,r,"","",function(s){return t.call(n,s,o++)}),r}function zf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Vo={transition:null},Bf={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Vo,ReactCurrentOwner:za};function Uu(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:vo,forEach:function(e,t,n){vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vo(e,function(){t++}),t},toArray:function(e){return vo(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=lr;Q.Fragment=Df;Q.Profiler=_f;Q.PureComponent=Va;Q.StrictMode=Mf;Q.Suspense=bf;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bf;Q.act=Uu;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_u({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=za.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ju.call(t,c)&&!bu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:no,type:e.type,key:o,ref:s,props:r,_owner:l}};Q.createContext=function(e){return e={$$typeof:Of,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:If,_context:e},e.Consumer=e};Q.createElement=Lu;Q.createFactory=function(e){var t=Lu.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:jf,render:e}};Q.isValidElement=Ba;Q.lazy=function(e){return{$$typeof:Uf,_payload:{_status:-1,_result:e},_init:zf}};Q.memo=function(e,t){return{$$typeof:Lf,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Vo.transition;Vo.transition={};try{e()}finally{Vo.transition=t}};Q.unstable_act=Uu;Q.useCallback=function(e,t){return je.current.useCallback(e,t)};Q.useContext=function(e){return je.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return je.current.useDeferredValue(e)};Q.useEffect=function(e,t){return je.current.useEffect(e,t)};Q.useId=function(){return je.current.useId()};Q.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return je.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};Q.useRef=function(e){return je.current.useRef(e)};Q.useState=function(e){return je.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return je.current.useTransition()};Q.version="18.3.1";Du.exports=Q;var P=Du.exports;const Ue=Ha(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=P,Gf=Symbol.for("react.element"),Yf=Symbol.for("react.fragment"),Xf=Object.prototype.hasOwnProperty,Kf=Ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wf={key:!0,ref:!0,__self:!0,__source:!0};function Hu(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Xf.call(t,r)&&!Wf.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Gf,type:e,key:s,ref:l,props:o,_owner:Kf.current}}_s.Fragment=Yf;_s.jsx=Hu;_s.jsxs=Hu;Au.exports=_s;var a=Au.exports,Vl={},Vu={exports:{}},We={},$u={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,U){var H=M.length;M.push(U);e:for(;0<H;){var O=H-1>>>1,A=M[O];if(0<o(A,U))M[O]=U,M[H]=A,H=O;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],H=M.pop();if(H!==U){M[0]=H;e:for(var O=0,A=M.length,j=A>>>1;O<j;){var X=2*(O+1)-1,_=M[X],J=X+1,z=M[J];if(0>o(_,H))J<A&&0>o(z,_)?(M[O]=z,M[J]=H,O=J):(M[O]=_,M[X]=H,O=X);else if(J<A&&0>o(z,H))M[O]=z,M[J]=H,O=J;else break e}}return U}function o(M,U){var H=M.sortIndex-U.sortIndex;return H!==0?H:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],u=[],p=1,f=null,m=3,x=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(M){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=M)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function C(M){if(y=!1,h(M),!v)if(n(c)!==null)v=!0,F(w);else{var U=n(u);U!==null&&Y(C,U.startTime-M)}}function w(M,U){v=!1,y&&(y=!1,g(E),E=-1),x=!0;var H=m;try{for(h(U),f=n(c);f!==null&&(!(f.expirationTime>U)||M&&!R());){var O=f.callback;if(typeof O=="function"){f.callback=null,m=f.priorityLevel;var A=O(f.expirationTime<=U);U=e.unstable_now(),typeof A=="function"?f.callback=A:f===n(c)&&r(c),h(U)}else r(c);f=n(c)}if(f!==null)var j=!0;else{var X=n(u);X!==null&&Y(C,X.startTime-U),j=!1}return j}finally{f=null,m=H,x=!1}}var N=!1,k=null,E=-1,T=5,D=-1;function R(){return!(e.unstable_now()-D<T)}function $(){if(k!==null){var M=e.unstable_now();D=M;var U=!0;try{U=k(!0,M)}finally{U?V():(N=!1,k=null)}}else N=!1}var V;if(typeof d=="function")V=function(){d($)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=$,V=function(){B.postMessage(null)}}else V=function(){S($,0)};function F(M){k=M,N||(N=!0,V())}function Y(M,U){E=S(function(){M(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,F(w))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var H=m;m=U;try{return M()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=m;m=M;try{return U()}finally{m=H}},e.unstable_scheduleCallback=function(M,U,H){var O=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,M){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=H+A,M={id:p++,callback:U,priorityLevel:M,startTime:H,expirationTime:A,sortIndex:-1},H>O?(M.sortIndex=H,t(u,M),n(c)===null&&M===n(u)&&(y?(g(E),E=-1):y=!0,Y(C,H-O))):(M.sortIndex=A,t(c,M),v||x||(v=!0,F(w))),M},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(M){var U=m;return function(){var H=m;m=U;try{return M.apply(this,arguments)}finally{m=H}}}})(zu);$u.exports=zu;var Jf=$u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=P,Ke=Jf;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,Or={};function Tn(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(Or[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=Object.prototype.hasOwnProperty,qf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rc={},oc={};function Zf(e){return $l.call(oc,e)?!0:$l.call(rc,e)?!1:qf.test(e)?oc[e]=!0:(rc[e]=!0,!1)}function em(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tm(e,t,n,r){if(t===null||typeof t>"u"||em(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fa=/[\-:]([a-z])/g;function Ga(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fa,Ga);we[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fa,Ga);we[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fa,Ga);we[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ya(e,t,n,r){var o=we.hasOwnProperty(t)?we[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tm(t,n,o,r)&&(n=null),r||o===null?Zf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),In=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),Gu=Symbol.for("react.context"),Ka=Symbol.for("react.forward_ref"),Bl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),Wa=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Yu=Symbol.for("react.offscreen"),sc=Symbol.iterator;function ur(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,sl;function yr(e){if(sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||""}return`
`+sl+e}var ll=!1;function al(e,t){if(!e||ll)return"";ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,i=s.length-1;1<=l&&0<=i&&o[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(o[l]!==s[i]){if(l!==1||i!==1)do if(l--,i--,0>i||o[l]!==s[i]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yr(e):""}function nm(e){switch(e.tag){case 5:return yr(e.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case On:return"Fragment";case In:return"Portal";case zl:return"Profiler";case Xa:return"StrictMode";case Bl:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gu:return(e.displayName||"Context")+".Consumer";case Fu:return(e._context.displayName||"Context")+".Provider";case Ka:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wa:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function om(e){var t=Xu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){e._valueTracker||(e._valueTracker=om(e))}function Ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yl(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wu(e,t){t=t.checked,t!=null&&Ya(e,"checked",t,!1)}function Xl(e,t){Wu(e,t);var n=nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kl(e,t.type,nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ac(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kl(e,t,n){(t!=="number"||es(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kr=Array.isArray;function Yn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ic(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(kr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nn(n)}}function Ju(e,t){var n=nn(t.value),r=nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ko,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sm=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(e){sm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cr[t]=Cr[e]})});function Zu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cr.hasOwnProperty(e)&&Cr[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Zu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var lm=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(e,t){if(t){if(lm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function ql(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function Ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ea=null,Xn=null,Kn=null;function uc(e){if(e=so(e)){if(typeof ea!="function")throw Error(b(280));var t=e.stateNode;t&&(t=Ls(t),ea(e.stateNode,e.type,t))}}function td(e){Xn?Kn?Kn.push(e):Kn=[e]:Xn=e}function nd(){if(Xn){var e=Xn,t=Kn;if(Kn=Xn=null,uc(e),t)for(e=0;e<t.length;e++)uc(t[e])}}function rd(e,t){return e(t)}function od(){}var il=!1;function sd(e,t,n){if(il)return e(t,n);il=!0;try{return rd(e,t,n)}finally{il=!1,(Xn!==null||Kn!==null)&&(od(),nd())}}function br(e,t){var n=e.stateNode;if(n===null)return null;var r=Ls(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var ta=!1;if(It)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){ta=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{ta=!1}function am(e,t,n,r,o,s,l,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var wr=!1,ts=null,ns=!1,na=null,im={onError:function(e){wr=!0,ts=e}};function cm(e,t,n,r,o,s,l,i,c){wr=!1,ts=null,am.apply(im,arguments)}function um(e,t,n,r,o,s,l,i,c){if(cm.apply(this,arguments),wr){if(wr){var u=ts;wr=!1,ts=null}else throw Error(b(198));ns||(ns=!0,na=u)}}function Nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dc(e){if(Nn(e)!==e)throw Error(b(188))}function dm(e){var t=e.alternate;if(!t){if(t=Nn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return dc(o),e;if(s===r)return dc(o),t;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,i=o.child;i;){if(i===n){l=!0,n=o,r=s;break}if(i===r){l=!0,r=o,n=s;break}i=i.sibling}if(!l){for(i=s.child;i;){if(i===n){l=!0,n=s,r=o;break}if(i===r){l=!0,r=s,n=o;break}i=i.sibling}if(!l)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function ad(e){return e=dm(e),e!==null?id(e):null}function id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=id(e);if(t!==null)return t;e=e.sibling}return null}var cd=Ke.unstable_scheduleCallback,pc=Ke.unstable_cancelCallback,pm=Ke.unstable_shouldYield,fm=Ke.unstable_requestPaint,pe=Ke.unstable_now,mm=Ke.unstable_getCurrentPriorityLevel,Qa=Ke.unstable_ImmediatePriority,ud=Ke.unstable_UserBlockingPriority,rs=Ke.unstable_NormalPriority,gm=Ke.unstable_LowPriority,dd=Ke.unstable_IdlePriority,Is=null,Et=null;function hm(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:ym,vm=Math.log,xm=Math.LN2;function ym(e){return e>>>=0,e===0?32:31-(vm(e)/xm|0)|0}var So=64,Eo=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function os(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~o;i!==0?r=Sr(i):(s&=l,s!==0&&(r=Sr(s)))}else l=n&~o,l!==0?r=Sr(l):s!==0&&(r=Sr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dt(t),o=1<<n,r|=e[n],t&=~o;return r}function km(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-dt(s),i=1<<l,c=o[l];c===-1?(!(i&n)||i&r)&&(o[l]=km(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}}function ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pd(){var e=So;return So<<=1,!(So&4194240)&&(So=64),e}function cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function Em(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-dt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function qa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ee=0;function fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,Za,gd,hd,vd,oa=!1,Co=[],Xt=null,Kt=null,Wt=null,Lr=new Map,Ur=new Map,Bt=[],Cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function pr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=so(t),t!==null&&Za(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function wm(e,t,n,r,o){switch(t){case"focusin":return Xt=pr(Xt,e,t,n,r,o),!0;case"dragenter":return Kt=pr(Kt,e,t,n,r,o),!0;case"mouseover":return Wt=pr(Wt,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Lr.set(s,pr(Lr.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Ur.set(s,pr(Ur.get(s)||null,e,t,n,r,o)),!0}return!1}function xd(e){var t=fn(e.target);if(t!==null){var n=Nn(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,vd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zl=r,n.target.dispatchEvent(r),Zl=null}else return t=so(n),t!==null&&Za(t),e.blockedOn=n,!1;t.shift()}return!0}function mc(e,t,n){$o(e)&&n.delete(t)}function Pm(){oa=!1,Xt!==null&&$o(Xt)&&(Xt=null),Kt!==null&&$o(Kt)&&(Kt=null),Wt!==null&&$o(Wt)&&(Wt=null),Lr.forEach(mc),Ur.forEach(mc)}function fr(e,t){e.blockedOn===t&&(e.blockedOn=null,oa||(oa=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,Pm)))}function Hr(e){function t(o){return fr(o,e)}if(0<Co.length){fr(Co[0],e);for(var n=1;n<Co.length;n++){var r=Co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xt!==null&&fr(Xt,e),Kt!==null&&fr(Kt,e),Wt!==null&&fr(Wt,e),Lr.forEach(t),Ur.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)xd(n),n.blockedOn===null&&Bt.shift()}var Wn=Lt.ReactCurrentBatchConfig,ss=!0;function Tm(e,t,n,r){var o=ee,s=Wn.transition;Wn.transition=null;try{ee=1,ei(e,t,n,r)}finally{ee=o,Wn.transition=s}}function Nm(e,t,n,r){var o=ee,s=Wn.transition;Wn.transition=null;try{ee=4,ei(e,t,n,r)}finally{ee=o,Wn.transition=s}}function ei(e,t,n,r){if(ss){var o=sa(e,t,n,r);if(o===null)yl(e,t,r,ls,n),fc(e,r);else if(wm(o,e,t,n,r))r.stopPropagation();else if(fc(e,r),t&4&&-1<Cm.indexOf(e)){for(;o!==null;){var s=so(o);if(s!==null&&md(s),s=sa(e,t,n,r),s===null&&yl(e,t,r,ls,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else yl(e,t,r,null,n)}}var ls=null;function sa(e,t,n,r){if(ls=null,e=Ja(r),e=fn(e),e!==null)if(t=Nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ls=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mm()){case Qa:return 1;case ud:return 4;case rs:case gm:return 16;case dd:return 536870912;default:return 16}default:return 16}}var Gt=null,ti=null,zo=null;function kd(){if(zo)return zo;var e,t=ti,n=t.length,r,o="value"in Gt?Gt.value:Gt.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return zo=o.slice(e,1<r?1-r:void 0)}function Bo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function gc(){return!1}function Je(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wo:gc,this.isPropagationStopped=gc,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),t}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=Je(ar),oo=ue({},ar,{view:0,detail:0}),Rm=Je(oo),ul,dl,mr,Os=ue({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(ul=e.screenX-mr.screenX,dl=e.screenY-mr.screenY):dl=ul=0,mr=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),hc=Je(Os),Am=ue({},Os,{dataTransfer:0}),Dm=Je(Am),Mm=ue({},oo,{relatedTarget:0}),pl=Je(Mm),_m=ue({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Im=Je(_m),Om=ue({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jm=Je(Om),bm=ue({},ar,{data:0}),vc=Je(bm),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hm[e])?!!t[e]:!1}function ri(){return Vm}var $m=ue({},oo,{key:function(e){if(e.key){var t=Lm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Um[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(e){return e.type==="keypress"?Bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zm=Je($m),Bm=ue({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=Je(Bm),Fm=ue({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),Gm=Je(Fm),Ym=ue({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xm=Je(Ym),Km=ue({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wm=Je(Km),Jm=[9,13,27,32],oi=It&&"CompositionEvent"in window,Pr=null;It&&"documentMode"in document&&(Pr=document.documentMode);var Qm=It&&"TextEvent"in window&&!Pr,Sd=It&&(!oi||Pr&&8<Pr&&11>=Pr),yc=" ",kc=!1;function Ed(e,t){switch(e){case"keyup":return Jm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jn=!1;function qm(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(kc=!0,yc);case"textInput":return e=t.data,e===yc&&kc?null:e;default:return null}}function Zm(e,t){if(jn)return e==="compositionend"||!oi&&Ed(e,t)?(e=kd(),zo=ti=Gt=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var e1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e1[e.type]:t==="textarea"}function wd(e,t,n,r){td(r),t=as(t,"onChange"),0<t.length&&(n=new ni("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tr=null,Vr=null;function t1(e){jd(e,0)}function js(e){var t=Un(e);if(Ku(t))return e}function n1(e,t){if(e==="change")return t}var Pd=!1;if(It){var fl;if(It){var ml="oninput"in document;if(!ml){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),ml=typeof Ec.oninput=="function"}fl=ml}else fl=!1;Pd=fl&&(!document.documentMode||9<document.documentMode)}function Cc(){Tr&&(Tr.detachEvent("onpropertychange",Td),Vr=Tr=null)}function Td(e){if(e.propertyName==="value"&&js(Vr)){var t=[];wd(t,Vr,e,Ja(e)),sd(t1,t)}}function r1(e,t,n){e==="focusin"?(Cc(),Tr=t,Vr=n,Tr.attachEvent("onpropertychange",Td)):e==="focusout"&&Cc()}function o1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(Vr)}function s1(e,t){if(e==="click")return js(t)}function l1(e,t){if(e==="input"||e==="change")return js(t)}function a1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:a1;function $r(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!$l.call(t,o)||!ft(e[o],t[o]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var n=wc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wc(n)}}function Nd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rd(){for(var e=window,t=es();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=es(e.document)}return t}function si(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i1(e){var t=Rd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nd(n.ownerDocument.documentElement,n)){if(r!==null&&si(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Pc(n,s);var l=Pc(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c1=It&&"documentMode"in document&&11>=document.documentMode,bn=null,la=null,Nr=null,aa=!1;function Tc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;aa||bn==null||bn!==es(r)||(r=bn,"selectionStart"in r&&si(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&$r(Nr,r)||(Nr=r,r=as(la,"onSelect"),0<r.length&&(t=new ni("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bn)))}function Po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ln={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},gl={},Ad={};It&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function bs(e){if(gl[e])return gl[e];if(!Ln[e])return e;var t=Ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ad)return gl[e]=t[n];return e}var Dd=bs("animationend"),Md=bs("animationiteration"),_d=bs("animationstart"),Id=bs("transitionend"),Od=new Map,Nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){Od.set(e,t),Tn(t,[e])}for(var hl=0;hl<Nc.length;hl++){var vl=Nc[hl],u1=vl.toLowerCase(),d1=vl[0].toUpperCase()+vl.slice(1);on(u1,"on"+d1)}on(Dd,"onAnimationEnd");on(Md,"onAnimationIteration");on(_d,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(Id,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Rc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,um(r,t,void 0,e),e.currentTarget=null}function jd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==s&&o.isPropagationStopped())break e;Rc(o,i,u),s=c}else for(l=0;l<r.length;l++){if(i=r[l],c=i.instance,u=i.currentTarget,i=i.listener,c!==s&&o.isPropagationStopped())break e;Rc(o,i,u),s=c}}}if(ns)throw e=na,ns=!1,na=null,e}function se(e,t){var n=t[pa];n===void 0&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(bd(t,e,2,!1),n.add(r))}function xl(e,t,n){var r=0;t&&(r|=4),bd(n,e,r,t)}var To="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[To]){e[To]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[To]||(t[To]=!0,xl("selectionchange",!1,t))}}function bd(e,t,n,r){switch(yd(t)){case 1:var o=Tm;break;case 4:o=Nm;break;default:o=ei}n=o.bind(null,t,n,e),o=void 0,!ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function yl(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;i!==null;){if(l=fn(i),l===null)return;if(c=l.tag,c===5||c===6){r=s=l;continue e}i=i.parentNode}}r=r.return}sd(function(){var u=s,p=Ja(n),f=[];e:{var m=Od.get(e);if(m!==void 0){var x=ni,v=e;switch(e){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":x=zm;break;case"focusin":v="focus",x=pl;break;case"focusout":v="blur",x=pl;break;case"beforeblur":case"afterblur":x=pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Gm;break;case Dd:case Md:case _d:x=Im;break;case Id:x=Xm;break;case"scroll":x=Rm;break;case"wheel":x=Wm;break;case"copy":case"cut":case"paste":x=jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=xc}var y=(t&4)!==0,S=!y&&e==="scroll",g=y?m!==null?m+"Capture":null:m;y=[];for(var d=u,h;d!==null;){h=d;var C=h.stateNode;if(h.tag===5&&C!==null&&(h=C,g!==null&&(C=br(d,g),C!=null&&y.push(Br(d,C,h)))),S)break;d=d.return}0<y.length&&(m=new x(m,v,null,n,p),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&n!==Zl&&(v=n.relatedTarget||n.fromElement)&&(fn(v)||v[Ot]))break e;if((x||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?fn(v):null,v!==null&&(S=Nn(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(y=hc,C="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(y=xc,C="onPointerLeave",g="onPointerEnter",d="pointer"),S=x==null?m:Un(x),h=v==null?m:Un(v),m=new y(C,d+"leave",x,n,p),m.target=S,m.relatedTarget=h,C=null,fn(p)===u&&(y=new y(g,d+"enter",v,n,p),y.target=h,y.relatedTarget=S,C=y),S=C,x&&v)t:{for(y=x,g=v,d=0,h=y;h;h=Mn(h))d++;for(h=0,C=g;C;C=Mn(C))h++;for(;0<d-h;)y=Mn(y),d--;for(;0<h-d;)g=Mn(g),h--;for(;d--;){if(y===g||g!==null&&y===g.alternate)break t;y=Mn(y),g=Mn(g)}y=null}else y=null;x!==null&&Ac(f,m,x,y,!1),v!==null&&S!==null&&Ac(f,S,v,y,!0)}}e:{if(m=u?Un(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var w=n1;else if(Sc(m))if(Pd)w=l1;else{w=o1;var N=r1}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=s1);if(w&&(w=w(e,u))){wd(f,w,n,p);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Kl(m,"number",m.value)}switch(N=u?Un(u):window,e){case"focusin":(Sc(N)||N.contentEditable==="true")&&(bn=N,la=u,Nr=null);break;case"focusout":Nr=la=bn=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Tc(f,n,p);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":Tc(f,n,p)}var k;if(oi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else jn?Ed(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Sd&&n.locale!=="ko"&&(jn||E!=="onCompositionStart"?E==="onCompositionEnd"&&jn&&(k=kd()):(Gt=p,ti="value"in Gt?Gt.value:Gt.textContent,jn=!0)),N=as(u,E),0<N.length&&(E=new vc(E,e,null,n,p),f.push({event:E,listeners:N}),k?E.data=k:(k=Cd(n),k!==null&&(E.data=k)))),(k=Qm?qm(e,n):Zm(e,n))&&(u=as(u,"onBeforeInput"),0<u.length&&(p=new vc("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=k))}jd(f,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function as(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=br(e,n),s!=null&&r.unshift(Br(e,s,o)),s=br(e,t),s!=null&&r.push(Br(e,s,o))),e=e.return}return r}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ac(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,o?(c=br(n,s),c!=null&&l.unshift(Br(n,c,i))):o||(c=br(n,s),c!=null&&l.push(Br(n,c,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var f1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function Dc(e){return(typeof e=="string"?e:""+e).replace(f1,`
`).replace(m1,"")}function No(e,t,n){if(t=Dc(t),Dc(e)!==t&&n)throw Error(b(425))}function is(){}var ia=null,ca=null;function ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var da=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,Mc=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mc<"u"?function(e){return Mc.resolve(null).then(e).catch(v1)}:da;function v1(e){setTimeout(function(){throw e})}function kl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Hr(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),kt="__reactFiber$"+ir,Fr="__reactProps$"+ir,Ot="__reactContainer$"+ir,pa="__reactEvents$"+ir,x1="__reactListeners$"+ir,y1="__reactHandles$"+ir;function fn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_c(e);e!==null;){if(n=e[kt])return n;e=_c(e)}return t}e=n,n=e.parentNode}return null}function so(e){return e=e[kt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function Ls(e){return e[Fr]||null}var fa=[],Hn=-1;function sn(e){return{current:e}}function le(e){0>Hn||(e.current=fa[Hn],fa[Hn]=null,Hn--)}function ne(e,t){Hn++,fa[Hn]=e.current,e.current=t}var rn={},De=sn(rn),Ve=sn(!1),kn=rn;function Zn(e,t){var n=e.type.contextTypes;if(!n)return rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function $e(e){return e=e.childContextTypes,e!=null}function cs(){le(Ve),le(De)}function Ic(e,t,n){if(De.current!==rn)throw Error(b(168));ne(De,t),ne(Ve,n)}function Ld(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(b(108,rm(e)||"Unknown",o));return ue({},n,r)}function us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,kn=De.current,ne(De,e),ne(Ve,Ve.current),!0}function Oc(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Ld(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,le(Ve),le(De),ne(De,e)):le(Ve),ne(Ve,n)}var Rt=null,Us=!1,Sl=!1;function Ud(e){Rt===null?Rt=[e]:Rt.push(e)}function k1(e){Us=!0,Ud(e)}function ln(){if(!Sl&&Rt!==null){Sl=!0;var e=0,t=ee;try{var n=Rt;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,Us=!1}catch(o){throw Rt!==null&&(Rt=Rt.slice(e+1)),cd(Qa,ln),o}finally{ee=t,Sl=!1}}return null}var Vn=[],$n=0,ds=null,ps=0,qe=[],Ze=0,Sn=null,At=1,Dt="";function un(e,t){Vn[$n++]=ps,Vn[$n++]=ds,ds=e,ps=t}function Hd(e,t,n){qe[Ze++]=At,qe[Ze++]=Dt,qe[Ze++]=Sn,Sn=e;var r=At;e=Dt;var o=32-dt(r)-1;r&=~(1<<o),n+=1;var s=32-dt(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,At=1<<32-dt(t)+o|n<<o|r,Dt=s+e}else At=1<<s|n<<o|r,Dt=e}function li(e){e.return!==null&&(un(e,1),Hd(e,1,0))}function ai(e){for(;e===ds;)ds=Vn[--$n],Vn[$n]=null,ps=Vn[--$n],Vn[$n]=null;for(;e===Sn;)Sn=qe[--Ze],qe[Ze]=null,Dt=qe[--Ze],qe[Ze]=null,At=qe[--Ze],qe[Ze]=null}var Xe=null,Ye=null,ae=!1,ut=null;function Vd(e,t){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:At,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Ye=null,!0):!1;default:return!1}}function ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ga(e){if(ae){var t=Ye;if(t){var n=t;if(!jc(e,t)){if(ma(e))throw Error(b(418));t=Jt(n.nextSibling);var r=Xe;t&&jc(e,t)?Vd(r,n):(e.flags=e.flags&-4097|2,ae=!1,Xe=e)}}else{if(ma(e))throw Error(b(418));e.flags=e.flags&-4097|2,ae=!1,Xe=e}}}function bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Ro(e){if(e!==Xe)return!1;if(!ae)return bc(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ua(e.type,e.memoizedProps)),t&&(t=Ye)){if(ma(e))throw $d(),Error(b(418));for(;t;)Vd(e,t),t=Jt(t.nextSibling)}if(bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ye=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Xe?Jt(e.stateNode.nextSibling):null;return!0}function $d(){for(var e=Ye;e;)e=Jt(e.nextSibling)}function er(){Ye=Xe=null,ae=!1}function ii(e){ut===null?ut=[e]:ut.push(e)}var S1=Lt.ReactCurrentBatchConfig;function gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var i=o.refs;l===null?delete i[s]:i[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Ao(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lc(e){var t=e._init;return t(e._payload)}function zd(e){function t(g,d){if(e){var h=g.deletions;h===null?(g.deletions=[d],g.flags|=16):h.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function o(g,d){return g=en(g,d),g.index=0,g.sibling=null,g}function s(g,d,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<d?(g.flags|=2,d):h):(g.flags|=2,d)):(g.flags|=1048576,d)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,d,h,C){return d===null||d.tag!==6?(d=Rl(h,g.mode,C),d.return=g,d):(d=o(d,h),d.return=g,d)}function c(g,d,h,C){var w=h.type;return w===On?p(g,d,h.props.children,C,h.key):d!==null&&(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$t&&Lc(w)===d.type)?(C=o(d,h.props),C.ref=gr(g,d,h),C.return=g,C):(C=Jo(h.type,h.key,h.props,null,g.mode,C),C.ref=gr(g,d,h),C.return=g,C)}function u(g,d,h,C){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=Al(h,g.mode,C),d.return=g,d):(d=o(d,h.children||[]),d.return=g,d)}function p(g,d,h,C,w){return d===null||d.tag!==7?(d=vn(h,g.mode,C,w),d.return=g,d):(d=o(d,h),d.return=g,d)}function f(g,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Rl(""+d,g.mode,h),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case xo:return h=Jo(d.type,d.key,d.props,null,g.mode,h),h.ref=gr(g,null,d),h.return=g,h;case In:return d=Al(d,g.mode,h),d.return=g,d;case $t:var C=d._init;return f(g,C(d._payload),h)}if(kr(d)||ur(d))return d=vn(d,g.mode,h,null),d.return=g,d;Ao(g,d)}return null}function m(g,d,h,C){var w=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return w!==null?null:i(g,d,""+h,C);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xo:return h.key===w?c(g,d,h,C):null;case In:return h.key===w?u(g,d,h,C):null;case $t:return w=h._init,m(g,d,w(h._payload),C)}if(kr(h)||ur(h))return w!==null?null:p(g,d,h,C,null);Ao(g,h)}return null}function x(g,d,h,C,w){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(h)||null,i(d,g,""+C,w);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case xo:return g=g.get(C.key===null?h:C.key)||null,c(d,g,C,w);case In:return g=g.get(C.key===null?h:C.key)||null,u(d,g,C,w);case $t:var N=C._init;return x(g,d,h,N(C._payload),w)}if(kr(C)||ur(C))return g=g.get(h)||null,p(d,g,C,w,null);Ao(d,C)}return null}function v(g,d,h,C){for(var w=null,N=null,k=d,E=d=0,T=null;k!==null&&E<h.length;E++){k.index>E?(T=k,k=null):T=k.sibling;var D=m(g,k,h[E],C);if(D===null){k===null&&(k=T);break}e&&k&&D.alternate===null&&t(g,k),d=s(D,d,E),N===null?w=D:N.sibling=D,N=D,k=T}if(E===h.length)return n(g,k),ae&&un(g,E),w;if(k===null){for(;E<h.length;E++)k=f(g,h[E],C),k!==null&&(d=s(k,d,E),N===null?w=k:N.sibling=k,N=k);return ae&&un(g,E),w}for(k=r(g,k);E<h.length;E++)T=x(k,g,E,h[E],C),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?E:T.key),d=s(T,d,E),N===null?w=T:N.sibling=T,N=T);return e&&k.forEach(function(R){return t(g,R)}),ae&&un(g,E),w}function y(g,d,h,C){var w=ur(h);if(typeof w!="function")throw Error(b(150));if(h=w.call(h),h==null)throw Error(b(151));for(var N=w=null,k=d,E=d=0,T=null,D=h.next();k!==null&&!D.done;E++,D=h.next()){k.index>E?(T=k,k=null):T=k.sibling;var R=m(g,k,D.value,C);if(R===null){k===null&&(k=T);break}e&&k&&R.alternate===null&&t(g,k),d=s(R,d,E),N===null?w=R:N.sibling=R,N=R,k=T}if(D.done)return n(g,k),ae&&un(g,E),w;if(k===null){for(;!D.done;E++,D=h.next())D=f(g,D.value,C),D!==null&&(d=s(D,d,E),N===null?w=D:N.sibling=D,N=D);return ae&&un(g,E),w}for(k=r(g,k);!D.done;E++,D=h.next())D=x(k,g,E,D.value,C),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?E:D.key),d=s(D,d,E),N===null?w=D:N.sibling=D,N=D);return e&&k.forEach(function($){return t(g,$)}),ae&&un(g,E),w}function S(g,d,h,C){if(typeof h=="object"&&h!==null&&h.type===On&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case xo:e:{for(var w=h.key,N=d;N!==null;){if(N.key===w){if(w=h.type,w===On){if(N.tag===7){n(g,N.sibling),d=o(N,h.props.children),d.return=g,g=d;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$t&&Lc(w)===N.type){n(g,N.sibling),d=o(N,h.props),d.ref=gr(g,N,h),d.return=g,g=d;break e}n(g,N);break}else t(g,N);N=N.sibling}h.type===On?(d=vn(h.props.children,g.mode,C,h.key),d.return=g,g=d):(C=Jo(h.type,h.key,h.props,null,g.mode,C),C.ref=gr(g,d,h),C.return=g,g=C)}return l(g);case In:e:{for(N=h.key;d!==null;){if(d.key===N)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(g,d.sibling),d=o(d,h.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=Al(h,g.mode,C),d.return=g,g=d}return l(g);case $t:return N=h._init,S(g,d,N(h._payload),C)}if(kr(h))return v(g,d,h,C);if(ur(h))return y(g,d,h,C);Ao(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(g,d.sibling),d=o(d,h),d.return=g,g=d):(n(g,d),d=Rl(h,g.mode,C),d.return=g,g=d),l(g)):n(g,d)}return S}var tr=zd(!0),Bd=zd(!1),fs=sn(null),ms=null,zn=null,ci=null;function ui(){ci=zn=ms=null}function di(e){var t=fs.current;le(fs),e._currentValue=t}function ha(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jn(e,t){ms=e,ci=zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(ci!==e)if(e={context:e,memoizedValue:t,next:null},zn===null){if(ms===null)throw Error(b(308));zn=e,ms.dependencies={lanes:0,firstContext:e}}else zn=zn.next=e;return t}var mn=null;function pi(e){mn===null?mn=[e]:mn.push(e)}function Fd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,pi(t)):(n.next=o.next,o.next=n),t.interleaved=n,jt(e,r)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zt=!1;function fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,jt(e,n)}return o=r.interleaved,o===null?(t.next=t,pi(r)):(t.next=o.next,o.next=t),r.interleaved=t,jt(e,n)}function Fo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qa(e,n)}}function Uc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gs(e,t,n,r){var o=e.updateQueue;zt=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,u=c.next;c.next=null,l===null?s=u:l.next=u,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==l&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;l=0,p=u=c=null,i=s;do{var m=i.lane,x=i.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,y=i;switch(m=t,x=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(x,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(x,f,m):v,m==null)break e;f=ue({},f,m);break e;case 2:zt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[i]:m.push(i))}else x={eventTime:x,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=x,c=f):p=p.next=x,l|=m;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;m=i,i=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(p===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Cn|=l,e.lanes=l,e.memoizedState=f}}function Hc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(b(191,o));o.call(r)}}}var lo={},Ct=sn(lo),Gr=sn(lo),Yr=sn(lo);function gn(e){if(e===lo)throw Error(b(174));return e}function mi(e,t){switch(ne(Yr,t),ne(Gr,e),ne(Ct,lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jl(t,e)}le(Ct),ne(Ct,t)}function nr(){le(Ct),le(Gr),le(Yr)}function Yd(e){gn(Yr.current);var t=gn(Ct.current),n=Jl(t,e.type);t!==n&&(ne(Gr,e),ne(Ct,n))}function gi(e){Gr.current===e&&(le(Ct),le(Gr))}var ie=sn(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function hi(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var Go=Lt.ReactCurrentDispatcher,Cl=Lt.ReactCurrentBatchConfig,En=0,ce=null,ge=null,ye=null,vs=!1,Rr=!1,Xr=0,E1=0;function Te(){throw Error(b(321))}function vi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function xi(e,t,n,r,o,s){if(En=s,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=e===null||e.memoizedState===null?T1:N1,e=n(r,o),Rr){s=0;do{if(Rr=!1,Xr=0,25<=s)throw Error(b(301));s+=1,ye=ge=null,t.updateQueue=null,Go.current=R1,e=n(r,o)}while(Rr)}if(Go.current=xs,t=ge!==null&&ge.next!==null,En=0,ye=ge=ce=null,vs=!1,t)throw Error(b(300));return e}function yi(){var e=Xr!==0;return Xr=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?ce.memoizedState=ye=e:ye=ye.next=e,ye}function rt(){if(ge===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=ye===null?ce.memoizedState:ye.next;if(t!==null)ye=t,ge=e;else{if(e===null)throw Error(b(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ye===null?ce.memoizedState=ye=e:ye=ye.next=e}return ye}function Kr(e,t){return typeof t=="function"?t(e):t}function wl(e){var t=rt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=ge,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var i=l=null,c=null,u=s;do{var p=u.lane;if((En&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,l=r):c=c.next=f,ce.lanes|=p,Cn|=p}u=u.next}while(u!==null&&u!==s);c===null?l=r:c.next=i,ft(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ce.lanes|=s,Cn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pl(e){var t=rt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);ft(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Xd(){}function Kd(e,t){var n=ce,r=rt(),o=t(),s=!ft(r.memoizedState,o);if(s&&(r.memoizedState=o,He=!0),r=r.queue,ki(Qd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Wr(9,Jd.bind(null,n,r,o,t),void 0,null),ke===null)throw Error(b(349));En&30||Wd(n,t,o)}return o}function Wd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,r){t.value=n,t.getSnapshot=r,qd(t)&&Zd(e)}function Qd(e,t,n){return n(function(){qd(t)&&Zd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Zd(e){var t=jt(e,1);t!==null&&pt(t,e,1,-1)}function Vc(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e},t.queue=e,e=e.dispatch=P1.bind(null,ce,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ep(){return rt().memoizedState}function Yo(e,t,n,r){var o=vt();ce.flags|=e,o.memoizedState=Wr(1|t,n,void 0,r===void 0?null:r)}function Hs(e,t,n,r){var o=rt();r=r===void 0?null:r;var s=void 0;if(ge!==null){var l=ge.memoizedState;if(s=l.destroy,r!==null&&vi(r,l.deps)){o.memoizedState=Wr(t,n,s,r);return}}ce.flags|=e,o.memoizedState=Wr(1|t,n,s,r)}function $c(e,t){return Yo(8390656,8,e,t)}function ki(e,t){return Hs(2048,8,e,t)}function tp(e,t){return Hs(4,2,e,t)}function np(e,t){return Hs(4,4,e,t)}function rp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function op(e,t,n){return n=n!=null?n.concat([e]):null,Hs(4,4,rp.bind(null,t,e),n)}function Si(){}function sp(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lp(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ap(e,t,n){return En&21?(ft(n,t)||(n=pd(),ce.lanes|=n,Cn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function C1(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{ee=n,Cl.transition=r}}function ip(){return rt().memoizedState}function w1(e,t,n){var r=Zt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cp(e))up(t,n);else if(n=Fd(e,t,n,r),n!==null){var o=Oe();pt(n,e,r,o),dp(n,t,r)}}function P1(e,t,n){var r=Zt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cp(e))up(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,i=s(l,n);if(o.hasEagerState=!0,o.eagerState=i,ft(i,l)){var c=t.interleaved;c===null?(o.next=o,pi(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Fd(e,t,o,r),n!==null&&(o=Oe(),pt(n,e,r,o),dp(n,t,r))}}function cp(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function up(e,t){Rr=vs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qa(e,n)}}var xs={readContext:nt,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},T1={readContext:nt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:$c,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yo(4194308,4,rp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yo(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=w1.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:Si,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=C1.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,o=vt();if(ae){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ke===null)throw Error(b(349));En&30||Wd(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,$c(Qd.bind(null,r,s,e),[e]),r.flags|=2048,Wr(9,Jd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vt(),t=ke.identifierPrefix;if(ae){var n=Dt,r=At;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=E1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N1={readContext:nt,useCallback:sp,useContext:nt,useEffect:ki,useImperativeHandle:op,useInsertionEffect:tp,useLayoutEffect:np,useMemo:lp,useReducer:wl,useRef:ep,useState:function(){return wl(Kr)},useDebugValue:Si,useDeferredValue:function(e){var t=rt();return ap(t,ge.memoizedState,e)},useTransition:function(){var e=wl(Kr)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Kd,useId:ip,unstable_isNewReconciler:!1},R1={readContext:nt,useCallback:sp,useContext:nt,useEffect:ki,useImperativeHandle:op,useInsertionEffect:tp,useLayoutEffect:np,useMemo:lp,useReducer:Pl,useRef:ep,useState:function(){return Pl(Kr)},useDebugValue:Si,useDeferredValue:function(e){var t=rt();return ge===null?t.memoizedState=e:ap(t,ge.memoizedState,e)},useTransition:function(){var e=Pl(Kr)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Kd,useId:ip,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function va(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),o=Zt(e),s=_t(r,o);s.payload=t,n!=null&&(s.callback=n),t=Qt(e,s,o),t!==null&&(pt(t,e,o,r),Fo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),o=Zt(e),s=_t(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Qt(e,s,o),t!==null&&(pt(t,e,o,r),Fo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=Zt(e),o=_t(n,r);o.tag=2,t!=null&&(o.callback=t),t=Qt(e,o,r),t!==null&&(pt(t,e,r,n),Fo(t,e,r))}};function zc(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!$r(n,r)||!$r(o,s):!0}function pp(e,t,n){var r=!1,o=rn,s=t.contextType;return typeof s=="object"&&s!==null?s=nt(s):(o=$e(t)?kn:De.current,r=t.contextTypes,s=(r=r!=null)?Zn(e,o):rn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Bc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function xa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},fi(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=nt(s):(s=$e(t)?kn:De.current,o.context=Zn(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(va(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Vs.enqueueReplaceState(o,o.state,null),gs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",r=t;do n+=nm(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Tl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A1=typeof WeakMap=="function"?WeakMap:Map;function fp(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ks||(ks=!0,Aa=r),ya(e,t)},n}function mp(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ya(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ya(e,t),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Fc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new A1;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=B1.bind(null,e,t,n),t.then(e,e))}function Gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var D1=Lt.ReactCurrentOwner,He=!1;function _e(e,t,n,r){t.child=e===null?Bd(t,null,n,r):tr(t,e.child,n,r)}function Xc(e,t,n,r,o){n=n.render;var s=t.ref;return Jn(t,o),r=xi(e,t,n,r,s,o),n=yi(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bt(e,t,o)):(ae&&n&&li(t),t.flags|=1,_e(e,t,r,o),t.child)}function Kc(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Ai(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gp(e,t,s,r,o)):(e=Jo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(l,r)&&e.ref===t.ref)return bt(e,t,o)}return t.flags|=1,e=en(s,r),e.ref=t.ref,e.return=t,t.child=e}function gp(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if($r(s,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,bt(e,t,o)}return ka(e,t,n,r,o)}function hp(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Fn,Ge),Ge|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Fn,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ne(Fn,Ge),Ge|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ne(Fn,Ge),Ge|=r;return _e(e,t,o,n),t.child}function vp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,o){var s=$e(n)?kn:De.current;return s=Zn(t,s),Jn(t,o),n=xi(e,t,n,r,s,o),r=yi(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bt(e,t,o)):(ae&&r&&li(t),t.flags|=1,_e(e,t,n,o),t.child)}function Wc(e,t,n,r,o){if($e(n)){var s=!0;us(t)}else s=!1;if(Jn(t,o),t.stateNode===null)Xo(e,t),pp(t,n,r),xa(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=$e(n)?kn:De.current,u=Zn(t,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||c!==u)&&Bc(t,l,r,u),zt=!1;var m=t.memoizedState;l.state=m,gs(t,r,l,o),c=t.memoizedState,i!==r||m!==c||Ve.current||zt?(typeof p=="function"&&(va(t,n,p,r),c=t.memoizedState),(i=zt||zc(t,n,i,r,m,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Gd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:it(t.type,i),l.props=u,f=t.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=$e(n)?kn:De.current,c=Zn(t,c));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==f||m!==c)&&Bc(t,l,r,c),zt=!1,m=t.memoizedState,l.state=m,gs(t,r,l,o);var v=t.memoizedState;i!==f||m!==v||Ve.current||zt?(typeof x=="function"&&(va(t,n,x,r),v=t.memoizedState),(u=zt||zc(t,n,u,r,m,v,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Sa(e,t,n,r,s,o)}function Sa(e,t,n,r,o,s){vp(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&Oc(t,n,!1),bt(e,t,s);r=t.stateNode,D1.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=tr(t,e.child,null,s),t.child=tr(t,null,i,s)):_e(e,t,i,s),t.memoizedState=r.state,o&&Oc(t,n,!0),t.child}function xp(e){var t=e.stateNode;t.pendingContext?Ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ic(e,t.context,!1),mi(e,t.containerInfo)}function Jc(e,t,n,r,o){return er(),ii(o),t.flags|=256,_e(e,t,n,r),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function yp(e,t,n){var r=t.pendingProps,o=ie.current,s=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ne(ie,o&1),e===null)return ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Bs(l,r,0,null),e=vn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ca(n),t.memoizedState=Ea,e):Ei(t,l));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return M1(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=en(o,c),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?s=en(i,s):(s=vn(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Ca(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ea,r}return s=e.child,e=s.sibling,r=en(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ei(e,t){return t=Bs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Do(e,t,n,r){return r!==null&&ii(r),tr(t,e.child,null,n),e=Ei(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M1(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=Tl(Error(b(422))),Do(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Bs({mode:"visible",children:r.children},o,0,null),s=vn(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&tr(t,e.child,null,l),t.child.memoizedState=Ca(l),t.memoizedState=Ea,s);if(!(t.mode&1))return Do(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(b(419)),r=Tl(s,r,void 0),Do(e,t,l,r)}if(i=(l&e.childLanes)!==0,He||i){if(r=ke,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,jt(e,o),pt(r,e,o,-1))}return Ri(),r=Tl(Error(b(421))),Do(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=F1.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ye=Jt(o.nextSibling),Xe=t,ae=!0,ut=null,e!==null&&(qe[Ze++]=At,qe[Ze++]=Dt,qe[Ze++]=Sn,At=e.id,Dt=e.overflow,Sn=t),t=Ei(t,r.children),t.flags|=4096,t)}function Qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ha(e.return,t,n)}function Nl(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function kp(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(_e(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,n,t);else if(e.tag===19)Qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ie,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&hs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Nl(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&hs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Nl(t,!0,n,null,s);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _1(e,t,n){switch(t.tag){case 3:xp(t),er();break;case 5:Yd(t);break;case 1:$e(t.type)&&us(t);break;case 4:mi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ne(fs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?yp(e,t,n):(ne(ie,ie.current&1),e=bt(e,t,n),e!==null?e.sibling:null);ne(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,hp(e,t,n)}return bt(e,t,n)}var Sp,wa,Ep,Cp;Sp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wa=function(){};Ep=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,gn(Ct.current);var s=null;switch(n){case"input":o=Yl(e,o),r=Yl(e,r),s=[];break;case"select":o=ue({},o,{value:void 0}),r=ue({},r,{value:void 0}),s=[];break;case"textarea":o=Wl(e,o),r=Wl(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=is)}Ql(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var i=o[u];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Or.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(i=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Or.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",e),s||i===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Cp=function(e,t,n,r){n!==r&&(t.flags|=4)};function hr(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function I1(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return $e(t.type)&&cs(),Ne(t),null;case 3:return r=t.stateNode,nr(),le(Ve),le(De),hi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(_a(ut),ut=null))),wa(e,t),Ne(t),null;case 5:gi(t);var o=gn(Yr.current);if(n=t.type,e!==null&&t.stateNode!=null)Ep(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return Ne(t),null}if(e=gn(Ct.current),Ro(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[kt]=t,r[Fr]=s,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(o=0;o<Er.length;o++)se(Er[o],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":lc(r,s),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},se("invalid",r);break;case"textarea":ic(r,s),se("invalid",r)}Ql(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var i=s[l];l==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&No(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&No(r.textContent,i,e),o=["children",""+i]):Or.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&se("scroll",r)}switch(n){case"input":yo(r),ac(r,s,!0);break;case"textarea":yo(r),cc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=is)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[kt]=t,e[Fr]=r,Sp(e,t,!1,!1),t.stateNode=e;e:{switch(l=ql(n,r),n){case"dialog":se("cancel",e),se("close",e),o=r;break;case"iframe":case"object":case"embed":se("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)se(Er[o],e);o=r;break;case"source":se("error",e),o=r;break;case"img":case"image":case"link":se("error",e),se("load",e),o=r;break;case"details":se("toggle",e),o=r;break;case"input":lc(e,r),o=Yl(e,r),se("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ue({},r,{value:void 0}),se("invalid",e);break;case"textarea":ic(e,r),o=Wl(e,r),se("invalid",e);break;default:o=r}Ql(n,o),i=o;for(s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="style"?ed(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qu(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jr(e,c):typeof c=="number"&&jr(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Or.hasOwnProperty(s)?c!=null&&s==="onScroll"&&se("scroll",e):c!=null&&Ya(e,s,c,l))}switch(n){case"input":yo(e),ac(e,r,!1);break;case"textarea":yo(e),cc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Yn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Yn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=is)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Cp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=gn(Yr.current),gn(Ct.current),Ro(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(s=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:No(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return Ne(t),null;case 13:if(le(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ye!==null&&t.mode&1&&!(t.flags&128))$d(),er(),t.flags|=98560,s=!1;else if(s=Ro(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(b(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[kt]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),s=!1}else ut!==null&&(_a(ut),ut=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?he===0&&(he=3):Ri())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return nr(),wa(e,t),e===null&&zr(t.stateNode.containerInfo),Ne(t),null;case 10:return di(t.type._context),Ne(t),null;case 17:return $e(t.type)&&cs(),Ne(t),null;case 19:if(le(ie),s=t.memoizedState,s===null)return Ne(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)hr(s,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=hs(e),l!==null){for(t.flags|=128,hr(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ie,ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&pe()>or&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304)}else{if(!r)if(e=hs(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ae)return Ne(t),null}else 2*pe()-s.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pe(),t.sibling=null,n=ie.current,ne(ie,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return Ni(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function O1(e,t){switch(ai(t),t.tag){case 1:return $e(t.type)&&cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),le(Ve),le(De),hi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gi(t),null;case 13:if(le(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(ie),null;case 4:return nr(),null;case 10:return di(t.type._context),null;case 22:case 23:return Ni(),null;case 24:return null;default:return null}}var Mo=!1,Re=!1,j1=typeof WeakSet=="function"?WeakSet:Set,G=null;function Bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function Pa(e,t,n){try{n()}catch(r){de(e,t,r)}}var qc=!1;function b1(e,t){if(ia=ss,e=Rd(),si(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,i=-1,c=-1,u=0,p=0,f=e,m=null;t:for(;;){for(var x;f!==n||o!==0&&f.nodeType!==3||(i=l+o),f!==s||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===e)break t;if(m===n&&++u===o&&(i=l),m===s&&++p===r&&(c=l),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ca={focusedElem:e,selectionRange:n},ss=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:it(t.type,y),S);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(C){de(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return v=qc,qc=!1,v}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Pa(t,n,s)}o=o.next}while(o!==r)}}function $s(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ta(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wp(e){var t=e.alternate;t!==null&&(e.alternate=null,wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Fr],delete t[pa],delete t[x1],delete t[y1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pp(e){return e.tag===5||e.tag===3||e.tag===4}function Zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=is));else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}function Ra(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ra(e,t,n),e=e.sibling;e!==null;)Ra(e,t,n),e=e.sibling}var Ee=null,ct=!1;function Vt(e,t,n){for(n=n.child;n!==null;)Tp(e,t,n),n=n.sibling}function Tp(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Is,n)}catch{}switch(n.tag){case 5:Re||Bn(n,t);case 6:var r=Ee,o=ct;Ee=null,Vt(e,t,n),Ee=r,ct=o,Ee!==null&&(ct?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(ct?(e=Ee,n=n.stateNode,e.nodeType===8?kl(e.parentNode,n):e.nodeType===1&&kl(e,n),Hr(e)):kl(Ee,n.stateNode));break;case 4:r=Ee,o=ct,Ee=n.stateNode.containerInfo,ct=!0,Vt(e,t,n),Ee=r,ct=o;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Pa(n,t,l),o=o.next}while(o!==r)}Vt(e,t,n);break;case 1:if(!Re&&(Bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){de(n,t,i)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Vt(e,t,n),Re=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new j1),t.forEach(function(r){var o=G1.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Ee=i.stateNode,ct=!1;break e;case 3:Ee=i.stateNode.containerInfo,ct=!0;break e;case 4:Ee=i.stateNode.containerInfo,ct=!0;break e}i=i.return}if(Ee===null)throw Error(b(160));Tp(s,l,o),Ee=null,ct=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){de(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Np(t,e),t=t.sibling}function Np(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),ht(e),r&4){try{Ar(3,e,e.return),$s(3,e)}catch(y){de(e,e.return,y)}try{Ar(5,e,e.return)}catch(y){de(e,e.return,y)}}break;case 1:at(t,e),ht(e),r&512&&n!==null&&Bn(n,n.return);break;case 5:if(at(t,e),ht(e),r&512&&n!==null&&Bn(n,n.return),e.flags&32){var o=e.stateNode;try{jr(o,"")}catch(y){de(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&Wu(o,s),ql(i,l);var u=ql(i,s);for(l=0;l<c.length;l+=2){var p=c[l],f=c[l+1];p==="style"?ed(o,f):p==="dangerouslySetInnerHTML"?qu(o,f):p==="children"?jr(o,f):Ya(o,p,f,u)}switch(i){case"input":Xl(o,s);break;case"textarea":Ju(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?Yn(o,!!s.multiple,x,!1):m!==!!s.multiple&&(s.defaultValue!=null?Yn(o,!!s.multiple,s.defaultValue,!0):Yn(o,!!s.multiple,s.multiple?[]:"",!1))}o[Fr]=s}catch(y){de(e,e.return,y)}}break;case 6:if(at(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(b(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){de(e,e.return,y)}}break;case 3:if(at(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(y){de(e,e.return,y)}break;case 4:at(t,e),ht(e);break;case 13:at(t,e),ht(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Pi=pe())),r&4&&eu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||p,at(t,e),Re=u):at(t,e),ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(f=G=p;G!==null;){switch(m=G,x=m.child,m.tag){case 0:case 11:case 14:case 15:Ar(4,m,m.return);break;case 1:Bn(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){de(r,n,y)}}break;case 5:Bn(m,m.return);break;case 22:if(m.memoizedState!==null){nu(f);continue}}x!==null?(x.return=m,G=x):nu(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{o=f.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Zu("display",l))}catch(y){de(e,e.return,y)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){de(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:at(t,e),ht(e),r&4&&eu(e);break;case 21:break;default:at(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pp(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(jr(o,""),r.flags&=-33);var s=Zc(e);Ra(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,i=Zc(e);Na(e,i,l);break;default:throw Error(b(161))}}catch(c){de(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L1(e,t,n){G=e,Rp(e)}function Rp(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var o=G,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Mo;if(!l){var i=o.alternate,c=i!==null&&i.memoizedState!==null||Re;i=Mo;var u=Re;if(Mo=l,(Re=c)&&!u)for(G=o;G!==null;)l=G,c=l.child,l.tag===22&&l.memoizedState!==null?ru(o):c!==null?(c.return=l,G=c):ru(o);for(;s!==null;)G=s,Rp(s),s=s.sibling;G=o,Mo=i,Re=u}tu(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,G=s):tu(e)}}function tu(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||$s(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Hc(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hc(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Hr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Re||t.flags&512&&Ta(t)}catch(m){de(t,t.return,m)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function nu(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function ru(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$s(4,t)}catch(c){de(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){de(t,o,c)}}var s=t.return;try{Ta(t)}catch(c){de(t,s,c)}break;case 5:var l=t.return;try{Ta(t)}catch(c){de(t,l,c)}}}catch(c){de(t,t.return,c)}if(t===e){G=null;break}var i=t.sibling;if(i!==null){i.return=t.return,G=i;break}G=t.return}}var U1=Math.ceil,ys=Lt.ReactCurrentDispatcher,Ci=Lt.ReactCurrentOwner,tt=Lt.ReactCurrentBatchConfig,Z=0,ke=null,me=null,Ce=0,Ge=0,Fn=sn(0),he=0,Jr=null,Cn=0,zs=0,wi=0,Dr=null,Le=null,Pi=0,or=1/0,Nt=null,ks=!1,Aa=null,qt=null,_o=!1,Yt=null,Ss=0,Mr=0,Da=null,Ko=-1,Wo=0;function Oe(){return Z&6?pe():Ko!==-1?Ko:Ko=pe()}function Zt(e){return e.mode&1?Z&2&&Ce!==0?Ce&-Ce:S1.transition!==null?(Wo===0&&(Wo=pd()),Wo):(e=ee,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function pt(e,t,n,r){if(50<Mr)throw Mr=0,Da=null,Error(b(185));ro(e,n,r),(!(Z&2)||e!==ke)&&(e===ke&&(!(Z&2)&&(zs|=n),he===4&&Ft(e,Ce)),ze(e,r),n===1&&Z===0&&!(t.mode&1)&&(or=pe()+500,Us&&ln()))}function ze(e,t){var n=e.callbackNode;Sm(e,t);var r=os(e,e===ke?Ce:0);if(r===0)n!==null&&pc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pc(n),t===1)e.tag===0?k1(ou.bind(null,e)):Ud(ou.bind(null,e)),h1(function(){!(Z&6)&&ln()}),n=null;else{switch(fd(r)){case 1:n=Qa;break;case 4:n=ud;break;case 16:n=rs;break;case 536870912:n=dd;break;default:n=rs}n=bp(n,Ap.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ap(e,t){if(Ko=-1,Wo=0,Z&6)throw Error(b(327));var n=e.callbackNode;if(Qn()&&e.callbackNode!==n)return null;var r=os(e,e===ke?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Es(e,r);else{t=r;var o=Z;Z|=2;var s=Mp();(ke!==e||Ce!==t)&&(Nt=null,or=pe()+500,hn(e,t));do try{$1();break}catch(i){Dp(e,i)}while(!0);ui(),ys.current=s,Z=o,me!==null?t=0:(ke=null,Ce=0,t=he)}if(t!==0){if(t===2&&(o=ra(e),o!==0&&(r=o,t=Ma(e,o))),t===1)throw n=Jr,hn(e,0),Ft(e,r),ze(e,pe()),n;if(t===6)Ft(e,r);else{if(o=e.current.alternate,!(r&30)&&!H1(o)&&(t=Es(e,r),t===2&&(s=ra(e),s!==0&&(r=s,t=Ma(e,s))),t===1))throw n=Jr,hn(e,0),Ft(e,r),ze(e,pe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:dn(e,Le,Nt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=Pi+500-pe(),10<t)){if(os(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=da(dn.bind(null,e,Le,Nt),t);break}dn(e,Le,Nt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-dt(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U1(r/1960))-r,10<r){e.timeoutHandle=da(dn.bind(null,e,Le,Nt),r);break}dn(e,Le,Nt);break;case 5:dn(e,Le,Nt);break;default:throw Error(b(329))}}}return ze(e,pe()),e.callbackNode===n?Ap.bind(null,e):null}function Ma(e,t){var n=Dr;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=Es(e,t),e!==2&&(t=Le,Le=n,t!==null&&_a(t)),e}function _a(e){Le===null?Le=e:Le.push.apply(Le,e)}function H1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!ft(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~wi,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(Z&6)throw Error(b(327));Qn();var t=os(e,0);if(!(t&1))return ze(e,pe()),null;var n=Es(e,t);if(e.tag!==0&&n===2){var r=ra(e);r!==0&&(t=r,n=Ma(e,r))}if(n===1)throw n=Jr,hn(e,0),Ft(e,t),ze(e,pe()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dn(e,Le,Nt),ze(e,pe()),null}function Ti(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(or=pe()+500,Us&&ln())}}function wn(e){Yt!==null&&Yt.tag===0&&!(Z&6)&&Qn();var t=Z;Z|=1;var n=tt.transition,r=ee;try{if(tt.transition=null,ee=1,e)return e()}finally{ee=r,tt.transition=n,Z=t,!(Z&6)&&ln()}}function Ni(){Ge=Fn.current,le(Fn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,g1(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(ai(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cs();break;case 3:nr(),le(Ve),le(De),hi();break;case 5:gi(r);break;case 4:nr();break;case 13:le(ie);break;case 19:le(ie);break;case 10:di(r.type._context);break;case 22:case 23:Ni()}n=n.return}if(ke=e,me=e=en(e.current,null),Ce=Ge=t,he=0,Jr=null,wi=zs=Cn=0,Le=Dr=null,mn!==null){for(t=0;t<mn.length;t++)if(n=mn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}mn=null}return e}function Dp(e,t){do{var n=me;try{if(ui(),Go.current=xs,vs){for(var r=ce.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}vs=!1}if(En=0,ye=ge=ce=null,Rr=!1,Xr=0,Ci.current=null,n===null||n.return===null){he=1,Jr=t,me=null;break}e:{var s=e,l=n.return,i=n,c=t;if(t=Ce,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Gc(l);if(x!==null){x.flags&=-257,Yc(x,l,i,s,t),x.mode&1&&Fc(s,u,t),t=x,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Fc(s,u,t),Ri();break e}c=Error(b(426))}}else if(ae&&i.mode&1){var S=Gc(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yc(S,l,i,s,t),ii(rr(c,i));break e}}s=c=rr(c,i),he!==4&&(he=2),Dr===null?Dr=[s]:Dr.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=fp(s,c,t);Uc(s,g);break e;case 1:i=c;var d=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(qt===null||!qt.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=mp(s,i,t);Uc(s,C);break e}}s=s.return}while(s!==null)}Ip(n)}catch(w){t=w,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function Mp(){var e=ys.current;return ys.current=xs,e===null?xs:e}function Ri(){(he===0||he===3||he===2)&&(he=4),ke===null||!(Cn&268435455)&&!(zs&268435455)||Ft(ke,Ce)}function Es(e,t){var n=Z;Z|=2;var r=Mp();(ke!==e||Ce!==t)&&(Nt=null,hn(e,t));do try{V1();break}catch(o){Dp(e,o)}while(!0);if(ui(),Z=n,ys.current=r,me!==null)throw Error(b(261));return ke=null,Ce=0,he}function V1(){for(;me!==null;)_p(me)}function $1(){for(;me!==null&&!pm();)_p(me)}function _p(e){var t=jp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Ip(e):me=t,Ci.current=null}function Ip(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=O1(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,me=null;return}}else if(n=I1(n,t,Ge),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);he===0&&(he=5)}function dn(e,t,n){var r=ee,o=tt.transition;try{tt.transition=null,ee=1,z1(e,t,n,r)}finally{tt.transition=o,ee=r}return null}function z1(e,t,n,r){do Qn();while(Yt!==null);if(Z&6)throw Error(b(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Em(e,s),e===ke&&(me=ke=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_o||(_o=!0,bp(rs,function(){return Qn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tt.transition,tt.transition=null;var l=ee;ee=1;var i=Z;Z|=4,Ci.current=null,b1(e,n),Np(n,e),i1(ca),ss=!!ia,ca=ia=null,e.current=n,L1(n),fm(),Z=i,ee=l,tt.transition=s}else e.current=n;if(_o&&(_o=!1,Yt=e,Ss=o),s=e.pendingLanes,s===0&&(qt=null),hm(n.stateNode),ze(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ks)throw ks=!1,e=Aa,Aa=null,e;return Ss&1&&e.tag!==0&&Qn(),s=e.pendingLanes,s&1?e===Da?Mr++:(Mr=0,Da=e):Mr=0,ln(),null}function Qn(){if(Yt!==null){var e=fd(Ss),t=tt.transition,n=ee;try{if(tt.transition=null,ee=16>e?16:e,Yt===null)var r=!1;else{if(e=Yt,Yt=null,Ss=0,Z&6)throw Error(b(331));var o=Z;for(Z|=4,G=e.current;G!==null;){var s=G,l=s.child;if(G.flags&16){var i=s.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(G=u;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:Ar(8,p,s)}var f=p.child;if(f!==null)f.return=p,G=f;else for(;G!==null;){p=G;var m=p.sibling,x=p.return;if(wp(p),p===u){G=null;break}if(m!==null){m.return=x,G=m;break}G=x}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}G=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,G=l;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ar(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,G=g;break e}G=s.return}}var d=e.current;for(G=d;G!==null;){l=G;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,G=h;else e:for(l=d;G!==null;){if(i=G,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:$s(9,i)}}catch(w){de(i,i.return,w)}if(i===l){G=null;break e}var C=i.sibling;if(C!==null){C.return=i.return,G=C;break e}G=i.return}}if(Z=o,ln(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Is,e)}catch{}r=!0}return r}finally{ee=n,tt.transition=t}}return!1}function su(e,t,n){t=rr(n,t),t=fp(e,t,1),e=Qt(e,t,1),t=Oe(),e!==null&&(ro(e,1,t),ze(e,t))}function de(e,t,n){if(e.tag===3)su(e,e,n);else for(;t!==null;){if(t.tag===3){su(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){e=rr(n,e),e=mp(t,e,1),t=Qt(t,e,1),e=Oe(),t!==null&&(ro(t,1,e),ze(t,e));break}}t=t.return}}function B1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Ce&n)===n&&(he===4||he===3&&(Ce&130023424)===Ce&&500>pe()-Pi?hn(e,0):wi|=n),ze(e,t)}function Op(e,t){t===0&&(e.mode&1?(t=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):t=1);var n=Oe();e=jt(e,t),e!==null&&(ro(e,t,n),ze(e,n))}function F1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Op(e,n)}function G1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Op(e,n)}var jp;jp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,_1(e,t,n);He=!!(e.flags&131072)}else He=!1,ae&&t.flags&1048576&&Hd(t,ps,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var o=Zn(t,De.current);Jn(t,n),o=xi(null,t,r,e,o,n);var s=yi();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(r)?(s=!0,us(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,fi(t),o.updater=Vs,t.stateNode=o,o._reactInternals=t,xa(t,r,e,n),t=Sa(null,t,r,!0,s,n)):(t.tag=0,ae&&s&&li(t),_e(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=X1(r),e=it(r,e),o){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Wc(null,t,r,e,n);break e;case 11:t=Xc(null,t,r,e,n);break e;case 14:t=Kc(null,t,r,it(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),ka(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),Wc(e,t,r,o,n);case 3:e:{if(xp(t),e===null)throw Error(b(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Gd(e,t),gs(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=rr(Error(b(423)),t),t=Jc(e,t,r,n,o);break e}else if(r!==o){o=rr(Error(b(424)),t),t=Jc(e,t,r,n,o);break e}else for(Ye=Jt(t.stateNode.containerInfo.firstChild),Xe=t,ae=!0,ut=null,n=Bd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),r===o){t=bt(e,t,n);break e}_e(e,t,r,n)}t=t.child}return t;case 5:return Yd(t),e===null&&ga(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,ua(r,o)?l=null:s!==null&&ua(r,s)&&(t.flags|=32),vp(e,t),_e(e,t,l,n),t.child;case 6:return e===null&&ga(t),null;case 13:return yp(e,t,n);case 4:return mi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tr(t,null,r,n):_e(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),Xc(e,t,r,o,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,ne(fs,r._currentValue),r._currentValue=l,s!==null)if(ft(s.value,l)){if(s.children===o.children&&!Ve.current){t=bt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){l=s.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=_t(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ha(s.return,n,t),i.lanes|=n;break}c=c.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(b(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),ha(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}_e(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Jn(t,n),o=nt(o),r=r(o),t.flags|=1,_e(e,t,r,n),t.child;case 14:return r=t.type,o=it(r,t.pendingProps),o=it(r.type,o),Kc(e,t,r,o,n);case 15:return gp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:it(r,o),Xo(e,t),t.tag=1,$e(r)?(e=!0,us(t)):e=!1,Jn(t,n),pp(t,r,o),xa(t,r,o,n),Sa(null,t,r,!0,e,n);case 19:return kp(e,t,n);case 22:return hp(e,t,n)}throw Error(b(156,t.tag))};function bp(e,t){return cd(e,t)}function Y1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(e,t,n,r){return new Y1(e,t,n,r)}function Ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X1(e){if(typeof e=="function")return Ai(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ka)return 11;if(e===Wa)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")Ai(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case On:return vn(n.children,o,s,t);case Xa:l=8,o|=8;break;case zl:return e=et(12,n,t,o|2),e.elementType=zl,e.lanes=s,e;case Bl:return e=et(13,n,t,o),e.elementType=Bl,e.lanes=s,e;case Fl:return e=et(19,n,t,o),e.elementType=Fl,e.lanes=s,e;case Yu:return Bs(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fu:l=10;break e;case Gu:l=9;break e;case Ka:l=11;break e;case Wa:l=14;break e;case $t:l=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=et(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function vn(e,t,n,r){return e=et(7,e,r,t),e.lanes=n,e}function Bs(e,t,n,r){return e=et(22,e,r,t),e.elementType=Yu,e.lanes=n,e.stateNode={isHidden:!1},e}function Rl(e,t,n){return e=et(6,e,null,t),e.lanes=n,e}function Al(e,t,n){return t=et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K1(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Di(e,t,n,r,o,s,l,i,c){return e=new K1(e,t,n,i,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=et(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fi(s),e}function W1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lp(e){if(!e)return rn;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if($e(n))return Ld(e,n,t)}return t}function Up(e,t,n,r,o,s,l,i,c){return e=Di(n,r,!0,e,o,s,l,i,c),e.context=Lp(null),n=e.current,r=Oe(),o=Zt(n),s=_t(r,o),s.callback=t??null,Qt(n,s,o),e.current.lanes=o,ro(e,o,r),ze(e,r),e}function Fs(e,t,n,r){var o=t.current,s=Oe(),l=Zt(o);return n=Lp(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qt(o,t,l),e!==null&&(pt(e,o,l,s),Fo(e,o,l)),l}function Cs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mi(e,t){lu(e,t),(e=e.alternate)&&lu(e,t)}function J1(){return null}var Hp=typeof reportError=="function"?reportError:function(e){console.error(e)};function _i(e){this._internalRoot=e}Gs.prototype.render=_i.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));Fs(e,t,null,null)};Gs.prototype.unmount=_i.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Fs(null,e,null,null)}),t[Ot]=null}};function Gs(e){this._internalRoot=e}Gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=hd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&xd(e)}};function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function au(){}function Q1(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=Cs(l);s.call(u)}}var l=Up(t,r,e,0,null,!1,!1,"",au);return e._reactRootContainer=l,e[Ot]=l.current,zr(e.nodeType===8?e.parentNode:e),wn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var u=Cs(c);i.call(u)}}var c=Di(e,0,!1,null,null,!1,!1,"",au);return e._reactRootContainer=c,e[Ot]=c.current,zr(e.nodeType===8?e.parentNode:e),wn(function(){Fs(t,c,n,r)}),c}function Xs(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var i=o;o=function(){var c=Cs(l);i.call(c)}}Fs(t,l,e,o)}else l=Q1(n,t,e,o,r);return Cs(l)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sr(t.pendingLanes);n!==0&&(qa(t,n|1),ze(t,pe()),!(Z&6)&&(or=pe()+500,ln()))}break;case 13:wn(function(){var r=jt(e,1);if(r!==null){var o=Oe();pt(r,e,1,o)}}),Mi(e,1)}};Za=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=Oe();pt(t,e,134217728,n)}Mi(e,134217728)}};gd=function(e){if(e.tag===13){var t=Zt(e),n=jt(e,t);if(n!==null){var r=Oe();pt(n,e,t,r)}Mi(e,t)}};hd=function(){return ee};vd=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};ea=function(e,t,n){switch(t){case"input":if(Xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ls(r);if(!o)throw Error(b(90));Ku(r),Xl(r,o)}}}break;case"textarea":Ju(e,n);break;case"select":t=n.value,t!=null&&Yn(e,!!n.multiple,t,!1)}};rd=Ti;od=wn;var q1={usingClientEntryPoint:!1,Events:[so,Un,Ls,td,nd,Ti]},vr={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z1={bundleType:vr.bundleType,version:vr.version,rendererPackageName:vr.rendererPackageName,rendererConfig:vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:vr.findFiberByHostInstance||J1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{Is=Io.inject(Z1),Et=Io}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;We.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ii(t))throw Error(b(200));return W1(e,t,null,n)};We.createRoot=function(e,t){if(!Ii(e))throw Error(b(299));var n=!1,r="",o=Hp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Di(e,1,!1,null,null,n,!1,r,o),e[Ot]=t.current,zr(e.nodeType===8?e.parentNode:e),new _i(t)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return wn(e)};We.hydrate=function(e,t,n){if(!Ys(t))throw Error(b(200));return Xs(null,e,t,!0,n)};We.hydrateRoot=function(e,t,n){if(!Ii(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=Hp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Up(t,null,e,1,n??null,o,!1,s,l),e[Ot]=t.current,zr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gs(t)};We.render=function(e,t,n){if(!Ys(t))throw Error(b(200));return Xs(null,e,t,!1,n)};We.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(b(40));return e._reactRootContainer?(wn(function(){Xs(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};We.unstable_batchedUpdates=Ti;We.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Xs(e,t,n,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function Vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vp)}catch(e){console.error(e)}}Vp(),Vu.exports=We;var ao=Vu.exports,iu=ao;Vl.createRoot=iu.createRoot,Vl.hydrateRoot=iu.hydrateRoot;const eg={},cu=e=>{let t;const n=new Set,r=(p,f)=>{const m=typeof p=="function"?p(t):p;if(!Object.is(m,t)){const x=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(v=>v(t,x))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(eg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,c);return c},tg=e=>e?cu(e):cu;var $p={exports:{}},zp={},Bp={exports:{}},Fp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sr=P;function ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rg=typeof Object.is=="function"?Object.is:ng,og=sr.useState,sg=sr.useEffect,lg=sr.useLayoutEffect,ag=sr.useDebugValue;function ig(e,t){var n=t(),r=og({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return lg(function(){o.value=n,o.getSnapshot=t,Dl(o)&&s({inst:o})},[e,n,t]),sg(function(){return Dl(o)&&s({inst:o}),e(function(){Dl(o)&&s({inst:o})})},[e]),ag(n),n}function Dl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rg(e,n)}catch{return!0}}function cg(e,t){return t()}var ug=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cg:ig;Fp.useSyncExternalStore=sr.useSyncExternalStore!==void 0?sr.useSyncExternalStore:ug;Bp.exports=Fp;var dg=Bp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=P,pg=dg;function fg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mg=typeof Object.is=="function"?Object.is:fg,gg=pg.useSyncExternalStore,hg=Ks.useRef,vg=Ks.useEffect,xg=Ks.useMemo,yg=Ks.useDebugValue;zp.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=hg(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=xg(function(){function c(x){if(!u){if(u=!0,p=x,x=r(x),o!==void 0&&l.hasValue){var v=l.value;if(o(v,x))return f=v}return f=x}if(v=f,mg(p,x))return v;var y=r(x);return o!==void 0&&o(v,y)?(p=x,v):(p=x,f=y)}var u=!1,p,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,o]);var i=gg(e,s[0],s[1]);return vg(function(){l.hasValue=!0,l.value=i},[i]),yg(i),i};$p.exports=zp;var kg=$p.exports;const Sg=Ha(kg),Gp={},{useDebugValue:Eg}=Ue,{useSyncExternalStoreWithSelector:Cg}=Sg;let uu=!1;const wg=e=>e;function Pg(e,t=wg,n){(Gp?"production":void 0)!=="production"&&n&&!uu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),uu=!0);const r=Cg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Eg(r),r}const du=e=>{(Gp?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?tg(e):e,n=(r,o)=>Pg(t,r,o);return Object.assign(n,t),n},wt=e=>e?du(e):du,Tg={};function Ng(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var s;const l=c=>c===null?null:JSON.parse(c,void 0),i=(s=n.getItem(o))!=null?s:null;return i instanceof Promise?i.then(l):l(i)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const Qr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Qr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Qr(r)(n)}}}},Rg=(e,t)=>(n,r,o)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,g)=>({...g,...S}),...t},l=!1;const i=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,o);const p=Qr(s.serialize),f=()=>{const S=s.partialize({...r()});let g;const d=p({state:S,version:s.version}).then(h=>u.setItem(s.name,h)).catch(h=>{g=h});if(g)throw g;return d},m=o.setState;o.setState=(S,g)=>{m(S,g),f()};const x=e((...S)=>{n(...S),f()},r,o);let v;const y=()=>{var S;if(!u)return;l=!1,i.forEach(d=>d(r()));const g=((S=s.onRehydrateStorage)==null?void 0:S.call(s,r()))||void 0;return Qr(u.getItem.bind(u))(s.name).then(d=>{if(d)return s.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==s.version){if(s.migrate)return s.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var h;return v=s.merge(d,(h=r())!=null?h:x),n(v,!0),f()}).then(()=>{g==null||g(v,void 0),l=!0,c.forEach(d=>d(v))}).catch(d=>{g==null||g(void 0,d)})};return o.persist={setOptions:S=>{s={...s,...S},S.getStorage&&(u=S.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:S=>(i.add(S),()=>{i.delete(S)}),onFinishHydration:S=>(c.add(S),()=>{c.delete(S)})},y(),v||x},Ag=(e,t)=>(n,r,o)=>{let s={storage:Ng(()=>localStorage),partialize:y=>y,version:0,merge:(y,S)=>({...S,...y}),...t},l=!1;const i=new Set,c=new Set;let u=s.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,o);const p=()=>{const y=s.partialize({...r()});return u.setItem(s.name,{state:y,version:s.version})},f=o.setState;o.setState=(y,S)=>{f(y,S),p()};const m=e((...y)=>{n(...y),p()},r,o);o.getInitialState=()=>m;let x;const v=()=>{var y,S;if(!u)return;l=!1,i.forEach(d=>{var h;return d((h=r())!=null?h:m)});const g=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(y=r())!=null?y:m))||void 0;return Qr(u.getItem.bind(u))(s.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==s.version){if(s.migrate)return[!0,s.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var h;const[C,w]=d;if(x=s.merge(w,(h=r())!=null?h:m),n(x,!0),C)return p()}).then(()=>{g==null||g(x,void 0),x=r(),l=!0,c.forEach(d=>d(x))}).catch(d=>{g==null||g(void 0,d)})};return o.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>l,onHydrate:y=>(i.add(y),()=>{i.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||v(),x||m},Dg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Tg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Rg(e,t)):Ag(e,t),io=Dg,Yp=wt()(io(e=>({isExpanded:!0,currentView:"prompt",toggleExpanded:()=>e(t=>({isExpanded:!t.isExpanded})),setExpanded:t=>e({isExpanded:t}),setCurrentView:t=>e({currentView:t})}),{name:"currentView",partialize:e=>({currentView:e.currentView})}));let Ml=null;const Mg=async()=>{if(Ml)return Ml;try{const e=await fetch(chrome.runtime.getURL("themes.json"));if(!e.ok)throw new Error(`Failed to load themes: ${e.statusText}`);const t=await e.json();return Ml=t,t}catch(e){return console.error("[ThemeLoader] Error loading themes:",e),_g()}},_g=()=>({dark:{BACKGROUND_DARK:"#1a1a1a",BACKGROUND_MEDIUM:"#2a2a2a",BACKGROUND_LIGHT:"#3a3a3a",TEXT_PRIMARY:"#fff",TEXT_SECONDARY:"#b0b0b0",TEXT_HOVER:"#d0d0d0",SHADOW:"rgba(0,0,0,0.4)",BORDER:"rgba(255, 255, 255, 0.2)",SUCCESS:"#10b981",DANGER:"#ef4444",PROGRESS_BAR:"rgba(255, 255, 255, 0.5)",GLOW_PRIMARY:"rgba(255, 255, 255, 0.6)",GLOW_SECONDARY:"rgba(255, 255, 255, 0.4)",GLOW_HOVER_PRIMARY:"rgba(255, 255, 255, 0.8)",GLOW_HOVER_SECONDARY:"rgba(255, 255, 255, 0.6)"},light:{BACKGROUND_DARK:"#f5f5f5",BACKGROUND_MEDIUM:"#ffffff",BACKGROUND_LIGHT:"#e8e8e8",TEXT_PRIMARY:"#1a1a1a",TEXT_SECONDARY:"#666666",TEXT_HOVER:"#333333",SHADOW:"rgba(0,0,0,0.15)",BORDER:"rgba(0, 0, 0, 0.2)",SUCCESS:"#059669",DANGER:"#ef4444",PROGRESS_BAR:"rgba(0, 0, 0, 0.3)",GLOW_PRIMARY:"rgba(0, 0, 0, 0.4)",GLOW_SECONDARY:"rgba(0, 0, 0, 0.2)",GLOW_HOVER_PRIMARY:"rgba(0, 0, 0, 0.5)",GLOW_HOVER_SECONDARY:"rgba(0, 0, 0, 0.3)"},dracula:{BACKGROUND_DARK:"#282a36",BACKGROUND_MEDIUM:"#44475a",BACKGROUND_LIGHT:"#6272a4",TEXT_PRIMARY:"#f8f8f2",TEXT_SECONDARY:"#bd93f9",TEXT_HOVER:"#ff79c6",SHADOW:"rgba(0,0,0,0.5)",BORDER:"rgba(189, 147, 249, 0.3)",SUCCESS:"#50fa7b",DANGER:"#ef4444",PROGRESS_BAR:"rgba(255, 255, 255, 1)",GLOW_PRIMARY:"rgba(80, 250, 123, 0.6)",GLOW_SECONDARY:"rgba(139, 233, 253, 0.4)",GLOW_HOVER_PRIMARY:"rgba(80, 250, 123, 0.8)",GLOW_HOVER_SECONDARY:"rgba(139, 233, 253, 0.6)"},winamp:{BACKGROUND_DARK:"#0C1821",BACKGROUND_MEDIUM:"#1B4965",BACKGROUND_LIGHT:"#2E8B95",TEXT_PRIMARY:"#00FF00",TEXT_SECONDARY:"#5FE3B2",TEXT_HOVER:"#00FFFF",SHADOW:"rgba(0,0,0,0.6)",BORDER:"rgba(95, 227, 178, 0.4)",SUCCESS:"#00FF00",DANGER:"#ef4444",PROGRESS_BAR:"rgba(255, 165, 0, 1)",GLOW_PRIMARY:"rgba(0, 255, 0, 0.6)",GLOW_SECONDARY:"rgba(255, 165, 0, 0.4)",GLOW_HOVER_PRIMARY:"rgba(0, 255, 0, 0.8)",GLOW_HOVER_SECONDARY:"rgba(255, 165, 0, 0.6)"},limewire:{BACKGROUND_DARK:"#0a0a0a",BACKGROUND_MEDIUM:"#1a1a1a",BACKGROUND_LIGHT:"#2d2d2d",TEXT_PRIMARY:"#8FD14F",TEXT_SECONDARY:"#6FB02B",TEXT_HOVER:"#B4E87A",SHADOW:"rgba(0,0,0,0.7)",BORDER:"rgba(143, 209, 79, 0.3)",SUCCESS:"#8FD14F",DANGER:"#ef4444",PROGRESS_BAR:"rgba(143, 209, 79, 1)",GLOW_PRIMARY:"rgba(143, 209, 79, 0.6)",GLOW_SECONDARY:"rgba(111, 176, 43, 0.4)",GLOW_HOVER_PRIMARY:"rgba(143, 209, 79, 0.8)",GLOW_HOVER_SECONDARY:"rgba(111, 176, 43, 0.6)"},steam:{BACKGROUND_DARK:"#171a21",BACKGROUND_MEDIUM:"#1b2838",BACKGROUND_LIGHT:"#2a475e",TEXT_PRIMARY:"#c7d5e0",TEXT_SECONDARY:"#8f98a0",TEXT_HOVER:"#ffffff",SHADOW:"rgba(0,0,0,0.6)",BORDER:"rgba(102, 192, 244, 0.3)",SUCCESS:"#5cb85c",DANGER:"#ef4444",PROGRESS_BAR:"rgba(102, 192, 244, 1)",GLOW_PRIMARY:"rgba(102, 192, 244, 0.6)",GLOW_SECONDARY:"rgba(103, 193, 245, 0.4)",GLOW_HOVER_PRIMARY:"rgba(102, 192, 244, 0.8)",GLOW_HOVER_SECONDARY:"rgba(103, 193, 245, 0.6)"}}),Ig={tiny:.7,small:.85,medium:1,large:1.15},re=wt()(io((e,t)=>({theme:"dark",size:"medium",autoDownload:!1,rememberPostState:!0,simpleShortcut:!1,hideUnsave:!1,enableThePit:!1,enableSound:!0,confirmCopyFrom:!0,globalPromptAddonEnabled:!1,globalPromptAddon:"",listLimit:100,themes:{},loadThemes:async()=>{const n=await Mg();e({themes:n})},setTheme:n=>e({theme:n}),setSize:n=>e({size:n}),setAutoDownload:n=>e({autoDownload:n}),setRememberPostState:n=>e({rememberPostState:n}),setSimpleShortcut:n=>e({simpleShortcut:n}),setHideUnsave:n=>e({hideUnsave:n}),setEnableThePit:n=>e({enableThePit:n}),setEnableSound:n=>e({enableSound:n}),setConfirmCopyFrom:n=>e({confirmCopyFrom:n}),setGlobalPromptAddonEnabled:n=>e({globalPromptAddonEnabled:n}),setGlobalPromptAddon:n=>e({globalPromptAddon:n}),setListLimit:n=>e({listLimit:n}),getThemeColors:()=>{const{theme:n,themes:r}=t();return r[n]||r.dark||{}},getScale:()=>{const{size:n}=t();return Ig[n]}}),{name:"imaginegodmode-settings",partialize:e=>({theme:e.theme,size:e.size,autoDownload:e.autoDownload,rememberPostState:e.rememberPostState,simpleShortcut:e.simpleShortcut,hideUnsave:e.hideUnsave,enableThePit:e.enableThePit,enableSound:e.enableSound,confirmCopyFrom:e.confirmCopyFrom,globalPromptAddonEnabled:e.globalPromptAddonEnabled,globalPromptAddon:e.globalPromptAddon,listLimit:e.listLimit})})),Og=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),jg=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let t="";for(let n=0;n<88;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},bg=100,Oi=async e=>{console.log("[ImagineGodMode API] Fetching post:",e,"URL:",xn.POST_GET);const t=await fetch(xn.POST_GET,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({id:e}),credentials:"include"});if(console.log("[ImagineGodMode API] Response status:",t.status,t.statusText),!t.ok){const r=await t.text();throw console.error("[ImagineGodMode API] Error response:",r),new Error(`HTTP ${t.status}: ${r}`)}const n=await t.json();return console.log("[ImagineGodMode API] Success:",n),n},co=async(e=bg)=>{console.log("[ImagineGodMode API] Fetching liked posts, limit:",e);const t=await fetch(xn.POST_LIST,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({limit:e,filter:{source:"MEDIA_POST_SOURCE_LIKED"}}),credentials:"include"});if(console.log("[ImagineGodMode API] Liked posts response status:",t.status,t.statusText),!t.ok){const r=await t.text();throw console.error("[ImagineGodMode API] Error response:",r),new Error(`HTTP ${t.status}: ${r}`)}const n=await t.json();return console.log("[ImagineGodMode API] Liked posts success:",n),n},Lg=async e=>{console.log("[ImagineGodMode API] Liking post:",e);try{const t=await fetch(xn.POST_LIKE,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({id:e}),credentials:"include"});if(!t.ok){const r=await t.text();return console.error("[ImagineGodMode API] Like error:",r),{success:!1,error:`HTTP ${t.status}: ${r}`}}const n=await t.json().catch(()=>({}));return console.log("[ImagineGodMode API] Like success:",n),{success:!0}}catch(t){const n=t instanceof Error?t.message:"Unknown error";return console.error("[ImagineGodMode API] Like exception:",n),{success:!1,error:n}}},Ia=async e=>{console.log("[ImagineGodMode API] Unliking post:",e);try{const t=await fetch(xn.POST_UNLIKE,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({id:e}),credentials:"include"});if(!t.ok){const r=await t.text();return console.error("[ImagineGodMode API] Unlike error:",r),{success:!1,error:`HTTP ${t.status}: ${r}`}}const n=await t.json().catch(()=>({}));return console.log("[ImagineGodMode API] Unlike success:",n),{success:!0}}catch(t){const n=t instanceof Error?t.message:"Unknown error";return console.error("[ImagineGodMode API] Unlike exception:",n),{success:!1,error:n}}},Ug=async e=>{const t=await fetch(xn.VIDEO_UPSCALE,{method:"POST",headers:{accept:"*/*","content-type":"application/json"},body:JSON.stringify({videoId:e})});if(!t.ok)throw new Error(`Upscale HTTP ${t.status}`);const n=await t.json().catch(()=>null);return console.log("[ImagineGodMode] Upscale response for",e,n),n},Hg=async(e,t,n="1:1",r=6)=>{var y,S,g;console.log("[ImagineGodMode API] Generating video:",{parentPostId:e,prompt:t,aspectRatio:n,videoLength:r});const s=`${`https://imagine-public.x.ai/imagine-public/share-images/${e}.png`}  ${t}`,l=Og(),i=jg(),c=await fetch(xn.VIDEO_GENERATE,{method:"POST",headers:{accept:"*/*","content-type":"application/json","x-statsig-id":i,"x-xai-request-id":l},body:JSON.stringify({temporary:!0,modelName:"grok-3",message:s,toolOverrides:{videoGen:!0},responseMetadata:{experiments:[],modelConfigOverride:{modelMap:{videoGenModelConfig:{parentPostId:e,aspectRatio:n,videoLength:r}}}}}),credentials:"include"});if(console.log("[ImagineGodMode API] Video generation response status:",c.status,c.statusText),!c.ok){const d=await c.text();throw console.error("[ImagineGodMode API] Video generation error:",d),new Error(`HTTP ${c.status}: ${d}`)}const u=(y=c.body)==null?void 0:y.getReader();if(!u)throw new Error("Failed to get response body reader");const p=new TextDecoder;let f=!1,m,x=0,v="";try{for(;;){const{done:d,value:h}=await u.read();if(d){console.log("[ImagineGodMode API] Stream completed");break}const C=p.decode(h,{stream:!0});v+=C;const w=`[${v.replace(/\}\{/g,"},{")}]`;let N=[];try{N=JSON.parse(w)}catch{continue}for(const k of N){const E=(g=(S=k==null?void 0:k.result)==null?void 0:S.response)==null?void 0:g.streamingVideoGenerationResponse;if(E){m=E.videoId;const T=E.progress;if(console.log("[ImagineGodMode API] Video generation progress:",T+"%","videoId:",m),E.moderated===!0&&(f=!0,console.log("[ImagineGodMode API] Video was moderated at progress",T+"%:",m)),T>x&&(x=T),T>=100||f){console.log("[ImagineGodMode API] Stopping stream read - progress:",T+"%, moderated:",f),u.cancel();break}}}if(f||x>=100)break}}finally{u.releaseLock()}if(f)throw new Error(`Video generation was moderated/rejected (videoId: ${m})`);return console.log("[ImagineGodMode API] Video generation success:",{videoId:m,finalProgress:x,moderated:f}),{success:!0}},Vg=()=>{var e;try{return!!((e=chrome==null?void 0:chrome.runtime)!=null&&e.id)}catch{return!1}},$g=async(e,t=3,n=100)=>{if(!Vg())return console.warn("[ImagineGodMode] Extension context invalidated - cannot send message"),{success:!1,error:"Extension was reloaded or updated. Please refresh the page to continue."};for(let r=0;r<t;r++)try{return await ve.runtime.sendMessage(e)}catch(o){const s=r===t-1,l=o instanceof Error?o.message:"Unknown error";if(l.includes("Extension context invalidated"))return console.warn("[ImagineGodMode] Extension context invalidated during message send"),{success:!1,error:"Extension was reloaded or updated. Please refresh the page to continue."};if(l.includes("Receiving end does not exist")&&!s){console.log(`[ImagineGodMode] Service worker inactive, retrying (${r+1}/${t})...`),await new Promise(i=>setTimeout(i,n*(r+1)));continue}return console.error("Failed to send message to background:",o),{success:!1,error:s?`${l}. Try reloading the extension or refreshing the page.`:l}}return{success:!1,error:"Failed after all retry attempts"}},Xp=async e=>$g({type:"DOWNLOAD_MEDIA",data:{urls:e}}),Ws=async e=>{try{return{success:!0,data:await Oi(e)}}catch(t){return console.error("[ImagineGodMode] Fetch failed:",t),{success:!1,error:t instanceof Error?t.message:"Failed to fetch post"}}},Kp=async e=>{try{return{success:!0,data:await Ug(e)}}catch(t){return console.error("[ImagineGodMode] Upscale failed:",t),{success:!1,error:t instanceof Error?t.message:"Failed to upscale video"}}},cr=e=>{const t=[],n=[],r=[];let o=0;console.log("[ImagineGodMode] Processing post data:",e);const s=e.post;if(!s)return console.error("[ImagineGodMode] No post in response data"),{urls:[],videosToUpscale:[],hdVideoCount:0,mediaUrls:[]};Array.isArray(s.childPosts)&&s.childPosts.length>0?(console.log("[ImagineGodMode] Processing",s.childPosts.length,"child posts"),s.childPosts.forEach(i=>{const c=Rf(i);if(c){t.push(c);const u=i.mediaType===Zi.VIDEO,p=!!i.hdMediaUrl;r.push({url:c,type:u?"video":"image",isHD:u?p:void 0,id:i.id}),console.log("[ImagineGodMode] Added media:",{url:c,type:u?"video":"image",isHD:p})}i.mediaType===Zi.VIDEO&&(!!i.hdMediaUrl?(o+=1,console.log("[ImagineGodMode] Found HD video:",i.id)):i.id&&(n.push(i.id),console.log("[ImagineGodMode] Video needs upscale:",i.id)))})):console.log("[ImagineGodMode] No child posts found");const l={urls:Array.from(new Set(t)),videosToUpscale:Array.from(new Set(n)),hdVideoCount:o,mediaUrls:r};return console.log("[ImagineGodMode] Processing complete:",l),l},pu={MIN_API_CALL:450,MAX_API_CALL:500},pn={FETCHING:"Fetching post data...",DOWNLOADING:"Downloading...",NO_VIDEOS:"No videos to upscale",NO_POST_ID:"No post ID found",FETCH_FAILED:"Failed to fetch post data",DOWNLOAD_FAILED:"Download failed",FETCH_LIKED_FAILED:"Failed to fetch liked posts",FOUND_MEDIA:(e,t)=>`Found ${e} media (${t} HD videos)`,DOWNLOADED:e=>`Downloaded ${e} files`,ADDED_TO_QUEUE:e=>`Added ${e} videos to queue`,PROCESSING_POSTS:e=>`Processing ${e} posts...`,ADDED_VIDEOS_TO_QUEUE:(e,t)=>`Added ${e} videos from ${t} posts to queue`,UNLIKED_POSTS:(e,t)=>`Unliked ${e} of ${t} posts`,RELIKED_POSTS:(e,t)=>`Re-liked ${e} of ${t} posts`,SAVED_TO_ARCHIVE:e=>`Saved ${e} unliked posts to archive`,REMOVED_FROM_ARCHIVE:e=>`Removed ${e} re-liked posts from archive`},_n="[ImagineGodMode]",cn=e=>new Promise(t=>setTimeout(t,e)),fu=()=>pu.MIN_API_CALL+Math.random()*pu.MAX_API_CALL,zg=e=>{var t;return{id:e.id,prompt:e.prompt,thumbnailImageUrl:e.thumbnailImageUrl,mediaUrl:e.mediaUrl,unlikedAt:Date.now(),childPostCount:((t=e.childPosts)==null?void 0:t.length)||0}},Oa="grok-text-items",_r="grok-prompt-prefixes",Ir="grok-post-states",Ae="grok-unliked-posts",gt=()=>{var e;try{return!!((e=chrome==null?void 0:chrome.runtime)!=null&&e.id)}catch{return!1}},Bg=async()=>{if(!gt())return console.warn("[ImagineGodMode] Extension context invalidated - storage unavailable"),null;try{return(await ve.storage.local.get(Oa))[Oa]||null}catch(e){return e instanceof Error&&e.message.includes("Extension context invalidated")?console.warn("[ImagineGodMode] Extension context invalidated during storage read"):console.error("Failed to get storage:",e),null}},Fg=async e=>{if(!gt())return!1;try{return await ve.storage.local.set({[Oa]:e}),!0}catch(t){return t instanceof Error&&t.message.includes("Extension context invalidated")||console.error("Failed to set storage:",t),!1}},Wp=(e,t)=>{const n={version:"1.0",exportDate:new Date().toISOString(),packName:e,prompts:t},r=JSON.stringify(n),o=btoa(unescape(encodeURIComponent(r))),s=new Blob([o],{type:"application/octet-stream"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l;const c=new Date().toISOString().split("T")[0],u=e.replace(/[^a-z0-9]/gi,"_");i.download=`imaginegodmode-pack-${u}-${c}.pak`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l)},Gg=e=>{const t=Object.entries(e).map(([u,p])=>({packName:u,prompts:p})),n={version:"2.0",exportDate:new Date().toISOString(),packs:t},r=JSON.stringify(n),o=btoa(unescape(encodeURIComponent(r))),s=new Blob([o],{type:"application/octet-stream"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l;const c=new Date().toISOString().split("T")[0];i.download=`imaginegodmode-all-packs-${c}.pak`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l)},Yg=e=>{if(!e||typeof e!="object")return!1;const t=e;if(typeof t.version!="string"||typeof t.exportDate!="string"||typeof t.packName!="string"||t.packName.trim()===""||!Array.isArray(t.prompts))return!1;const n=t.prompts;for(const r of n){if(!r||typeof r!="object")return!1;const o=r;if(typeof o.text!="string"||typeof o.rating!="number"||o.rating<0||o.rating>5)return!1}return!0},Xg=e=>{if(!e||typeof e!="object")return!1;const t=e;if(typeof t.version!="string"||typeof t.exportDate!="string"||!Array.isArray(t.packs))return!1;const n=t.packs;for(const r of n){if(!r||typeof r!="object")return!1;const o=r;if(typeof o.packName!="string"||o.packName.trim()===""||!Array.isArray(o.prompts))return!1;const s=o.prompts;for(const l of s){if(!l||typeof l!="object")return!1;const i=l;if(typeof i.text!="string"||typeof i.rating!="number"||i.rating<0||i.rating>5)return!1}}return!0},Kg=e=>{try{const t=decodeURIComponent(escape(atob(e)));return JSON.parse(t)}catch{throw new Error("Invalid base64 or JSON format")}},Wg=(e,t,n)=>new Promise(r=>{const o=new FileReader;o.onload=s=>{var l;try{const i=(l=s.target)==null?void 0:l.result;let c;if(e.name.endsWith(".pak"))try{c=Kg(i)}catch{r({success:!1,error:"Invalid .pak file format. File must contain base64 encoded JSON."});return}else try{c=JSON.parse(i)}catch{r({success:!1,error:"Invalid JSON format"});return}const u={...n};if(Xg(c)){const p=[];let f=0;for(const m of c.packs)t==="replace"?(u[m.packName]=m.prompts,f++):u[m.packName]?p.push(m.packName):(u[m.packName]=m.prompts,f++);if(p.length>0&&t==="add"){r({success:!1,error:`${p.length} pack(s) already exist: ${p.join(", ")}. Use Replace mode to overwrite.`});return}r({success:!0,packs:u,importedCount:f})}else if(Yg(c)){if(t==="replace")u[c.packName]=c.prompts;else if(!u[c.packName])u[c.packName]=c.prompts;else{r({success:!1,error:`Pack "${c.packName}" already exists. Use Replace mode to overwrite.`});return}r({success:!0,packName:c.packName,prompts:c.prompts,packs:u,importedCount:1})}else r({success:!1,error:"Invalid file format"})}catch(i){r({success:!1,error:i instanceof Error?i.message:"Failed to parse file"})}},o.onerror=()=>{r({success:!1,error:"Failed to read file"})},o.readAsText(e)}),ji=async e=>{if(!gt())return console.warn("[ImagineGodMode] Extension context invalidated - prefix storage unavailable"),"";try{return((await ve.storage.local.get(_r))[_r]||{})[e]||""}catch(t){return console.error("Failed to get prefix:",t),""}},Jg=async(e,t)=>{if(!gt())return!1;try{const r=(await ve.storage.local.get(_r))[_r]||{};return r[e]=t,await ve.storage.local.set({[_r]:r}),!0}catch(n){return console.error("Failed to set prefix:",n),!1}},Qg=async e=>{if(!gt())return console.warn("[ImagineGodMode] Extension context invalidated - post state storage unavailable"),null;try{return((await ve.storage.local.get(Ir))[Ir]||{})[e]||null}catch(t){return console.error("Failed to get post state:",t),null}},qg=async(e,t)=>{if(!gt())return!1;try{const r=(await ve.storage.local.get(Ir))[Ir]||{};return r[e]=t,await ve.storage.local.set({[Ir]:r}),!0}catch(n){return console.error("Failed to set post state:",n),!1}},Zg=async e=>{if(!gt())return!1;try{const n=(await ve.storage.local.get(Ae))[Ae];if(n&&Array.isArray(n.posts)){console.log("[Storage] Migrating old unliked posts format to per-user format for userId:",e);const r={[e]:n.posts};return await ve.storage.local.set({[Ae]:r}),console.log("[Storage] Migration completed. Migrated",n.posts.length,"posts to userId:",e),!0}return!1}catch(t){return console.error("[Storage] Failed to migrate unliked posts:",t),!1}},ws=async e=>{if(!gt())return console.warn("[ImagineGodMode] Extension context invalidated - unliked posts storage unavailable"),[];if(!e)return console.warn("[Storage] No userId provided to getUnlikedPosts"),[];try{const n=(await ve.storage.local.get(Ae))[Ae];return n&&Array.isArray(n.posts)?(await Zg(e),((await ve.storage.local.get(Ae))[Ae]||{})[e]||[]):(n||{})[e]||[]}catch(t){return console.error("Failed to get unliked posts:",t),[]}},Jp=async(e,t)=>{if(!gt())return!1;if(!t)return console.warn("[Storage] No userId provided to addUnlikedPosts"),!1;try{const n=await ws(t),r=new Set(n.map(c=>c.id)),o=e.filter(c=>!r.has(c.id));if(o.length===0)return!0;const s=[...n,...o],i=(await ve.storage.local.get(Ae))[Ae]||{};return i[t]=s,await ve.storage.local.set({[Ae]:i}),!0}catch(n){return console.error("Failed to add unliked posts:",n),!1}},eh=async(e,t)=>{if(!gt())return!1;if(!t)return console.warn("[Storage] No userId provided to removeUnlikedPosts"),!1;try{const n=await ws(t),r=new Set(e),o=n.filter(i=>!r.has(i.id)),l=(await ve.storage.local.get(Ae))[Ae]||{};return l[t]=o,await ve.storage.local.set({[Ae]:l}),!0}catch(n){return console.error("Failed to remove unliked posts:",n),!1}},Qp=async e=>{if(!gt())return!1;if(!e)return console.warn("[Storage] No userId provided to clearUnlikedPosts"),!1;try{const n=(await ve.storage.local.get(Ae))[Ae]||{};return n[e]=[],await ve.storage.local.set({[Ae]:n}),!0}catch(t){return console.error("Failed to clear unliked posts:",t),!1}},Se=[];for(let e=0;e<256;++e)Se.push((e+256).toString(16).slice(1));function th(e,t=0){return(Se[e[t+0]]+Se[e[t+1]]+Se[e[t+2]]+Se[e[t+3]]+"-"+Se[e[t+4]]+Se[e[t+5]]+"-"+Se[e[t+6]]+Se[e[t+7]]+"-"+Se[e[t+8]]+Se[e[t+9]]+"-"+Se[e[t+10]]+Se[e[t+11]]+Se[e[t+12]]+Se[e[t+13]]+Se[e[t+14]]+Se[e[t+15]]).toLowerCase()}let _l;const nh=new Uint8Array(16);function rh(){if(!_l){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_l=crypto.getRandomValues.bind(crypto)}return _l(nh)}const oh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mu={randomUUID:oh};function sh(e,t,n){var o;e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??rh();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,th(r)}function lh(e,t,n){return mu.randomUUID&&!e?mu.randomUUID():sh(e)}const ah="G-VQDV962F8P",ih="xR8FlDL2T6abvy3LcOWedA",ch=`https://www.google-analytics.com/mp/collect?measurement_id=${ah}&api_secret=${ih}`,gu="ga_client_id",Il="ga_session_id",uh=30*60*1e3,qp=()=>{let e=localStorage.getItem(gu);return e||(e=lh(),localStorage.setItem(gu,e)),e},dh=()=>{const e=Date.now(),t=localStorage.getItem(Il);if(t)try{const{id:r,timestamp:o}=JSON.parse(t);if(e-o<uh)return localStorage.setItem(Il,JSON.stringify({id:r,timestamp:e})),r}catch{}const n=Date.now().toString();return localStorage.setItem(Il,JSON.stringify({id:n,timestamp:e})),n},ph=async e=>{try{const t=qp(),n=dh(),r={client_id:t,events:e.map(o=>({name:o.name,params:{...o.params,session_id:n,engagement_time_msec:100}}))};await fetch(ch,{method:"POST",body:JSON.stringify(r)})}catch(t){console.error("[Analytics] Failed to send event:",t)}},fh=()=>{qp(),q("extension_loaded",{version:Ms})},q=(e,t)=>{ph([{name:e,params:t}])},Ol=()=>{q("prompt_created")},hu=()=>{q("prompt_edited")},Oo=()=>{q("prompt_deleted")},mh=e=>{q("prompt_rated",{rating:e})},gh=(e,t)=>{q("prompt_searched",{query_length:e,result_count:t})},hh=()=>{q("pack_created")},jo=()=>{q("pack_deleted")},vh=e=>{q("pack_switched")},xh=e=>{q("pack_exported",{prompt_count:e})},yh=(e,t)=>{q("pack_imported",{import_mode:e,prompt_count:t})},kh=(e,t)=>{q("media_downloaded",{count:e,media_type:t})},Sh=e=>{q("auto_download_toggled",{enabled:e})},Eh=e=>{q("remember_post_state_toggled",{enabled:e})},Ch=e=>{q("simple_shortcut_toggled",{enabled:e})},wh=e=>{q("hide_unsave_toggled",{enabled:e})},Ph=e=>{q("sound_toggled",{enabled:e})},Th=e=>{q("confirm_copy_from_toggled",{enabled:e})},Nh=e=>{q("theme_changed",{theme:e})},Rh=e=>{q("size_changed",{size:e})},Ah=e=>{q("language_changed",{language:e})},Ps=()=>{q("video_make_clicked")},Qo=e=>{q("modal_opened",{modal_type:e})},qo=e=>{q("modal_closed",{modal_type:e})},Dh=()=>{q("prompt_copied_to_clipboard")},bo=e=>{q("prompt_navigated",{direction:e})},Mh=()=>{q("prompt_copied_to_page")},vu=()=>{q("prompt_copied_from_page")},Zp=()=>{q("make_and_next_clicked")},bi=e=>{q("bulk_select_all",{operation_type:e})},Li=e=>{q("bulk_deselect_all",{operation_type:e})},Ui=(e,t)=>{q("bulk_operation_confirmed",{operation_type:e,item_count:t})},Ts=(e,t)=>{q("video_play_pause",{action:e,method:t})},ef=e=>{q("video_fullscreen",{method:e})},Lo=(e,t)=>{q("keyboard_shortcut_used",{shortcut:e,action:t})},Be=wt((e,t)=>({packs:{Default:[{text:"",rating:0}]},packOrder:["Default"],currentPack:"Default",currentIndex:0,isLoading:!1,loadFromStorage:async()=>{e({isLoading:!0});const n=await Bg();if(n&&n.packs&&typeof n.packs=="object"){const r=Object.keys(n.packs);if(r.length===0){e({isLoading:!1});return}const o=n.packs[n.currentPack]?n.currentPack:r[0];let s=n.packOrder||r;const l=r.filter(i=>!s.includes(i));l.length>0&&(s=[...s,...l]),s=s.filter(i=>r.includes(i)),e({packs:n.packs,packOrder:s,currentPack:o,currentIndex:n.currentIndex||0,isLoading:!1})}else e({isLoading:!1})},saveToStorage:async()=>{const{packs:n,packOrder:r,currentPack:o,currentIndex:s}=t();await Fg({packs:n,packOrder:r,currentPack:o,currentIndex:s})},setCurrentPack:n=>{e({currentPack:n,currentIndex:0}),t().saveToStorage(),vh()},addPack:n=>{const{packs:r,packOrder:o}=t();if(!r){e({packs:{[n]:[{text:"",rating:0}]},packOrder:[n],currentPack:n,currentIndex:0}),t().saveToStorage();return}r[n]||(e({packs:{...r,[n]:[{text:"",rating:0}]},packOrder:[...o,n],currentPack:n,currentIndex:0}),t().saveToStorage(),hh())},deletePack:n=>{const{packs:r,packOrder:o,currentPack:s}=t();if(!r)return;if(Object.keys(r).length<=1){const p="Default";e({packs:{[p]:[{text:"",rating:0}]},packOrder:[p],currentPack:p,currentIndex:0}),t().saveToStorage(),jo();return}const i={...r};delete i[n];const c=o.filter(p=>p!==n),u=s===n?c[0]:s;e({packs:i,packOrder:c,currentPack:u,currentIndex:0}),t().saveToStorage(),jo()},deletePacksByNames:n=>{const{packs:r,packOrder:o,currentPack:s}=t();if(!r||n.length===0)return;const l=Object.keys(r);if(n.length>=l.length){const f="Default";e({packs:{[f]:[{text:"",rating:0}]},packOrder:[f],currentPack:f,currentIndex:0}),t().saveToStorage(),n.forEach(()=>jo());return}const i=new Set(n),c={...r};n.forEach(f=>{delete c[f]});const u=o.filter(f=>!i.has(f)),p=i.has(s)?u[0]:s;e({packs:c,packOrder:u,currentPack:p,currentIndex:0}),t().saveToStorage(),n.forEach(()=>jo())},renamePack:(n,r)=>{const{packs:o,packOrder:s,currentPack:l}=t();if(!o[n]||o[r]||!r.trim())return;const i={...o};i[r]=i[n],delete i[n];const c=s.map(u=>u===n?r:u);e({packs:i,packOrder:c,currentPack:l===n?r:l}),t().saveToStorage()},reorderPacks:n=>{e({packOrder:n}),t().saveToStorage()},clearAllPacks:()=>{e({packs:{Default:[{text:"",rating:0}]},packOrder:["Default"],currentPack:"Default",currentIndex:0}),t().saveToStorage()},setCurrentIndex:n=>{e({currentIndex:n}),t().saveToStorage()},addPrompt:()=>{const{packs:n,currentPack:r}=t(),o=n[r]||[];e({packs:{...n,[r]:[...o,{text:"",rating:0}]},currentIndex:o.length}),t().saveToStorage(),Ol()},removePrompt:()=>{const{packs:n,currentPack:r,currentIndex:o}=t(),s=n[r]||[];if(s.length<=1)return;const l=s.filter((c,u)=>u!==o),i=Math.min(o,l.length-1);e({packs:{...n,[r]:l},currentIndex:i}),t().saveToStorage(),Oo()},updatePromptText:n=>{const{packs:r,currentPack:o,currentIndex:s}=t(),l=[...r[o]||[]];l.length===0||!l[s]||(l[s]={...l[s],text:n},e({packs:{...r,[o]:l}}),t().saveToStorage())},updatePromptRating:n=>{const{packs:r,currentPack:o,currentIndex:s}=t(),l=[...r[o]||[]];l.length===0||!l[s]||(l[s]={...l[s],rating:n},e({packs:{...r,[o]:l}}),t().saveToStorage(),mh(n))},nextPrompt:()=>{const{currentIndex:n}=t(),r=t().getCurrentPromptCount();if(r===0||n>=r-1)return;const o=n+1;e({currentIndex:o}),t().saveToStorage()},prevPrompt:()=>{const{currentIndex:n}=t();if(t().getCurrentPromptCount()===0||n<=0)return;const o=n-1;e({currentIndex:o}),t().saveToStorage()},reorderPrompts:(n,r,o)=>{const{packs:s}=t();if(r===o||!s[n])return;const l=[...s[n]],[i]=l.splice(r,1);l.splice(o,0,i),e({packs:{...s,[n]:l}}),t().saveToStorage()},movePromptToPack:(n,r,o)=>{const{packs:s}=t();if(!s[r]||!s[o]||r===o)return;const l=[...s[r]],i=l[n];if(!i)return;l.splice(n,1);const c=l.length===0?[{text:"",rating:0}]:l,u=[...s[o],i];e({packs:{...s,[r]:c,[o]:u}}),t().saveToStorage()},deletePromptByIndex:(n,r)=>{const{packs:o,currentPack:s}=t(),l=o[n];if(!l||r<0||r>=l.length)return;if(l.length<=1){const u={packs:{...o,[n]:[{text:"",rating:0}]}};n===s&&(u.currentIndex=0),e(u),t().saveToStorage(),Oo();return}const i=l.filter((u,p)=>p!==r),c={packs:{...o,[n]:i}};n===s&&(c.currentIndex=0),e(c),t().saveToStorage(),Oo()},deletePromptsByIndices:(n,r)=>{const{packs:o,currentPack:s}=t(),l=o[n];if(!l||r.length===0)return;const i=new Set(r),c=l.filter((f,m)=>!i.has(m)),u=c.length===0?[{text:"",rating:0}]:c,p={packs:{...o,[n]:u}};n===s&&(p.currentIndex=0),e(p),t().saveToStorage(),r.forEach(()=>Oo())},updatePromptByIndex:(n,r,o)=>{const{packs:s}=t(),l=s[n];if(!l||r<0||r>=l.length)return;const i=[...l];i[r]={...i[r],text:o},e({packs:{...s,[n]:i}}),t().saveToStorage()},addPromptToPack:(n,r="")=>{const{packs:o}=t(),s=o[n];if(!s)return;const l={text:r,rating:0};let i=s;r.trim()&&(i=s.filter(u=>u.text.trim()!==""));const c=[...i,l];e({packs:{...o,[n]:c}}),t().saveToStorage(),Ol()},duplicatePromptByIndex:(n,r)=>{const{packs:o}=t(),s=o[n];if(!s||r<0||r>=s.length)return;const l=s[r],i={text:l.text,rating:l.rating},c=[...s];c.splice(r+1,0,i),e({packs:{...o,[n]:c}}),t().saveToStorage(),Ol()},getCurrentPrompt:()=>{const{packs:n,currentPack:r,currentIndex:o}=t();return!n||!r||!n[r]?null:n[r][o]||null},getCurrentPromptCount:()=>{const{packs:n,currentPack:r}=t();return!n||!r||!n[r]?0:n[r].length},exportCurrentPack:()=>{const{packs:n,currentPack:r}=t(),o=n[r]||[];Wp(r,o),xh(o.length)},importPack:async(n,r)=>{const{packs:o}=t(),s=await Wg(n,r,o);if(s.success&&s.packs){const l={packs:s.packs,currentIndex:0};if(s.packName)l.currentPack=s.packName;else if(s.importedCount&&s.importedCount>1){const i=Object.keys(s.packs).filter(c=>!o[c]);i.length>0&&(l.currentPack=i[0])}if(e(l),await t().saveToStorage(),await t().loadFromStorage(),s.packName){const i=s.packs[s.packName]||[];yh(r,i.length)}return{success:!0,packName:s.packName,importedCount:s.importedCount}}return{success:!1,error:s.error}},loadPostState:async n=>{const r=await Qg(n);if(r){const{packs:o}=t(),s=o[r.currentPack]?r.currentPack:Object.keys(o)[0],l=o[s]||[],i=Math.min(r.currentIndex,Math.max(0,l.length-1));e({currentPack:s,currentIndex:i})}},savePostState:async n=>{const{currentPack:r,currentIndex:o}=t();await qg(n,{currentPack:r,currentIndex:o})}})),qr=wt()(io(e=>({userId:null,isLoading:!1,error:null,loadUserId:async()=>{e({isLoading:!0,error:null});try{const t=await co(1);if(t.posts&&t.posts.length>0){const n=t.posts[0].userId;e({userId:n,isLoading:!1}),console.log("[UserStore] Loaded userId from API:",n)}else e({error:"No posts found",isLoading:!1}),console.warn("[UserStore] No posts found to extract userId")}catch(t){console.error("[UserStore] Failed to load userId from API:",t),e({error:t instanceof Error?t.message:"Failed to load user ID",isLoading:!1})}},setUserId:t=>e({userId:t}),clearUserId:()=>e({userId:null})}),{name:"imaginegodmode-user-id",partialize:e=>({userId:e.userId})})),jl=15,Js=wt()(io((e,t)=>({jobs:[],isProcessing:!1,currentJobId:null,addJob:n=>{const r={...n,id:`job_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),status:"pending",progress:0,processedItems:0};e(l=>({jobs:[...l.jobs,r]})),console.log(`[JobQueue] Added ${r.type} job: ${r.id} (${r.totalItems} items)`);const{isProcessing:o,startProcessing:s}=t();return o||s(),r.id},removeJob:n=>{e(r=>({jobs:r.jobs.filter(o=>o.id!==n)}))},clearCompleted:()=>{e(n=>({jobs:n.jobs.filter(r=>r.status!=="completed")}))},clearAll:()=>{e({jobs:[],isProcessing:!1,currentJobId:null})},startProcessing:()=>{const{isProcessing:n,_processNextJob:r}=t();n||(console.log("[JobQueue] Starting job processing"),e({isProcessing:!0}),r())},stopProcessing:()=>{console.log("[JobQueue] Stopping job processing"),e({isProcessing:!1,currentJobId:null})},_updateJobProgress:(n,r,o)=>{e(s=>({jobs:s.jobs.map(l=>l.id===n?{...l,processedItems:r,progress:Math.min(100,Math.max(0,o))}:l)}))},_updateJobStatus:(n,r,o)=>{e(s=>({jobs:s.jobs.map(l=>l.id===n?{...l,status:r,error:o,progress:r==="completed"?100:l.progress}:l)}))},_processNextJob:async()=>{const{jobs:n,isProcessing:r}=t();if(!r){console.log("[JobQueue] Processing stopped");return}const o=n.find(i=>i.status==="pending");if(!o){console.log("[JobQueue] No pending jobs, stopping"),e({isProcessing:!1,currentJobId:null});return}console.log(`[JobQueue] Processing job: ${o.type} (${o.id})`),e({currentJobId:o.id}),t()._updateJobStatus(o.id,"processing");try{switch(o.type){case"process-for-upscale":await t()._processProcessForUpscaleJob(o);break;case"upscale":await t()._processUpscaleJob(o);break;case"download":await t()._processDownloadJob(o);break;case"unlike":await t()._processUnlikeJob(o);break;case"relike":await t()._processRelikeJob(o);break;case"purge-liked":case"purge-archive":case"purge-packs":await t()._processPurgeJob(o);break}if(t()._updateJobStatus(o.id,"completed"),console.log(`[JobQueue] Job completed: ${o.type} (${o.id})`),o.type==="upscale"){const{autoDownload:i}=re.getState();if(i){const c=o.data,u=c.hdUrlMap||{},p=Object.values(u).filter(Boolean);if(p.length>0){console.log(`[JobQueue] Auto-download enabled: creating download job for ${p.length} HD videos`);const f=p.map((m,x)=>{const v=m.split("/"),S=v[v.length-1].split("?")[0]||`hd_video_${Date.now()}_${x}.mp4`;return{url:m,filename:S}});t().addJob({type:"download",totalItems:f.length,data:{type:"download",postIds:c.postIds,items:f}})}}}(o.type==="unlike"||o.type==="relike")&&(console.log(`[JobQueue] ${o.type} job completed, refreshing window in 2 seconds...`),setTimeout(()=>{window.location.reload()},2e3))}catch(i){const c=i instanceof Error?i.message:"Unknown error";console.error(`[JobQueue] Job failed: ${o.type} (${o.id})`,i),t()._updateJobStatus(o.id,"failed",c)}const{isProcessing:s,_processNextJob:l}=t();s&&(e({currentJobId:null}),l())},_processProcessForUpscaleJob:async n=>{const r=n.data,{postIds:o}=r;console.log(`[JobQueue] Processing ${o.length} posts for upscaling`);const s=[],l=[];for(let i=0;i<o.length;i++){const{isProcessing:c}=t();if(!c)throw new Error("Processing stopped by user");const u=o[i];try{console.log(`[JobQueue] Fetching post ${i+1}/${o.length}: ${u}`);const f=await Oi(u);if(f!=null&&f.post){const m=cr(f);m.videosToUpscale.length>0&&(s.push(...m.videosToUpscale),l.push(u),console.log(`[JobQueue] Found ${m.videosToUpscale.length} videos to upscale in post ${u}`))}}catch(f){console.error(`[JobQueue] Failed to process post ${u}:`,f)}const p=(i+1)/o.length*100;t()._updateJobProgress(n.id,i+1,p),i<o.length-1&&await cn(100)}s.length>0?(console.log(`[JobQueue] Creating upscale job for ${s.length} videos from ${l.length} posts`),t().addJob({type:"upscale",totalItems:s.length,data:{type:"upscale",postIds:l,videoIds:s}})):console.log("[JobQueue] No videos found to upscale"),console.log(`[JobQueue] Processing complete: ${s.length} videos queued for upscaling`)},_processUpscaleJob:async n=>{const r=n.data,{videoIds:o}=r,s=o.length;console.log(`[JobQueue] Upscaling ${s} videos`);const l={};for(let i=0;i<s;i+=jl){const{isProcessing:c}=t();if(!c)throw new Error("Processing stopped by user");const u=Math.min(i+jl,s),p=o.slice(i,u);console.log(`[JobQueue] Processing batch ${Math.floor(i/jl)+1}: ${p.length} videos`);const f=[];for(let x=0;x<p.length;x++){const v=p[x],y=Kp(v).then(S=>{const g=i+x+1,d=g/s*100;t()._updateJobProgress(n.id,g,d),S.success||console.error(`[JobQueue] Upscale failed for ${v}`)});f.push(y),x<p.length-1&&await new Promise(S=>setTimeout(S,Zo(St.UPSCALE_DELAY_MIN,St.UPSCALE_DELAY_MAX)))}await Promise.all(f),console.log("[JobQueue] Batch upscale requests sent, polling for HD URLs...");const m=await _h(r.postIds,p);Object.assign(l,m)}n.data.hdUrlMap=l,console.log(`[JobQueue] Upscale complete: ${Object.keys(l).length}/${s} HD URLs obtained`)},_processDownloadJob:async n=>{const r=n.data,{items:o}=r;console.log(`[JobQueue] Downloading ${o.length} files`);for(let l=0;l<o.length;l++){const{isProcessing:i}=t();if(!i)throw new Error("Processing stopped by user");const c=o[l];console.log(`[JobQueue] Downloading ${l+1}/${o.length}: ${c.filename}`);try{const p=await Xp([c.url]);if(p.success)c.status="completed",console.log(`[JobQueue] Downloaded: ${c.filename}`);else if(c.status="failed",console.error(`[JobQueue] Download failed: ${c.filename}`,p.error),p.error&&p.error.includes("Extension was reloaded or updated"))throw console.warn("[JobQueue] Extension context invalidated - stopping job processing"),new Error("Extension context invalidated. Please refresh the page to continue.")}catch(p){c.status="failed";const f=p instanceof Error?p.message:"Unknown error";if(console.error(`[JobQueue] Download error: ${c.filename}`,f),f.includes("Extension context invalidated")||f.includes("Extension was reloaded or updated"))throw p}const u=(l+1)/o.length*100;t()._updateJobProgress(n.id,l+1,u),l<o.length-1&&await cn(St.DOWNLOAD_DELAY)}const s=o.filter(l=>l.status==="completed").length;console.log(`[JobQueue] Download complete: ${s}/${o.length} successful`)},_processUnlikeJob:async n=>{const r=n.data,{postIds:o,posts:s}=r;console.log(`[JobQueue] Unliking ${o.length} posts`),console.log("[JobQueue] Posts data available:",s.length);const l=[];for(let i=0;i<o.length;i++){const{isProcessing:c}=t();if(!c)throw new Error("Processing stopped by user");const u=o[i],p=s.find(m=>m.id===u);p||console.error(`[JobQueue] Post data not found for ${u}`);try{const m=await Ia(u);if(m.success&&p){const x=zg(p);l.push(x),console.log(`[JobQueue] Unliked post ${i+1}/${o.length}: ${u}`,x)}else console.error(`[JobQueue] Unlike failed for ${u}`,{success:m.success,hasPost:!!p,error:m.error})}catch(m){console.error(`[JobQueue] Unlike error for ${u}:`,m)}const f=(i+1)/o.length*100;t()._updateJobProgress(n.id,i+1,f),await cn(50),i<o.length-1&&await cn(fu())}if(console.log(`[JobQueue] Preparing to save ${l.length} posts to archive`),l.length>0){const{userId:i}=qr.getState();console.log("[JobQueue] Current userId:",i),i?await Jp(l,i)?console.log(`[JobQueue]  Successfully saved ${l.length} posts to unliked archive for user ${i}`):console.error(`[JobQueue]  Failed to save unliked posts to archive for user ${i}`):console.error("[JobQueue] No userId available - cannot save to archive")}else console.warn("[JobQueue] No posts to save to archive (0 successful unlikes)");console.log(`[JobQueue] Unlike complete: ${l.length}/${o.length} successful`)},_processRelikeJob:async n=>{const r=n.data,{postIds:o}=r;console.log(`[JobQueue] Re-liking ${o.length} posts`);const s=[];for(let l=0;l<o.length;l++){const{isProcessing:i}=t();if(!i)throw new Error("Processing stopped by user");const c=o[l];try{(await Lg(c)).success?(s.push(c),console.log(`[JobQueue] Re-liked post ${l+1}/${o.length}: ${c}`)):console.error(`[JobQueue] Re-like failed for ${c}`)}catch(p){console.error(`[JobQueue] Re-like error for ${c}:`,p)}const u=(l+1)/o.length*100;t()._updateJobProgress(n.id,l+1,u),await cn(50),l<o.length-1&&await cn(fu())}if(s.length>0){const{userId:l}=qr.getState();await eh(s,l??void 0)?console.log(`[JobQueue] Removed ${s.length} posts from unliked archive`):console.error("[JobQueue] Failed to remove re-liked posts from archive")}console.log(`[JobQueue] Re-like complete: ${s.length}/${o.length} successful`)},_processPurgeJob:async n=>{const r=n.data,{category:o}=r;console.log(`[JobQueue] Purging ${o}`),t()._updateJobProgress(n.id,0,0),await cn(800);try{switch(o){case"liked-posts":{console.log("[JobQueue] Fetching liked posts for purge...");const s=await co(1e3);if(s.posts&&s.posts.length>0){console.log(`[JobQueue] Unliking ${s.posts.length} liked posts...`);for(const l of s.posts)try{await Ia(l.id)}catch(i){console.error(`[JobQueue] Failed to unlike post ${l.id}:`,i)}}console.log("[JobQueue] Purged liked posts");break}case"unliked-archive":{await Qp(),console.log("[JobQueue] Purged unliked archive");break}case"prompt-packs":{Be.getState().clearAllPacks(),console.log("[JobQueue] Purged prompt packs");break}}t()._updateJobProgress(n.id,1,100)}catch(s){throw console.error(`[JobQueue] Purge failed for ${o}:`,s),s}}}),{name:"imaginegodmode-job-queue",partialize:e=>({jobs:e.jobs.filter(t=>t.status!=="processing")})}));async function _h(e,t){const n={};let o=0;for(;Object.keys(n).length<t.length&&o<60;){for(const s of e)try{const l=await Ws(s);if(l.success&&l.data){const i=cr(l.data);for(const c of i.mediaUrls)c.id&&t.includes(c.id)&&c.isHD&&c.type==="video"&&!n[c.id]&&(n[c.id]=c.url)}}catch(l){console.error("[JobQueue] Poll error:",l)}Object.keys(n).length<t.length&&(await new Promise(s=>setTimeout(s,Zo(St.UPSCALE_REFETCH_MIN,St.UPSCALE_REFETCH_MAX))),o++)}return n}const uo=wt((e,t)=>({posts:[],currentPostId:null,setPosts:n=>e({posts:n}),setCurrentPostId:n=>e({currentPostId:n}),ensureCurrentPostInList:n=>{const{posts:r}=t();r.some(s=>s.id===n.id)||e({posts:[...r,n]})},getNextPostId:()=>{const{posts:n,currentPostId:r}=t();if(!r||n.length===0)return null;const o=n.findIndex(l=>l.id===r);return o===-1||o>=n.length-1?null:n[o+1].id},getPrevPostId:()=>{const{posts:n,currentPostId:r}=t();if(!r||n.length===0)return null;const o=n.findIndex(s=>s.id===r);return o<=0?null:n[o-1].id},getCurrentPostIndex:()=>{const{posts:n,currentPostId:r}=t();return!r||n.length===0?-1:n.findIndex(o=>o.id===r)}}));var bl={exports:{}},Ll,xu;function Ih(){if(xu)return Ll;xu=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ll=e,Ll}var Ul,yu;function Oh(){if(yu)return Ul;yu=1;var e=Ih();function t(){}function n(){}return n.resetWarningCache=t,Ul=function(){function r(l,i,c,u,p,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function o(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Ul}var ku;function jh(){return ku||(ku=1,bl.exports=Oh()()),bl.exports}var bh=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(r,o,s){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(1&o&&(r=n(r)),8&o||4&o&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&o&&typeof r!="string")for(var l in r)n.d(s,l,(function(i){return r[i]}).bind(null,l));return s},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=2)}([function(e,t){e.exports=jh()},function(e,t){e.exports=P},function(e,t,n){n.r(t);var r=n(1),o=n(0),s=function(){return(s=Object.assign||function(v){for(var y,S=1,g=arguments.length;S<g;S++)for(var d in y=arguments[S])Object.prototype.hasOwnProperty.call(y,d)&&(v[d]=y[d]);return v}).apply(this,arguments)},l=function(v,y){var S={};for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&y.indexOf(g)<0&&(S[g]=v[g]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(g=Object.getOwnPropertySymbols(v);d<g.length;d++)y.indexOf(g[d])<0&&Object.prototype.propertyIsEnumerable.call(v,g[d])&&(S[g[d]]=v[g[d]])}return S},i=0,c=r.forwardRef(function(v,y){var S=v.title,g=S===void 0?null:S,d=v.description,h=d===void 0?null:d,C=v.size,w=C===void 0?null:C,N=v.color,k=N===void 0?"currentColor":N,E=v.horizontal,T=E===void 0?null:E,D=v.vertical,R=D===void 0?null:D,$=v.rotate,V=$===void 0?null:$,I=v.spin,B=I===void 0?null:I,F=v.style,Y=F===void 0?{}:F,M=v.children,U=l(v,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);i++;var H,O=B!==null&&B,A=r.Children.map(M,function(J){var z=J;O!==!0&&(O=(B===null?z.props.spin:B)===!0);var oe=z.props.size;typeof w=="number"&&typeof z.props.size=="number"&&(oe=z.props.size/w);var xe={size:oe,color:k===null?z.props.color:k,horizontal:T===null?z.props.horizontal:T,vertical:R===null?z.props.vertical:R,rotate:V===null?z.props.rotate:V,spin:B===null?z.props.spin:B,inStack:!0};return r.cloneElement(z,xe)});w!==null&&(Y.width=typeof w=="string"?w:1.5*w+"rem");var j,X="stack_labelledby_"+i,_="stack_describedby_"+i;if(g)H=h?X+" "+_:X;else if(j="presentation",h)throw new Error("title attribute required when description is set");return r.createElement("svg",s({ref:y,viewBox:"0 0 24 24",style:Y,role:j,"aria-labelledby":H},U),g&&r.createElement("title",{id:X},g),h&&r.createElement("desc",{id:_},h),O&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),A)});c.displayName="Stack",c.propTypes={size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),children:o.oneOfType([o.arrayOf(o.node),o.node]).isRequired,className:o.string,style:o.object},c.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=c;n.d(t,"Icon",function(){return x}),n.d(t,"Stack",function(){return u});var p=function(){return(p=Object.assign||function(v){for(var y,S=1,g=arguments.length;S<g;S++)for(var d in y=arguments[S])Object.prototype.hasOwnProperty.call(y,d)&&(v[d]=y[d]);return v}).apply(this,arguments)},f=function(v,y){var S={};for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&y.indexOf(g)<0&&(S[g]=v[g]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(g=Object.getOwnPropertySymbols(v);d<g.length;d++)y.indexOf(g[d])<0&&Object.prototype.propertyIsEnumerable.call(v,g[d])&&(S[g[d]]=v[g[d]])}return S},m=0,x=r.forwardRef(function(v,y){var S=v.path,g=v.id,d=g===void 0?++m:g,h=v.title,C=h===void 0?null:h,w=v.description,N=w===void 0?null:w,k=v.size,E=k===void 0?null:k,T=v.color,D=T===void 0?"currentColor":T,R=v.horizontal,$=R!==void 0&&R,V=v.vertical,I=V!==void 0&&V,B=v.rotate,F=B===void 0?0:B,Y=v.spin,M=Y!==void 0&&Y,U=v.style,H=U===void 0?{}:U,O=v.inStack,A=O!==void 0&&O,j=f(v,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),X={},_=[];E!==null&&(A?_.push("scale("+E+")"):(H.width=typeof E=="string"?E:1.5*E+"rem",H.height=H.width)),$&&_.push("scaleX(-1)"),I&&_.push("scaleY(-1)"),F!==0&&_.push("rotate("+F+"deg)"),D!==null&&(X.fill=D);var J=r.createElement("path",p({d:S,style:X},A?j:{})),z=J;_.length>0&&(H.transform=_.join(" "),H.transformOrigin="center",A&&(z=r.createElement("g",{style:H},J,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var oe,xe=z,Me=M===!0||typeof M!="number"?2:M,ot=!A&&($||I);if(Me<0&&(ot=!ot),M&&(xe=r.createElement("g",{style:{animation:"spin"+(ot?"-inverse":"")+" linear "+Math.abs(Me)+"s infinite",transformOrigin:"center"}},z,!($||I||F!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),A)return xe;var an,Ut="icon_labelledby_"+d,Rn="icon_describedby_"+d;if(C)oe=N?Ut+" "+Rn:Ut;else if(an="presentation",N)throw new Error("title attribute required when description is set");return r.createElement("svg",p({ref:y,viewBox:"0 0 24 24",style:H,role:an,"aria-labelledby":oe},j),C&&r.createElement("title",{id:Ut},C),N&&r.createElement("desc",{id:Rn},N),!A&&M&&(ot?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),xe)});x.displayName="Icon",x.propTypes={path:o.string.isRequired,size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),style:o.object,inStack:o.bool,className:o.string},x.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=x}]);const Lh=Ha(bh),W=({path:e,size:t=1,className:n="",color:r})=>a.jsx(Lh,{path:e,size:t,className:n,color:r}),po=(e={})=>{const{width:t=80,duration:n=.8,rotation:r=25,opacity:o=60,enableScale:s=!0,scaleFactor:l=1.05,enableShadow:i=!0,shadowBlur:c=20}=e,{getThemeColors:u}=re(),p=u(),[f,m]=P.useState(!1),[x,v]=P.useState(0),y=P.useRef();y.current===void 0&&(y.current=++po.counter);const S=`glowRun-${y.current}`;return{glowStyles:`
    @keyframes ${S} {
      0% {
        left: -150%;
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        left: 150%;
        opacity: 0;
      }
    }
  `,handleMouseEnter:(w,N=!1)=>{N||(m(!0),v(k=>k+1),w.currentTarget.style.backgroundColor=`${p.BACKGROUND_LIGHT}aa`,w.currentTarget.style.color=p.TEXT_HOVER,i&&(w.currentTarget.style.boxShadow=`0 0 ${c}px ${p.TEXT_HOVER}40, 0 0 ${c*2}px ${p.TEXT_HOVER}20`),s&&(w.currentTarget.style.transform=`scale(${l})`))},handleMouseLeave:(w,N=!1)=>{N||(m(!1),w.currentTarget.style.backgroundColor=`${p.BACKGROUND_MEDIUM}aa`,w.currentTarget.style.color=p.TEXT_SECONDARY,w.currentTarget.style.boxShadow="none",s&&(w.currentTarget.style.transform="scale(1)"))},GlowOverlay:()=>f?a.jsx("span",{className:"absolute pointer-events-none",style:{background:`linear-gradient(90deg, transparent 0%, ${p.TEXT_HOVER}${o} 50%, transparent 100%)`,width:`${t}px`,height:"200%",top:"-50%",left:"-150%",transform:`rotate(${r}deg)`,animation:`${S} ${n}s ease-out forwards`,zIndex:1}},x):null,isHovered:f,animationKey:x}},Qs=(e={})=>{const{width:t=60,duration:n=.8,rotation:r=25,opacity:o=60,enableScale:s=!0,scaleFactor:l=1.03,enableShadow:i=!0,shadowBlur:c=15}=e,{getThemeColors:u}=re(),p=u(),[f,m]=P.useState(null),[x,v]=P.useState({}),y=P.useRef();y.current===void 0&&(y.current=++Qs.counter);const S=`multiGlowRun-${y.current}`;return{glowStyles:`
    @keyframes ${S} {
      0% {
        left: -150%;
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        left: 150%;
        opacity: 0;
      }
    }
  `,handleMouseEnter:(w,N,k=!1,E)=>{k||(m(N),v(T=>({...T,[N]:(T[N]||0)+1})),w.currentTarget.style.backgroundColor=(E==null?void 0:E.backgroundColor)||`${p.BACKGROUND_LIGHT}aa`,w.currentTarget.style.color=(E==null?void 0:E.color)||p.TEXT_HOVER,i&&(w.currentTarget.style.boxShadow=`0 0 ${c}px ${p.TEXT_HOVER}30`),s&&(w.currentTarget.style.transform=`scale(${l})`))},handleMouseLeave:(w,N=!1,k)=>{N||(m(null),w.currentTarget.style.backgroundColor=(k==null?void 0:k.backgroundColor)||`${p.BACKGROUND_MEDIUM}aa`,w.currentTarget.style.color=(k==null?void 0:k.color)||p.TEXT_SECONDARY,w.currentTarget.style.boxShadow="none",s&&(w.currentTarget.style.transform="scale(1)"))},getGlowOverlay:w=>f!==w?null:a.jsx("span",{className:"absolute pointer-events-none",style:{background:`linear-gradient(90deg, transparent 0%, ${p.TEXT_HOVER}${o} 50%, transparent 100%)`,width:`${t}px`,height:"200%",top:"-50%",left:"-150%",transform:`rotate(${r}deg)`,animation:`${S} ${n}s ease-out forwards`}},x[w]),hoveredId:f,animationKeys:x}};po.counter=0;Qs.counter=0;const L=({variant:e="default",icon:t,iconSize:n=.6,iconColor:r,iconClassName:o="",tooltip:s,className:l="",children:i,disabled:c,style:u,onMouseEnter:p,onMouseLeave:f,...m})=>{const{getThemeColors:x}=re(),v=x(),{glowStyles:y,handleMouseEnter:S,handleMouseLeave:g,GlowOverlay:d}=po({enableScale:!1}),h="rounded-full transition-all duration-300 flex items-center justify-center relative overflow-hidden",C={default:"px-3 py-2 text-xs disabled:opacity-30",icon:"w-9 h-9 disabled:opacity-30"},w=r||v.TEXT_SECONDARY,N={backgroundColor:`${v.BACKGROUND_MEDIUM}aa`,color:v.TEXT_SECONDARY,border:`1px solid ${v.BORDER}`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",...u};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:y}),a.jsxs("button",{className:`${h} ${C[e]} ${l}`,disabled:c,style:N,"data-tooltip-content":s,onMouseEnter:k=>{!c&&!l.includes("!bg-white")&&S(k),p==null||p(k)},onMouseLeave:k=>{!c&&!l.includes("!bg-white")&&g(k),f==null||f(k)},...m,children:[!c&&a.jsx(d,{}),a.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[t&&a.jsx(W,{path:t,size:e==="icon"?.8:n,color:w,className:o}),i&&a.jsx("span",{className:t?"ml-1":"",children:i})]})]})]})};var qs="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Su="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",Uh="M3,3H21V7H3V3M4,8H20V21H4V8M9.5,11A0.5,0.5 0 0,0 9,11.5V13H15V11.5A0.5,0.5 0 0,0 14.5,11H9.5Z",Hh="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",Vh="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",tf="M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z",fo="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",nf="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",Zs="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",el="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",rf="M22,16A2,2 0 0,1 20,18H8C6.89,18 6,17.1 6,16V4C6,2.89 6.89,2 8,2H20A2,2 0 0,1 22,4V16M16,20V22H4A2,2 0 0,1 2,20V7H4V20H16M13,14L20,7L18.59,5.59L13,11.17L9.91,8.09L8.5,9.5L13,14Z",$h="M20,16V10H22V16A2,2 0 0,1 20,18H8C6.89,18 6,17.1 6,16V4C6,2.89 6.89,2 8,2H16V4H8V16H20M10.91,7.08L14,10.17L20.59,3.58L22,5L14,13L9.5,8.5L10.91,7.08M16,20V22H4A2,2 0 0,1 2,20V7H4V20H16Z",of="M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z",sf="M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z",Hi="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",ja="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",ba="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",zh="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",mo="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",lf="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",af="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",cf="M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z",Bh="M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z",uf="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",tn="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",Fh="M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8.46,11.88L9.87,10.47L12,12.59L14.12,10.47L15.53,11.88L13.41,14L15.53,16.12L14.12,17.53L12,15.41L9.88,17.53L8.47,16.12L10.59,14L8.46,11.88M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z",Vi="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",Gh="M12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M8 17H16V15H8V17M16 10H13.5V6H10.5V10H8L12 14L16 10Z",$i="M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",Yh="M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8M10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5M12,14C13.75,14 15.29,14.72 16.19,15.81L14.77,17.23C14.32,16.5 13.25,16 12,16C10.75,16 9.68,16.5 9.23,17.23L7.81,15.81C8.71,14.72 10.25,14 12,14Z",Xh="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",Kh="M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M10,15H8V13H10V15M10,11H8V9H10V11M10,7H8V5H10V7M20,15H18V13H20V15M20,11H18V9H20V11M20,7H18V5H20V7Z",df="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",Wh="M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z",pf="M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9",Jh="M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z",Qh="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",Ns="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z",zi="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C8.17,3 8.82,3.12 9.44,3.33L13,9.35L9,14.35L12,21.35V21.35M16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35L11,14.35L15.5,9.35L12.85,4.27C13.87,3.47 15.17,3 16.5,3Z",qh="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",ff="M21,15H23V17H21V15M21,11H23V13H21V11M23,19H21V21C22,21 23,20 23,19M13,3H15V5H13V3M21,7H23V9H21V7M21,3V5H23C23,4 22,3 21,3M1,7H3V9H1V7M17,3H19V5H17V3M17,19H19V21H17V19M3,3C2,3 1,4 1,5H3V3M9,3H11V5H9V3M5,3H7V5H5V3M1,11V19A2,2 0 0,0 3,21H15V11H1M3,19L5.5,15.79L7.29,17.94L9.79,14.72L13,19H3Z",Zh="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",e0="M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z",Mt="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",t0="M11 7L9.6 8.4L12.2 11H2V13H12.2L9.6 15.6L11 17L16 12L11 7M20 19H12V21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3H12V5H20V19Z",Rs="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",tl="M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,12.35L13.85,13.36Z",n0="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",r0="M14,19H18V5H14M6,19H10V5H6V19Z",mf="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",Bi="M8,5.14V19.14L19,12.14L8,5.14Z",Fi="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",o0="M10.59,12L14.59,8H11V6H18V13H16V9.41L12,13.41V16H20V4H8V12H10.59M22,2V18H12V22H2V12H6V2H22M10,14H4V20H10V14Z",s0="M4,3H5V5H3V4A1,1 0 0,1 4,3M20,3A1,1 0 0,1 21,4V5H19V3H20M15,5V3H17V5H15M11,5V3H13V5H11M7,5V3H9V5H7M21,20A1,1 0 0,1 20,21H19V19H21V20M15,21V19H17V21H15M11,21V19H13V21H11M7,21V19H9V21H7M4,21A1,1 0 0,1 3,20V19H5V21H4M3,15H5V17H3V15M21,15V17H19V15H21M3,11H5V13H3V11M21,11V13H19V11H21M3,7H5V9H3V7M21,7V9H19V7H21Z",Gi="M9,9H15V15H9M7,17H17V7H7M15,5H17V3H15M15,21H17V19H15M19,17H21V15H19M19,9H21V7H19M19,21A2,2 0 0,0 21,19H19M19,13H21V11H19M11,21H13V19H11M9,3H7V5H9M3,17H5V15H3M5,21V19H3A2,2 0 0,0 5,21M19,3V5H21A2,2 0 0,0 19,3M13,3H11V5H13M3,9H5V7H3M7,21H9V19H7M3,13H5V11H3M3,5H5V3A2,2 0 0,0 3,5Z",gf="M1,4.27L2.28,3L21,21.72L19.73,23L17,20.27V21H15V19H15.73L5,8.27V9H3V7H3.73L1,4.27M20,3A1,1 0 0,1 21,4V5H19V3H20M15,5V3H17V5H15M11,5V3H13V5H11M7,5V3H9V5H7M11,21V19H13V21H11M7,21V19H9V21H7M4,21A1,1 0 0,1 3,20V19H5V21H4M3,15H5V17H3V15M21,15V17H19V15H21M3,11H5V13H3V11M21,11V13H19V11H21M21,7V9H19V7H21Z",hf="M16,18H18V6H16M6,18L14.5,12L6,6V18Z",vf="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",xf="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",l0="M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z",a0="M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",i0="M17,14H19V17H22V19H19V22H17V19H14V17H17V14M12,17V15H7V17H12M17,11H7V13H14.69C13.07,14.07 12,15.91 12,18C12,19.09 12.29,20.12 12.8,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19A2,2 0 0,1 21,5V12.8C20.12,12.29 19.09,12 18,12L17,12.08V11M17,9V7H7V9H17Z",c0="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z",yf="M18 5H6V7H18M6 9H18V11H6M2 12H4V17H20V12H22V17A2 2 0 0 1 20 19H4A2 2 0 0 1 2 17M18 13H6V15H18Z",As="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",u0="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z";const d0=({option:e,index:t,isSelected:n,onClick:r,onMove:o,colors:s})=>{const[l,i]=P.useState(!1),[c,u]=P.useState(!1),p=y=>{i(!0),y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",t.toString())},f=()=>{i(!1)},m=y=>{y.preventDefault(),y.dataTransfer.dropEffect="move",u(!0)},x=()=>{u(!1)},v=y=>{y.preventDefault(),u(!1);const S=parseInt(y.dataTransfer.getData("text/plain"),10);!isNaN(S)&&S!==t&&o(S,t)};return a.jsxs("button",{type:"button",draggable:!0,onDragStart:p,onDragEnd:f,onDragOver:m,onDragLeave:x,onDrop:v,onClick:r,className:"w-full px-3 py-2 text-sm text-left transition-all duration-300 flex items-center gap-2",style:{backgroundColor:c?s.BACKGROUND_DARK:n?s.BACKGROUND_LIGHT:s.BACKGROUND_MEDIUM,color:n&&s.TEXT_HOVER||s.TEXT_PRIMARY,border:"none",opacity:l?.5:1,cursor:l?"grabbing":"pointer"},children:[a.jsx(W,{path:$i,size:.5,color:s.TEXT_SECONDARY}),a.jsx("span",{className:"flex-1",children:e.label})]})},p0=({value:e,onChange:t,options:n,onReorder:r,disabled:o=!1,className:s=""})=>{const{getThemeColors:l}=re(),i=l(),[c,u]=P.useState(!1),[p,f]=P.useState(n),m=P.useRef(null),x=P.useRef(null),[v,y]=P.useState({top:0,left:0,width:0}),S=po({scaleFactor:1.02});P.useEffect(()=>{f(n)},[n]);const g=P.useMemo(()=>{const k="imaginegodmode-draggable-dropdown-portal";let E=document.getElementById(k);if(!E){E=document.createElement("div"),E.id=k,E.style.position="fixed",E.style.top="0",E.style.left="0",E.style.zIndex=String(yn.DROPDOWN),E.style.pointerEvents="none";const T=document.getElementById("imaginegodmode-root");T?T.appendChild(E):document.body.appendChild(E)}return E},[]),d=p.find(k=>k.value===e),h=(d==null?void 0:d.label)||"";P.useEffect(()=>{if(c&&x.current){const k=()=>{if(x.current){const E=x.current.getBoundingClientRect();y({top:E.bottom+4,left:E.left,width:E.width})}};return k(),window.addEventListener("scroll",k,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",k)}}},[c]),P.useEffect(()=>{const k=E=>{m.current&&!m.current.contains(E.target)&&x.current&&!x.current.contains(E.target)&&u(!1)};return c&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[c]);const C=k=>{t(k),u(!1)},w=()=>{o||u(!c)},N=(k,E)=>{const T=[...p],[D]=T.splice(k,1);T.splice(E,0,D),f(T),r&&r(T.map(R=>R.value))};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:S.glowStyles}),a.jsx("div",{className:`relative ${s}`,children:a.jsxs("button",{ref:x,type:"button",onClick:w,disabled:o,className:"pl-3 pr-8 py-2 rounded-full text-sm cursor-pointer focus:outline-none transition-all duration-300 text-left relative block overflow-hidden",style:{backgroundColor:i.BACKGROUND_MEDIUM,color:i.TEXT_PRIMARY,border:`1px solid ${i.BORDER}`,opacity:o?.5:1,cursor:o?"not-allowed":"pointer",width:"100%"},onMouseEnter:k=>{o||(S.handleMouseEnter(k),k.currentTarget.style.backgroundColor=i.BACKGROUND_LIGHT,k.currentTarget.style.color=i.TEXT_PRIMARY)},onMouseLeave:k=>{o||(S.handleMouseLeave(k),k.currentTarget.style.backgroundColor=i.BACKGROUND_MEDIUM,k.currentTarget.style.color=i.TEXT_PRIMARY)},children:[!o&&a.jsx(S.GlowOverlay,{}),a.jsx("span",{className:"relative z-10",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",paddingRight:"8px"},children:h}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:a.jsx(W,{path:Hi,size:.6,color:i.TEXT_PRIMARY,className:`transition-transform duration-200 ${c?"rotate-180":""}`})})]})}),c&&ao.createPortal(a.jsx("div",{ref:m,className:"rounded-lg shadow-lg overflow-hidden",style:{position:"absolute",top:`${v.top}px`,left:`${v.left}px`,width:`${v.width}px`,pointerEvents:"auto",backgroundColor:i.BACKGROUND_MEDIUM,border:`1px solid ${i.BORDER}`,maxHeight:"200px",overflowY:"auto"},children:p.map((k,E)=>a.jsx(d0,{option:k,index:E,isSelected:k.value===e,onClick:()=>C(k.value),onMove:N,colors:i},k.value))}),g)]})},f0={prompt:"Prompt",ops:"Ops",settings:"Settings",help:"Help",queue:"Queue",queueTooltip:"Job Queue"},m0={cancel:"Cancel",delete:"Delete",import:"Import",export:"Export",add:"Add",remove:"Remove",copy:"Copy",make:"Make",download:"Download",upscale:"Upscale",paste:"Paste",current:"Current",version:"Version",confirm:"Confirm",close:"Close",processing:"Processing",selectAll:"Select All",deselectAll:"Deselect All"},g0={collapseTooltip:"Collapse panel",expandTooltip:"Expand panel",authorCredit:"by b2kdaman"},h0={placeholder:"Enter your prompt...",toTooltip:"Replace current prompt with this one",fromTooltip:"Save current prompt to this slot",copyTooltip:"Copy this prompt to clipboard",addTooltip:"Add new prompt slot",removeTooltip:"Delete this prompt slot",makeTooltip:"Fill prompt and click Make button",rating:"Rate this prompt"},v0={theme:"Theme",size:"Size",language:"Language",autoDownload:"Auto Download",rememberPostState:"Remember Pack Per Post",simpleShortcut:"Simple Shortcut",hideUnsave:"Hide Unsave",enableSound:"Enable Sound",globalPromptAddon:"Global Prompt Addon",globalPromptAddonPlaceholder:"Enter text to append to all prompts...",dataManagement:"Data Management",importMode:"Pack Import Mode",importModeAdd:"Add",importModeReplace:"Replace",purge:"Purge",purgeAllData:"Purge All Data",purgeClickHint:"Click 5 times to activate purge sequence",themes:{dark:"Dark",light:"Light",dracula:"Dracula",winamp:"Winamp",limewire:"LimeWire",steam:"Steam",discord:"Discord"},sizes:{tiny:"Tiny (70%)",small:"Small (85%)",medium:"Medium (100%)",large:"Large (115%)"},languages:{en:"English",es:"Spanish",ru:"Russian"}},x0={noPostId:"No post ID found in URL",fetchingPost:"Fetching post data...",foundMedia:"Found {{count}} media ({{hdCount}} HD videos)",upscaling:"Upscaling {{current}}/{{total}}...",upscaled:"Upscaled {{count}}/{{total}}",downloading:"Downloading...",downloaded:"Downloaded {{count}} files",upscaleTooltip:"Upscale videos to HD quality",downloadTooltip:"Download all media files",ready:"Ready",waitingForPost:"Waiting for post..."},y0={availableFeatures:"Available Features",keyboardShortcuts:"Keyboard Shortcuts",about:"About",features:{savePrompts:"Save and organize prompts in packs",ratePrompts:"Rate prompts with star ratings",importExport:"Import/export prompt packs as JSON",upscale:"Upscale videos to HD quality",autoDownload:"Auto-download generated media",keyboardShortcuts:"Full keyboard shortcut support",themes:"Multiple color themes and UI sizes"},shortcuts:{makeVideo:"Make a Video",copyMake:"Copy & Make",navigatePrompts:"Navigate Prompts",togglePanel:"Toggle Panel",switchTabs:"Switch Tabs"},aboutText:"ImagineGodMode helps you manage video generation prompts with features like saving prompt packs, rating, importing/exporting, upscaling videos to HD, and auto-downloading media.",tooltips:{crossBrowser:"Works seamlessly on both Firefox and Chrome browsers",saveOrganize:"Create multiple packs to organize your prompts by theme or project",packManagement:"Add new packs, delete existing ones, and easily switch between them",ratePrompts:"Click stars to rate your prompts from 1-5 stars for easy quality tracking",arrowKeys:"Use left/right arrow keys to quickly browse through videos",importExport:"Share packs with others or backup your prompts as JSON files",aiGenerate:"Use Grok AI to generate entire prompt packs from templates",downloadMedia:"Automatically download all images and HD videos from a post",parallelUpscale:"Upscale multiple videos to HD quality simultaneously for faster processing",bulkOperations:"Perform delete, upscale, relike, or unlike actions on multiple posts at once",purgeData:"Completely wipe all extension data with a secure confirmation sequence",batchSelection:"Hold Shift and click to select multiple items in bulk operations",makeNext:"Automatically apply prompt and navigate to next post in sequence",realtimeProgress:"See live progress bar while videos are generating",playPause:"Control video playback with play/pause button or spacebar",fullscreen:"Watch videos in fullscreen mode by pressing F or clicking the button",hideUnsave:"Remove the unsave button from the UI for cleaner interface",themeCustomization:"Choose from 7 different themes to match your style",uiScaling:"Scale the entire UI from 70% (Tiny) to 115% (Large)",autoDownloadMedia:"Enable automatic downloads when video generation completes",multiLanguage:"Switch between English, Spanish, and Russian languages"}},k0={addPackTooltip:"Add new pack",deletePackTooltip:"Delete current pack (double-click)",cannotDeleteLast:"Cannot delete the last pack",packNamePlaceholder:"Pack name...",searchTooltip:"Search prompts"},S0={confirmDelete:{title:"Delete Pack",message:'Are you sure you want to delete "{{packName}}"?'},confirmDeletion:{title:"Confirm Deletion",message:"Are you sure you want to permanently delete {{count}} post{{plural}}? This action cannot be undone."},delete:{title:"Delete Posts ({{total}} total)",actionText:"Delete",warningMessage:"Warning: Deleting posts is permanent and cannot be undone!"},unlike:{title:"Select Posts to Unlike ({{selected}}/{{total}})",actionText:"Unlike {{count}} Post{{plural}}"},upscale:{title:"Select Posts to Upscale ({{selected}}/{{total}})",actionText:"Upscale {{count}} Post{{plural}}"},like:{title:"Select Posts to Like ({{selected}}/{{total}})",actionText:"Like {{count}} Post{{plural}}"},unlikedArchive:{title:"Unliked Posts Archive ({{total}} total)",actionText:"Re-like {{count}} Post{{plural}}",selectPrompt:"Select posts to re-like",noPostsMessage:"No unliked posts in archive",relikingPosts:"Re-liking posts"},importPack:{title:"Import Pack",selectFile:"Select File",validJson:"Valid JSON",invalidJson:"Invalid JSON",importing:"Importing...",success:"Imported successfully",error:"Import failed",pasteJsonPlaceholder:"Paste JSON here or click buttons above..."},selectPack:{title:"Select Packs to Export",exportAll:"Export All Packs",selectAll:"Select All",deselectAll:"Deselect All",selectedCount:"{{count}} pack(s) selected"},searchPrompts:{title:"Search Prompts",placeholder:"Type to search...",noResults:"No prompts found",resultCount:"{{count}} result(s)",promptNumber:"Prompt #{{number}}"},purge:{title:" PURGE ALL DATA",dangerZone:"DANGER ZONE",warningMessage:"This action will permanently delete:",allLikedPosts:"All liked posts",allLikedPostsDesc:"Will attempt to unlike all posts",unlikedArchive:"Unliked archive",unlikedArchiveDesc:"Complete history will be cleared",allPromptPacks:"All prompt packs",allPromptPacksDesc:"Every pack and prompt will be deleted",cannotBeUndone:"THIS CANNOT BE UNDONE!",pressArrowKeys:"Press the following arrow keys in order:",startPressing:"Start pressing the arrow keys...",sequenceComplete:" Sequence complete! Purge button enabled.",purgeAllDataButton:"Purge All Data"}},E0={tabs:f0,common:m0,panel:g0,prompt:h0,settings:v0,ops:x0,help:y0,packManager:k0,modals:S0},C0={prompt:"Prompts",ops:"Ops",settings:"Ajustes",help:"Ayuda",queue:"Cola",queueTooltip:"Cola de Trabajos"},w0={cancel:"Cancelar",delete:"Eliminar",import:"Importar",export:"Exportar",add:"Agregar",remove:"Quitar",copy:"Copiar",make:"Crear",download:"Descargar",upscale:"Mejorar",paste:"Pegar",current:"Actual",version:"Versin",confirm:"Confirmar",close:"Cerrar",processing:"Procesando",selectAll:"Seleccionar Todo",deselectAll:"Deseleccionar Todo"},P0={collapseTooltip:"Contraer panel",expandTooltip:"Expandir panel",authorCredit:"por b2kdaman"},T0={placeholder:"Ingresa tu prompt...",toTooltip:"Reemplazar prompt actual con este",fromTooltip:"Guardar prompt actual en este espacio",copyTooltip:"Copiar este prompt al portapapeles",addTooltip:"Agregar nuevo espacio de prompt",removeTooltip:"Eliminar este espacio de prompt",makeTooltip:"Rellenar prompt y hacer clic en Crear",rating:"Califica este prompt"},N0={theme:"Tema",size:"Tamao",language:"Idioma",autoDownload:"Descarga Automtica",rememberPostState:"Recordar Pack Por Post",simpleShortcut:"Atajo Simple",hideUnsave:"Ocultar Desguardar",enableSound:"Activar Sonido",globalPromptAddon:"Complemento de Prompt Global",globalPromptAddonPlaceholder:"Ingresa texto para agregar a todos los prompts...",dataManagement:"Gestin de Datos",importMode:"Modo de Importacin de Pack",importModeAdd:"Agregar",importModeReplace:"Reemplazar",purge:"Purgar",purgeAllData:"Purgar Todos los Datos",purgeClickHint:"Haz clic 5 veces para activar la secuencia de purga",themes:{dark:"Oscuro",light:"Claro",dracula:"Drcula",winamp:"Winamp",limewire:"LimeWire",steam:"Steam",discord:"Discord"},sizes:{tiny:"Muy Pequeo (70%)",small:"Pequeo (85%)",medium:"Mediano (100%)",large:"Grande (115%)"},languages:{en:"Ingls",es:"Espaol",ru:"Ruso"}},R0={noPostId:"No se encontr ID de publicacin en la URL",fetchingPost:"Obteniendo datos de la publicacin...",foundMedia:"Se encontraron {{count}} medios ({{hdCount}} videos HD)",upscaling:"Mejorando {{current}}/{{total}}...",upscaled:"Mejorados {{count}}/{{total}}",downloading:"Descargando...",downloaded:"{{count}} archivos descargados",upscaleTooltip:"Mejorar videos a calidad HD",downloadTooltip:"Descargar todos los archivos multimedia",ready:"Listo",waitingForPost:"Esperando publicacin..."},A0={availableFeatures:"Caractersticas Disponibles",keyboardShortcuts:"Atajos de Teclado",about:"Acerca de",features:{savePrompts:"Guardar y organizar prompts en paquetes",ratePrompts:"Calificar prompts con estrellas",importExport:"Importar/exportar paquetes de prompts como JSON",upscale:"Mejorar videos a calidad HD",autoDownload:"Descarga automtica de medios generados",keyboardShortcuts:"Soporte completo de atajos de teclado",themes:"Mltiples temas de color y tamaos de interfaz"},shortcuts:{makeVideo:"Crear un Video",copyMake:"Copiar y Crear",navigatePrompts:"Navegar Prompts",togglePanel:"Alternar Panel",switchTabs:"Cambiar Pestaas"},aboutText:"ImagineGodMode te ayuda a gestionar prompts de generacin de video con caractersticas como guardar paquetes de prompts, calificacin, importar/exportar, mejorar videos a HD y descarga automtica de medios.",tooltips:{crossBrowser:"Funciona perfectamente en navegadores Firefox y Chrome",saveOrganize:"Crea mltiples paquetes para organizar tus prompts por tema o proyecto",packManagement:"Agrega nuevos paquetes, elimina los existentes y cambia fcilmente entre ellos",ratePrompts:"Haz clic en las estrellas para calificar tus prompts de 1 a 5 estrellas",arrowKeys:"Usa las teclas de flecha izquierda/derecha para navegar rpidamente entre videos",importExport:"Comparte paquetes con otros o haz copias de seguridad de tus prompts como archivos JSON",aiGenerate:"Usa Grok AI para generar paquetes completos de prompts desde plantillas",downloadMedia:"Descarga automticamente todas las imgenes y videos HD de una publicacin",parallelUpscale:"Mejora mltiples videos a calidad HD simultneamente para un procesamiento ms rpido",bulkOperations:"Realiza acciones de eliminar, mejorar, volver a gustar o dejar de gustar en mltiples publicaciones a la vez",purgeData:"Elimina completamente todos los datos de la extensin con una secuencia de confirmacin segura",batchSelection:"Mantn presionado Shift y haz clic para seleccionar mltiples elementos en operaciones masivas",makeNext:"Aplica automticamente el prompt y navega a la siguiente publicacin en secuencia",realtimeProgress:"Ve la barra de progreso en vivo mientras se generan los videos",playPause:"Controla la reproduccin del video con el botn de reproducir/pausar o la barra espaciadora",fullscreen:"Mira videos en modo de pantalla completa presionando F o haciendo clic en el botn",hideUnsave:"Elimina el botn de no guardar de la interfaz para una interfaz ms limpia",themeCustomization:"Elige entre 7 temas diferentes para que coincida con tu estilo",uiScaling:"Escala toda la interfaz desde 70% (Pequeo) hasta 115% (Grande)",autoDownloadMedia:"Habilita descargas automticas cuando se complete la generacin de video",multiLanguage:"Cambia entre los idiomas ingls, espaol y ruso"}},D0={addPackTooltip:"Agregar nuevo paquete",deletePackTooltip:"Eliminar paquete actual (doble clic)",cannotDeleteLast:"No se puede eliminar el ltimo paquete",packNamePlaceholder:"Nombre del paquete...",searchTooltip:"Buscar prompts"},M0={confirmDelete:{title:"Eliminar Paquete",message:'Ests seguro de que deseas eliminar "{{packName}}"?'},confirmDeletion:{title:"Confirmar Eliminacin",message:"Ests seguro de que deseas eliminar permanentemente {{count}} publicacin{{plural}}? Esta accin no se puede deshacer."},delete:{title:"Eliminar Publicaciones ({{total}} en total)",actionText:"Eliminar",warningMessage:"Advertencia: Eliminar publicaciones es permanente y no se puede deshacer!"},unlike:{title:"Seleccionar Publicaciones para Quitar Me Gusta ({{selected}}/{{total}})",actionText:"Quitar Me Gusta a {{count}} Publicacin{{plural}}"},upscale:{title:"Seleccionar Publicaciones para Mejorar ({{selected}}/{{total}})",actionText:"Mejorar {{count}} Publicacin{{plural}}"},like:{title:"Seleccionar Publicaciones para Me Gusta ({{selected}}/{{total}})",actionText:"Me Gusta a {{count}} Publicacin{{plural}}"},unlikedArchive:{title:"Archivo de Publicaciones Sin Me Gusta ({{total}} en total)",actionText:"Dar Me Gusta a {{count}} Publicacin{{plural}}",selectPrompt:"Seleccionar publicaciones para dar me gusta",noPostsMessage:"No hay publicaciones sin me gusta en el archivo",relikingPosts:"Dando me gusta a publicaciones"},importPack:{title:"Importar Paquete",selectFile:"Seleccionar Archivo",validJson:"JSON Vlido",invalidJson:"JSON Invlido",importing:"Importando...",success:"Importado exitosamente",error:"Error al importar",pasteJsonPlaceholder:"Pega JSON aqu o haz clic en los botones de arriba..."},selectPack:{title:"Seleccionar Paquetes para Exportar",exportAll:"Exportar Todos los Paquetes",selectAll:"Seleccionar Todo",deselectAll:"Deseleccionar Todo",selectedCount:"{{count}} paquete(s) seleccionado(s)"},searchPrompts:{title:"Buscar Prompts",placeholder:"Escribe para buscar...",noResults:"No se encontraron prompts",resultCount:"{{count}} resultado(s)",promptNumber:"Prompt #{{number}}"},purge:{title:" PURGAR TODOS LOS DATOS",dangerZone:"ZONA DE PELIGRO",warningMessage:"Esta accin eliminar permanentemente:",allLikedPosts:"Todas las publicaciones con me gusta",allLikedPostsDesc:"Intentar quitar el me gusta de todas las publicaciones",unlikedArchive:"Archivo de sin me gusta",unlikedArchiveDesc:"Se borrar el historial completo",allPromptPacks:"Todos los paquetes de prompts",allPromptPacksDesc:"Se eliminarn todos los paquetes y prompts",cannotBeUndone:"ESTO NO SE PUEDE DESHACER!",pressArrowKeys:"Presiona las siguientes teclas de flecha en orden:",startPressing:"Comienza a presionar las teclas de flecha...",sequenceComplete:" Secuencia completa! Botn de purga habilitado.",purgeAllDataButton:"Purgar Todos los Datos"}},_0={tabs:C0,common:w0,panel:P0,prompt:T0,settings:N0,ops:R0,help:A0,packManager:D0,modals:M0},I0={prompt:"",ops:"",settings:"",help:"",queue:"",queueTooltip:" "},O0={cancel:"",delete:"",import:"",export:"",add:"",remove:"",copy:"",make:"",download:"",upscale:"",paste:"",current:"",version:"",confirm:"",close:"",processing:"",selectAll:" ",deselectAll:" "},j0={collapseTooltip:" ",expandTooltip:" ",authorCredit:" b2kdaman"},b0={placeholder:"  ...",toTooltip:"   ",fromTooltip:"     ",copyTooltip:"     ",addTooltip:"   ",removeTooltip:"   ",makeTooltip:"     ",rating:"  "},L0={theme:"",size:"",language:"",autoDownload:" ",rememberPostState:"   ",simpleShortcut:"  ",hideUnsave:"  Unsave",enableSound:" ",globalPromptAddon:"   ",globalPromptAddonPlaceholder:"      ...",dataManagement:" ",importMode:"  ",importModeAdd:"",importModeReplace:"",purge:"",purgeAllData:"  ",purgeClickHint:" 5     ",themes:{dark:"",light:"",dracula:"",winamp:"Winamp",limewire:"LimeWire",steam:"Steam",discord:"Discord"},sizes:{tiny:" (70%)",small:" (85%)",medium:" (100%)",large:" (115%)"},languages:{en:"",es:"",ru:""}},U0={noPostId:"ID     URL",fetchingPost:"  ...",foundMedia:" {{count}}  ({{hdCount}} HD )",upscaling:" {{current}}/{{total}}...",upscaled:" {{count}}/{{total}}",downloading:"...",downloaded:" {{count}} ",upscaleTooltip:"   HD ",downloadTooltip:"   ",ready:"",waitingForPost:" ..."},H0={availableFeatures:" ",keyboardShortcuts:" ",about:" ",features:{savePrompts:"     ",ratePrompts:"  ",importExport:"/    JSON",upscale:"   HD ",autoDownload:"   ",keyboardShortcuts:"   ",themes:"     "},shortcuts:{makeVideo:" ",copyMake:"  ",navigatePrompts:"  ",togglePanel:" ",switchTabs:" "},aboutText:"ImagineGodMode           , , /,    HD    .",tooltips:{crossBrowser:"    Firefox  Chrome",saveOrganize:"         ",packManagement:"  ,       ",ratePrompts:"  ,     1  5    ",arrowKeys:"  /    ",importExport:"           JSON",aiGenerate:" Grok AI       ",downloadMedia:"     HD   ",parallelUpscale:"    HD      ",bulkOperations:"  , ,       ",purgeData:"        ",batchSelection:" Shift         ",makeNext:"         ",realtimeProgress:"         ",playPause:"      /  ",fullscreen:"    ,  F  ",hideUnsave:"         ",themeCustomization:"   7  ,   ",uiScaling:"    70% ()  115% ()",autoDownloadMedia:"      ",multiLanguage:"  ,    "}},V0={addPackTooltip:"  ",deletePackTooltip:"   ( )",cannotDeleteLast:"   ",packNamePlaceholder:" ...",searchTooltip:" "},$0={confirmDelete:{title:" ",message:' ,    "{{packName}}"?'},confirmDeletion:{title:" ",message:" ,     {{count}} {{plural}}?    ."},delete:{title:"  ( {{total}})",actionText:"",warningMessage:":   !"},unlike:{title:"     ({{selected}}/{{total}})",actionText:"   {{count}} {{plural}}"},upscale:{title:"    ({{selected}}/{{total}})",actionText:" {{count}} {{plural}}"},like:{title:"    ({{selected}}/{{total}})",actionText:" {{count}} {{plural}}"},unlikedArchive:{title:"    ( {{total}})",actionText:"  {{count}} {{plural}}",selectPrompt:"   ",noPostsMessage:"     ",relikingPosts:"   "},importPack:{title:" ",selectFile:" ",validJson:" JSON",invalidJson:" JSON",importing:"...",success:" ",error:" ",pasteJsonPlaceholder:" JSON     ..."},selectPack:{title:"   ",exportAll:"  ",selectAll:" ",deselectAll:" ",selectedCount:": {{count}}"},searchPrompts:{title:" ",placeholder:"   ...",noResults:"  ",resultCount:"{{count}} ()",promptNumber:" #{{number}}"},purge:{title:"   ",dangerZone:" ",warningMessage:"   :",allLikedPosts:"  ",allLikedPostsDesc:"     ",unlikedArchive:" ",unlikedArchiveDesc:"   ",allPromptPacks:"  ",allPromptPacksDesc:"     ",cannotBeUndone:"  !",pressArrowKeys:"     :",startPressing:"   ...",sequenceComplete:"  !   .",purgeAllDataButton:"  "}},z0={tabs:I0,common:O0,panel:j0,prompt:b0,settings:L0,ops:U0,help:H0,packManager:V0,modals:$0},Uo={en:E0,es:_0,ru:z0},kf=P.createContext(void 0),B0=({children:e})=>{const[t,n]=P.useState(()=>{const s=localStorage.getItem("i18n_locale");return s&&Uo[s]?s:"en"}),r=s=>{Uo[s]&&(n(s),localStorage.setItem("i18n_locale",s))},o=(s,l)=>{const i=s.split(".");let c=Uo[t];for(const u of i)if(c&&typeof c=="object"&&u in c)c=c[u];else{c=Uo.en;for(const p of i)if(c&&typeof c=="object"&&p in c)c=c[p];else return s;break}return typeof c!="string"?s:l?c.replace(/\{\{(\w+)\}\}/g,(u,p)=>{var f;return((f=l[p])==null?void 0:f.toString())??`{{${p}}}`}):c};return a.jsx(kf.Provider,{value:{locale:t,setLocale:r,t:o},children:e})},Pe=()=>{const e=P.useContext(kf);if(!e)throw new Error("useTranslation must be used within an I18nProvider");return e},Sf=({rating:e,onChange:t,readonly:n=!1})=>{const[r,o]=P.useState(null),s=r!==null?r:e;return a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(l=>a.jsx("button",{type:"button",className:n?"cursor-default":"cursor-pointer transition-colors duration-100",onClick:()=>!n&&t(l),onMouseEnter:()=>!n&&o(l),onMouseLeave:()=>!n&&o(null),disabled:n,children:a.jsx(W,{path:s>=l?vf:xf,size:1,color:Ie.WHITE})},l))})},F0={xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full"},mt=({isOpen:e,title:t,onClose:n,getThemeColors:r,children:o,maxWidth:s="md",maxHeight:l,width:i,height:c,padding:u="p-3",overlayOpacity:p=.5,showCloseButton:f=!0,closeOnOverlayClick:m=!0,disableClose:x=!1,footer:v,headerExtra:y})=>{const S=r();if(!e)return null;const g=()=>{m&&!x&&n()},d=()=>{x||n()},h=F0[s],C=a.jsx("div",{className:"modal-overlay fixed inset-0 flex items-center justify-center p-4",style:{backgroundColor:`rgba(0, 0, 0, ${p})`,zIndex:yn.MODAL},onClick:g,children:a.jsxs("div",{className:`modal-content rounded-xl ${u} ${h} w-full mx-4 flex flex-col gap-2`,style:{backgroundColor:`${S.BACKGROUND_DARK}aa`,backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:`1px solid ${S.BORDER}`,boxShadow:`0 8px 32px ${S.SHADOW}`,...i&&{width:i},...c&&{height:c},...l&&{maxHeight:l}},onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("h2",{className:"text-sm font-semibold",style:{color:S.TEXT_PRIMARY},children:t}),y]}),f&&a.jsx("button",{onClick:d,disabled:x,className:"rounded-full p-1 transition-colors flex-shrink-0",style:{backgroundColor:"transparent",color:S.TEXT_SECONDARY,opacity:x?.5:1,cursor:x?"not-allowed":"pointer"},onMouseEnter:w=>{x||(w.currentTarget.style.backgroundColor=S.BACKGROUND_MEDIUM,w.currentTarget.style.color=S.TEXT_PRIMARY)},onMouseLeave:w=>{x||(w.currentTarget.style.backgroundColor="transparent",w.currentTarget.style.color=S.TEXT_SECONDARY)},children:a.jsx(W,{path:mo,size:.8})})]}),a.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:o}),v&&a.jsx("div",{children:v})]})});return ao.createPortal(C,document.body)},G0=({isOpen:e,onClose:t,getThemeColors:n})=>{const{packs:r,setCurrentPack:o,setCurrentIndex:s}=Be(),{t:l}=Pe(),i=n(),[c,u]=P.useState(""),[p,f]=P.useState([]),m=P.useRef(null);P.useEffect(()=>{e&&m.current&&m.current.focus()},[e]),P.useEffect(()=>{if(!c.trim()){const d=setTimeout(()=>{f([])},0);return()=>clearTimeout(d)}const y=c.toLowerCase(),S=[];Object.entries(r).forEach(([d,h])=>{h.forEach((C,w)=>{C.text.toLowerCase().includes(y)&&S.push({packName:d,promptIndex:w,text:C.text,rating:C.rating||0})})});const g=setTimeout(()=>{f(S)},0);return c.trim()&&gh(c.length,S.length),()=>clearTimeout(g)},[c,r]);const x=y=>{o(y.packName),s(y.promptIndex),t()},v=()=>{u(""),f([]),t()};return a.jsx(mt,{isOpen:e,title:l("modals.searchPrompts.title"),onClose:v,getThemeColors:n,maxWidth:"md",maxHeight:"80vh",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:a.jsx(W,{path:Rs,size:.7,color:i.TEXT_SECONDARY})}),a.jsx("input",{ref:m,type:"text",value:c,onChange:y=>u(y.target.value),placeholder:l("modals.searchPrompts.placeholder"),className:"w-full pl-10 pr-3 py-2 rounded-lg text-sm focus:outline-none",style:{backgroundColor:i.BACKGROUND_MEDIUM,color:i.TEXT_PRIMARY,border:`1px solid ${i.BORDER}`}})]}),c&&a.jsx("div",{className:"text-xs mb-2",style:{color:i.TEXT_SECONDARY},children:l("modals.searchPrompts.resultCount",{count:p.length})}),a.jsx("div",{className:"flex-1 overflow-y-scroll custom-scrollbar",children:c&&p.length===0?a.jsx("div",{className:"text-center py-8 text-sm",style:{color:i.TEXT_SECONDARY},children:l("modals.searchPrompts.noResults")}):a.jsx("div",{className:"flex flex-col gap-2",children:p.map((y,S)=>a.jsxs("button",{onClick:()=>x(y),className:"text-left p-3 rounded-lg transition-colors",style:{backgroundColor:i.BACKGROUND_MEDIUM,border:`1px solid ${i.BORDER}`},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=i.BACKGROUND_LIGHT,g.currentTarget.style.borderColor=i.TEXT_SECONDARY},onMouseLeave:g=>{g.currentTarget.style.backgroundColor=i.BACKGROUND_MEDIUM,g.currentTarget.style.borderColor=i.BORDER},children:[a.jsx("div",{className:"text-sm mb-2 line-clamp-2",style:{color:i.TEXT_PRIMARY},children:y.text}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"font-medium truncate",style:{color:i.TEXT_SECONDARY},children:y.packName}),a.jsx("span",{className:"ml-2 flex-shrink-0",style:{color:i.TEXT_SECONDARY,opacity:.5},children:l("modals.searchPrompts.promptNumber",{number:y.promptIndex+1})})]}),y.rating>0&&a.jsx("div",{className:"mt-2",children:a.jsx(Sf,{rating:y.rating,onChange:()=>{},readonly:!0})})]},`${y.packName}-${y.promptIndex}-${S}`))})})]})})},Eu={selectedPackName:null,isPackDragging:!1,draggedPromptIndex:null,statusMessage:"",isNotificationVisible:!1,isSelectionMode:!1,selectedPromptIndices:new Set,isPackSelectionMode:!1,selectedPackNames:new Set},go=wt(e=>({...Eu,setSelectedPackName:t=>e({selectedPackName:t,selectedPromptIndices:new Set}),setIsPackDragging:t=>e({isPackDragging:t}),setDraggedPromptIndex:t=>e({draggedPromptIndex:t}),setStatusMessage:t=>e({statusMessage:t}),setIsNotificationVisible:t=>e({isNotificationVisible:t}),setIsSelectionMode:t=>e({isSelectionMode:t,selectedPromptIndices:new Set}),togglePromptSelection:t=>e(n=>{const r=new Set(n.selectedPromptIndices);return r.has(t)?r.delete(t):r.add(t),{selectedPromptIndices:r}}),selectAllPrompts:t=>e({selectedPromptIndices:new Set(t)}),deselectAllPrompts:()=>e({selectedPromptIndices:new Set}),setIsPackSelectionMode:t=>e({isPackSelectionMode:t,selectedPackNames:new Set}),togglePackSelection:t=>e(n=>{const r=new Set(n.selectedPackNames);return r.has(t)?r.delete(t):r.add(t),{selectedPackNames:r}}),selectAllPacks:t=>e({selectedPackNames:new Set(t)}),deselectAllPacks:()=>e({selectedPackNames:new Set}),resetState:()=>e({...Eu,selectedPromptIndices:new Set,selectedPackNames:new Set})})),Y0=({packName:e,index:t,promptCount:n,onRename:r,onDelete:o,onDropPrompt:s,onPackMove:l,getThemeColors:i})=>{const{currentPack:c}=Be(),{selectedPackName:u,setSelectedPackName:p,setIsPackDragging:f,isPackSelectionMode:m,selectedPackNames:x,togglePackSelection:v}=go(),y=e===u,S=e===c,g=x.has(e),d=!0,[h,C]=P.useState(!1),[w,N]=P.useState(e),[k,E]=P.useState(!1),[T,D]=P.useState(!1),[R,$]=P.useState(!1),V=i(),I=j=>{if(h||t===void 0){j.preventDefault();return}console.log("[DnD] Starting pack drag:",{packName:e,index:t}),$(!0),f(!0),j.dataTransfer.effectAllowed="move";const X=j.currentTarget,_=X.cloneNode(!0);_.style.position="absolute",_.style.top="-9999px",_.style.width=X.offsetWidth+"px",_.style.opacity="0.8",document.body.appendChild(_),j.dataTransfer.setDragImage(_,0,0),setTimeout(()=>document.body.removeChild(_),0),j.dataTransfer.setData("application/json",JSON.stringify({type:"pack",packIndex:t})),j.dataTransfer.setData("text/plain",`pack:${t}`)},B=()=>{console.log("[DnD] Ending pack drag"),$(!1),f(!1)},F=j=>{j.preventDefault(),j.dataTransfer.dropEffect="move",j.dataTransfer.types.includes("application/json")&&D(!0)},Y=()=>{E(!1),D(!1)},M=j=>{j.preventDefault(),E(!1),D(!1);try{const X=JSON.parse(j.dataTransfer.getData("application/json"));if(X.type==="pack"){const{packIndex:_}=X;console.log("[DnD] Drop pack on pack:",{dragIndex:_,hoverIndex:t}),l&&_!==t&&t!==void 0&&l(_,t)}else{const{promptIndex:_,sourcePack:J}=X;console.log("[DnD] Drop prompt on pack:",{packName:e,promptIndex:_,sourcePack:J}),J!==e&&s(_,J)}}catch(X){console.error("[DnD] Failed to parse drop data:",X)}},U=()=>{const j=w.trim();j&&j!==e&&r(e,j),C(!1),N(e)},H=j=>{j.key==="Enter"?U():j.key==="Escape"&&(N(e),C(!1))},O=()=>{h||(m?v(e):p(e))},A=()=>{!m&&!h&&C(!0)};return a.jsx("div",{draggable:!m&&d&&!h,onDragStart:I,onDragEnd:B,onDragOver:F,onDragLeave:Y,onDrop:M,className:"p-2 mb-1 rounded-lg transition-all",style:{backgroundColor:g?`${V.SUCCESS}20`:y?V.BACKGROUND_MEDIUM:k?`${V.SUCCESS}20`:T?`${V.TEXT_SECONDARY}20`:V.BACKGROUND_DARK,border:`1px solid ${g||k?V.SUCCESS:T||y?V.TEXT_SECONDARY:V.BORDER}`,opacity:R?.5:1,cursor:h?"text":m?"pointer":"ns-resize"},onClick:O,onDoubleClick:A,children:h?a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx("input",{type:"text",value:w,onChange:j=>N(j.target.value),onKeyDown:H,onFocus:j=>j.target.select(),className:"flex-1 px-1 rounded text-sm",style:{backgroundColor:"transparent",color:V.TEXT_PRIMARY,border:"none",outline:"none"},autoFocus:!0,onClick:j=>j.stopPropagation()}),a.jsx(L,{icon:fo,iconSize:.5,variant:"icon",onClick:j=>{j.stopPropagation(),U()},tooltip:"Save"}),a.jsx(L,{icon:mo,iconSize:.5,variant:"icon",onClick:j=>{j.stopPropagation(),N(e),C(!1)},tooltip:"Cancel"})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m?a.jsx(W,{path:g?el:Zs,size:.8,color:g?V.SUCCESS:V.TEXT_SECONDARY}):a.jsx(W,{path:$i,size:.6,color:V.TEXT_SECONDARY}),a.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[a.jsx("div",{className:"font-medium text-sm truncate",style:{color:V.TEXT_PRIMARY},children:e}),n===0?a.jsx(W,{path:Yh,size:.6,color:V.TEXT_SECONDARY}):a.jsx("div",{className:"flex items-center justify-center text-xs font-semibold rounded-full min-w-[20px] h-5 px-1.5",style:{backgroundColor:V.SUCCESS,color:"#fff"},children:n})]}),!m&&a.jsxs("div",{className:"flex items-center gap-1",children:[S&&a.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full",style:{backgroundColor:V.SUCCESS,color:"#fff"},children:"Current"}),a.jsx(L,{icon:mf,iconSize:.5,variant:"icon",onClick:j=>{j.stopPropagation(),C(!0)},tooltip:"Rename pack"}),a.jsx(L,{icon:tn,iconSize:.5,variant:"icon",onClick:j=>{j.stopPropagation(),o(e)},tooltip:"Delete pack"})]})]})})},X0=({importMode:e,onImportModeChange:t,onImport:n,onExport:r,onCopyGrokPrompt:o,getThemeColors:s})=>{const l=s(),{t:i}=Pe();return a.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{style:{color:l.TEXT_SECONDARY},children:[i("settings.importMode"),":"]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",value:"add",checked:e==="add",onChange:()=>t("add"),style:{accentColor:l.SUCCESS}}),a.jsx("span",{style:{color:l.TEXT_PRIMARY},children:i("settings.importModeAdd")})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",value:"replace",checked:e==="replace",onChange:()=>t("replace"),style:{accentColor:l.SUCCESS}}),a.jsx("span",{style:{color:l.TEXT_PRIMARY},children:i("settings.importModeReplace")})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:n,icon:As,className:"flex-1",tooltip:"Import pack from file or clipboard",children:i("common.import")}),a.jsx(L,{onClick:o,icon:af,variant:"icon",tooltip:"Copy Grok system prompt for AI-generated packs"}),a.jsx(L,{onClick:r,icon:As,className:"flex-1",tooltip:"Export selected packs to file",children:i("common.export")})]})]})},K0=({onAddPack:e,onRenamePack:t,onDeletePack:n,onDropPrompt:r,importMode:o,onImportModeChange:s,onImport:l,onExport:i,onCopyGrokPrompt:c,getThemeColors:u})=>{const p=u(),{packs:f,packOrder:m,reorderPacks:x,deletePacksByNames:v}=Be(),{isPackSelectionMode:y,setIsPackSelectionMode:S,selectedPackNames:g,selectAllPacks:d,deselectAllPacks:h,setStatusMessage:C,setSelectedPackName:w}=go(),N=m||Object.keys(f),[k,E]=P.useState(!1),[T,D]=P.useState(""),[R,$]=P.useState(!1),V=(A,j)=>{if(A===j)return;const X=[...N],[_]=X.splice(A,1);X.splice(j,0,_),x(X)},I=()=>{const A=T.trim();A&&(e(A),D(""),E(!1))},B=A=>{A.key==="Enter"?I():A.key==="Escape"&&(D(""),E(!1))},F=()=>{S(!y)},Y=()=>{d(N)},M=()=>{h()},U=()=>{if(g.size===0){C("No packs selected");return}$(!0)},H=()=>{const A=Array.from(g);v(A);const j=N.filter(_=>!g.has(_)),X=j.length>0?j[0]:"Default";w(X),h(),C(`${A.length} pack${A.length!==1?"s":""} deleted`),$(!1)},O=()=>{$(!1)};return a.jsxs("div",{className:"flex flex-col",style:{flex:"0 0 33.333%",minWidth:0,borderRight:`1px solid ${p.BORDER}`},children:[a.jsxs("div",{className:"px-3 border-b flex items-center justify-between gap-2",style:{borderColor:p.BORDER,height:"50px"},children:[a.jsxs("h3",{className:"text-sm font-semibold",style:{color:p.TEXT_PRIMARY},children:["Packs (",N.length,")",y&&g.size>0&&a.jsxs("span",{style:{color:p.SUCCESS},children:[" - ",g.size," selected"]})]}),a.jsxs("div",{className:"flex gap-1",children:[!y&&a.jsx(L,{icon:Fi,iconSize:.6,variant:"icon",onClick:()=>E(!0),tooltip:"Create new pack"}),a.jsx(L,{icon:rf,iconSize:.6,variant:"icon",onClick:F,tooltip:y?"Exit selection mode":"Enter selection mode",style:y?{backgroundColor:`${p.SUCCESS}40`}:void 0})]})]}),y&&a.jsxs("div",{className:"px-3 pr-3 py-2 border-b flex items-center gap-2",style:{borderColor:p.BORDER,backgroundColor:`${p.BACKGROUND_MEDIUM}80`},children:[a.jsx(L,{icon:Gi,iconSize:.5,variant:"icon",onClick:Y,tooltip:"Select all packs"}),a.jsx(L,{icon:gf,iconSize:.5,variant:"icon",onClick:M,tooltip:"Deselect all packs"}),a.jsx("div",{className:"flex-1"}),a.jsx(L,{icon:tn,iconSize:.5,variant:"icon",onClick:U,tooltip:"Delete selected packs",disabled:g.size===0})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar pl-2 pr-3 py-2",children:[k&&a.jsx("div",{className:"mb-2 p-2 rounded-lg",style:{backgroundColor:p.BACKGROUND_DARK,border:`1px solid ${p.BORDER}`},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:T,onChange:A=>D(A.target.value),onKeyDown:B,onFocus:A=>A.target.select(),placeholder:"New pack name...",className:"flex-1 px-1 rounded text-sm",style:{backgroundColor:"transparent",color:p.TEXT_PRIMARY,border:"none",outline:"none"},autoFocus:!0}),a.jsx(L,{icon:fo,iconSize:.5,variant:"icon",onClick:I,tooltip:"Create"}),a.jsx(L,{icon:mo,iconSize:.5,variant:"icon",onClick:()=>{D(""),E(!1)},tooltip:"Cancel"})]})}),N.map((A,j)=>{const X=f[A].filter(_=>_.text&&_.text.trim()!=="").length;return a.jsx(Y0,{packName:A,index:j,promptCount:X,onRename:t,onDelete:n,onDropPrompt:(_,J)=>r(A,_,J),onPackMove:V,getThemeColors:u},A)})]}),a.jsx("div",{className:"pr-3",children:a.jsx(X0,{importMode:o,onImportModeChange:s,onImport:l,onExport:i,onCopyGrokPrompt:c,getThemeColors:u})}),R&&a.jsx(mt,{isOpen:!0,title:"Confirm Delete",onClose:O,getThemeColors:u,maxWidth:"sm",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("p",{style:{color:p.TEXT_PRIMARY},children:["Are you sure you want to delete ",a.jsxs("strong",{children:[g.size," pack",g.size!==1?"s":""]}),"?",Array.from(g).some(A=>{var j;return((j=f[A])==null?void 0:j.length)>0})&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("br",{}),"This will delete:",a.jsx("ul",{className:"list-disc ml-5 mt-2",children:Array.from(g).map(A=>{var j,X;return a.jsxs("li",{children:[a.jsx("strong",{children:A})," (",((j=f[A])==null?void 0:j.length)||0," prompt",((X=f[A])==null?void 0:X.length)!==1?"s":"",")"]},A)})})]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(L,{onClick:O,variant:"default",children:"Cancel"}),a.jsx(L,{onClick:H,variant:"default",style:{backgroundColor:p.DANGER,color:"#fff"},children:"Delete"})]})]})})]})},Gn=({value:e,onChange:t,options:n,disabled:r=!1,className:o="",placeholder:s=""})=>{const{getThemeColors:l,getScale:i}=re(),c=l(),f=.875*i(),[m,x]=P.useState(!1),v=P.useRef(null),y=P.useRef(null),[S,g]=P.useState({top:0,left:0,width:0}),d=po({scaleFactor:1.02}),h=Qs(),C=P.useMemo(()=>typeof window>"u"?!1:!!document.querySelector(".modal-overlay"),[]),w=P.useMemo(()=>{const D=C?"imaginegodmode-modal-dropdown-portal":"imaginegodmode-dropdown-portal";let R=document.getElementById(D);if(!R){R=document.createElement("div"),R.id=D,R.style.position="fixed",R.style.top="0",R.style.left="0",R.style.zIndex=String(C?yn.MODAL_DROPDOWN:yn.DROPDOWN),R.style.pointerEvents="none";const $=document.getElementById("imaginegodmode-root");$?$.appendChild(R):document.body.appendChild(R)}return R},[C]),N=n.find(D=>D.value===e),k=(N==null?void 0:N.label)||s;P.useEffect(()=>{if(m&&y.current){const D=()=>{if(y.current){const R=y.current.getBoundingClientRect();g({top:R.bottom+4,left:R.left,width:R.width})}};return D(),window.addEventListener("scroll",D,!0),window.addEventListener("resize",D),()=>{window.removeEventListener("scroll",D,!0),window.removeEventListener("resize",D)}}},[m]),P.useEffect(()=>{const D=R=>{v.current&&!v.current.contains(R.target)&&y.current&&!y.current.contains(R.target)&&x(!1)};return m&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[m]);const E=D=>{t(D),x(!1)},T=()=>{r||x(!m)};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:d.glowStyles}),a.jsx("style",{children:h.glowStyles}),a.jsx("div",{className:`relative ${o}`,children:a.jsxs("button",{ref:y,type:"button",onClick:T,disabled:r,className:"pl-3 pr-8 py-2 rounded-full text-sm cursor-pointer focus:outline-none transition-all duration-300 text-left relative block overflow-hidden",style:{backgroundColor:c.BACKGROUND_MEDIUM,color:c.TEXT_PRIMARY,border:`1px solid ${c.BORDER}`,opacity:r?.5:1,cursor:r?"not-allowed":"pointer",width:"100%"},onMouseEnter:D=>{r||(d.handleMouseEnter(D),D.currentTarget.style.backgroundColor=c.BACKGROUND_LIGHT,D.currentTarget.style.color=c.TEXT_PRIMARY)},onMouseLeave:D=>{r||(d.handleMouseLeave(D),D.currentTarget.style.backgroundColor=c.BACKGROUND_MEDIUM,D.currentTarget.style.color=c.TEXT_PRIMARY)},children:[!r&&a.jsx(d.GlowOverlay,{}),a.jsx("span",{className:"relative z-10",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",paddingRight:"8px"},children:k}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:a.jsx(W,{path:Hi,size:.6,color:c.TEXT_PRIMARY,className:`transition-transform duration-200 ${m?"rotate-180":""}`})})]})}),m&&ao.createPortal(a.jsx("div",{ref:v,className:"rounded-lg shadow-lg overflow-hidden",style:{position:"absolute",top:`${S.top}px`,left:`${S.left}px`,width:`${S.width}px`,pointerEvents:"auto",backgroundColor:c.BACKGROUND_MEDIUM,border:`1px solid ${c.BORDER}`,maxHeight:"200px",overflowY:"auto"},children:n.map(D=>{const R=D.value===e;return a.jsxs("button",{type:"button",onClick:()=>E(D.value),className:"w-full px-3 py-2 text-left cursor-pointer transition-all duration-300 relative overflow-hidden",style:{backgroundColor:R?c.BACKGROUND_LIGHT:c.BACKGROUND_MEDIUM,color:R&&c.TEXT_HOVER||c.TEXT_PRIMARY,border:"none",fontSize:`${f}rem`},onMouseEnter:$=>{h.handleMouseEnter($,D.value,!1,{backgroundColor:c.BACKGROUND_LIGHT,color:c.TEXT_HOVER||c.TEXT_PRIMARY})},onMouseLeave:$=>{h.handleMouseLeave($,!1,R?{backgroundColor:c.BACKGROUND_LIGHT,color:c.TEXT_HOVER||c.TEXT_PRIMARY}:{backgroundColor:c.BACKGROUND_MEDIUM,color:c.TEXT_PRIMARY})},children:[h.getGlowOverlay(D.value),a.jsx("span",{className:"relative z-10",children:D.label})]},D.value)})}),w)]})},W0=({prompt:e,index:t,packName:n,isDraggable:r,onDragStart:o,onDragEnd:s,onPromptMove:l,getThemeColors:i})=>{const c=i(),{deletePromptByIndex:u,updatePromptByIndex:p,duplicatePromptByIndex:f}=Be(),{isSelectionMode:m,selectedPromptIndices:x,togglePromptSelection:v,setStatusMessage:y}=go(),[S,g]=P.useState(!1),[d,h]=P.useState(!1),[C,w]=P.useState(!1),[N,k]=P.useState(e.text),E=x.has(t),T=O=>{if(!r){O.preventDefault();return}console.log("[DnD] Starting prompt drag:",{index:t,packName:n}),g(!0),o(t),O.dataTransfer.effectAllowed="move",O.dataTransfer.setData("application/json",JSON.stringify({type:"prompt",promptIndex:t,sourcePack:n})),O.dataTransfer.setData("text/plain",`prompt:${t}:${n}`)},D=()=>{console.log("[DnD] Ending prompt drag"),g(!1),s()},R=O=>{O.preventDefault(),O.dataTransfer.dropEffect="move",h(!0)},$=()=>{h(!1)},V=O=>{O.preventDefault(),h(!1);try{const A=JSON.parse(O.dataTransfer.getData("application/json"));if(A.type==="prompt"&&A.sourcePack===n){const{promptIndex:j}=A;console.log("[DnD] Drop prompt on prompt:",{dragIndex:j,hoverIndex:t}),l&&j!==t&&l(j,t)}}catch(A){console.error("[DnD] Failed to parse drop data:",A)}},I=()=>{k(e.text),w(!0)},B=()=>{N.trim()!==e.text&&(p(n,t,N.trim()),y("Prompt updated")),w(!1)},F=()=>{k(e.text),w(!1)},Y=()=>{u(n,t),y("Prompt deleted")},M=()=>{f(n,t),y("Prompt duplicated")},U=O=>{O.stopPropagation(),v(t)},H=()=>{!m&&!C&&I()};return a.jsx("div",{draggable:!m&&!C&&r,onDragStart:T,onDragEnd:D,onDragOver:R,onDragLeave:$,onDrop:V,className:"p-3 mb-2 rounded-lg transition-all",style:{backgroundColor:E?`${c.SUCCESS}20`:d?`${c.TEXT_SECONDARY}20`:c.BACKGROUND_DARK,border:`1px solid ${E?c.SUCCESS:d?c.TEXT_SECONDARY:c.BORDER}`,opacity:S?.5:1,cursor:m?"pointer":r&&!C?"move":"default"},onClick:m?U:void 0,onDoubleClick:H,children:a.jsxs("div",{className:"flex items-start gap-2",children:[m?a.jsx(W,{path:E?el:Zs,size:.8,color:E?c.SUCCESS:c.TEXT_SECONDARY}):!C&&a.jsx(W,{path:$i,size:.7,color:c.TEXT_SECONDARY}),a.jsx("div",{className:"flex-1 min-w-0",children:C?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("textarea",{value:N,onChange:O=>k(O.target.value),className:"w-full px-2 py-1 rounded text-sm resize-none custom-scrollbar",style:{backgroundColor:c.BACKGROUND_MEDIUM,color:c.TEXT_PRIMARY,border:"none",outline:"none",minHeight:"60px"},autoFocus:!0,onKeyDown:O=>{O.key==="Escape"&&F()}}),a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx(L,{icon:fo,iconSize:.6,variant:"icon",onClick:B,tooltip:"Save"}),a.jsx(L,{icon:mo,iconSize:.6,variant:"icon",onClick:F,tooltip:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm line-clamp-2 break-words",style:{color:c.TEXT_PRIMARY,wordBreak:"break-word",overflowWrap:"break-word"},children:e.text||a.jsx("em",{style:{color:c.TEXT_SECONDARY},children:"Empty prompt"})}),a.jsx("div",{className:"flex items-center gap-0.5 mt-1",children:[1,2,3,4,5].map(O=>a.jsx(W,{path:O<=e.rating?vf:xf,size:.5,color:O<=e.rating?"#fbbf24":c.TEXT_SECONDARY},O))})]})}),!m&&!C&&a.jsxs("div",{className:"flex gap-1",children:[a.jsx(L,{icon:mf,iconSize:.6,variant:"icon",onClick:O=>{O.stopPropagation(),I()},tooltip:"Edit prompt"}),a.jsx(L,{icon:cf,iconSize:.6,variant:"icon",onClick:O=>{O.stopPropagation(),M()},tooltip:"Duplicate prompt"}),a.jsx(L,{icon:tn,iconSize:.6,variant:"icon",onClick:O=>{O.stopPropagation(),Y()},tooltip:"Delete prompt"})]})]})})},J0=({onReorderPrompts:e,getThemeColors:t})=>{const n=t(),{packs:r,packOrder:o,deletePromptsByIndices:s,movePromptToPack:l,addPromptToPack:i}=Be(),{selectedPackName:c,isPackDragging:u,setDraggedPromptIndex:p,isSelectionMode:f,setIsSelectionMode:m,selectedPromptIndices:x,selectAllPrompts:v,deselectAllPrompts:y,setStatusMessage:S}=go(),[g,d]=P.useState(""),[h,C]=P.useState(""),[w,N]=P.useState(""),[k,E]=P.useState(!1),T=c||"",D=r[T]||[],R=w.trim()?D.filter(A=>A.text.toLowerCase().includes(w.toLowerCase())):D,V=(o||Object.keys(r)).filter(A=>A!==T),I=()=>{m(!f)},B=()=>{const A=D.map((j,X)=>X);v(A)},F=()=>{y()},Y=()=>{if(x.size===0){S("No prompts selected");return}const A=Array.from(x).sort((j,X)=>X-j);s(T,A),y(),S(`${A.length} prompt${A.length!==1?"s":""} deleted`)},M=()=>{if(x.size===0){S("No prompts selected");return}if(!g){S("Please select a target pack");return}const A=Array.from(x).sort((j,X)=>X-j);A.forEach(j=>{l(j,T,g)}),S(`${A.length} prompt${A.length!==1?"s":""} moved to "${g}"`),d("")},U=()=>{T&&(i(T,""),S("New prompt added"))},H=A=>{const j=A.target.value;C(j),D.length===0&&j.trim()&&(i(T,j),C(""),S("Prompt created"))},O=()=>{E(!k),k&&N("")};return a.jsxs("div",{className:"flex flex-col transition-opacity duration-200",style:{flex:"0 0 66.667%",minWidth:0,opacity:u?.3:1,pointerEvents:u?"none":"auto"},children:[a.jsxs("div",{className:"pl-3 pr-4 border-b flex items-center justify-between gap-2",style:{borderColor:n.BORDER,height:"50px"},children:[a.jsxs("h3",{className:"text-base font-semibold truncate flex items-baseline gap-1",children:[a.jsx("span",{style:{color:n.TEXT_PRIMARY},children:T}),a.jsxs("span",{className:"text-xs font-normal",style:{color:n.TEXT_SECONDARY},children:["(",R.length,w.trim()?`/${D.length}`:""," prompt",D.length!==1?"s":"",")"]}),f&&x.size>0&&a.jsxs("span",{className:"text-xs font-normal",style:{color:n.SUCCESS},children:[" - ",x.size," selected"]})]}),a.jsxs("div",{className:"flex gap-1",children:[!f&&a.jsxs(a.Fragment,{children:[a.jsx(L,{icon:Fi,iconSize:.6,variant:"icon",onClick:U,tooltip:"Add new prompt"}),a.jsx(L,{icon:k?mo:Rs,iconSize:.6,variant:"icon",onClick:O,tooltip:k?"Close search":"Search prompts",style:k?{backgroundColor:`${n.SUCCESS}40`}:void 0})]}),a.jsx(L,{icon:rf,iconSize:.6,variant:"icon",onClick:I,tooltip:f?"Exit selection mode":"Enter selection mode",style:f?{backgroundColor:`${n.SUCCESS}40`}:void 0})]})]}),k&&a.jsx("div",{className:"px-3 py-2 border-b",style:{borderColor:n.BORDER,backgroundColor:`${n.BACKGROUND_MEDIUM}80`},children:a.jsx("input",{type:"text",value:w,onChange:A=>N(A.target.value),placeholder:"Search prompts...",className:"w-full px-3 py-2 rounded text-sm",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},autoFocus:!0})}),f&&a.jsxs("div",{className:"px-3 py-2 border-b flex items-center gap-2 pr-6",style:{borderColor:n.BORDER,backgroundColor:`${n.BACKGROUND_MEDIUM}80`},children:[a.jsx(L,{icon:Gi,iconSize:.5,variant:"icon",onClick:B,tooltip:"Select all"}),a.jsx(L,{icon:gf,iconSize:.5,variant:"icon",onClick:F,tooltip:"Deselect all"}),a.jsx("div",{className:"flex-1"}),V.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Gn,{options:V.map(A=>({value:A,label:A})),value:g,onChange:d,placeholder:"Move to..."}),a.jsx(L,{icon:l0,iconSize:.5,variant:"icon",onClick:M,tooltip:"Move selected prompts",disabled:x.size===0||!g})]}),a.jsx(L,{icon:tn,iconSize:.5,variant:"icon",onClick:Y,tooltip:"Delete selected prompts",disabled:x.size===0})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar pl-2 pr-4 py-2",children:D.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",style:{color:n.TEXT_SECONDARY},children:[a.jsx(W,{path:tl,size:2,color:n.TEXT_SECONDARY}),a.jsx("p",{className:"mt-2 mb-4 text-sm",children:"No prompts in this pack"}),a.jsx("textarea",{value:h,onChange:H,placeholder:"Start typing to create a prompt...",className:"w-full max-w-md px-3 py-2 rounded text-sm resize-none custom-scrollbar",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`,minHeight:"80px"}})]}):R.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",style:{color:n.TEXT_SECONDARY},children:[a.jsx(W,{path:Rs,size:2,color:n.TEXT_SECONDARY}),a.jsx("p",{className:"mt-2 text-sm",children:"No prompts match your search"})]}):R.map((A,j)=>{const X=D.findIndex(_=>_===A);return a.jsx(W0,{prompt:A,index:X,packName:T,isDraggable:!w.trim(),onDragStart:p,onDragEnd:()=>p(null),onPromptMove:e,getThemeColors:t},X)})})]})},Q0=({isOpen:e,packs:t,currentPack:n,onClose:r,onSelectPack:o,getThemeColors:s})=>{const l=s(),{t:i}=Pe(),[c,u]=P.useState(new Set),[p,f]=P.useState(!1),[m,x]=P.useState(e);P.useEffect(()=>{if(e&&!m){const h=setTimeout(()=>{u(new Set),x(e)},0);return()=>clearTimeout(h)}const d=setTimeout(()=>{x(e)},0);return()=>clearTimeout(d)},[e,m]);const v=d=>{const h=new Set(c);h.has(d)?h.delete(d):h.add(d),u(h)},y=()=>{u(new Set(t))},S=()=>{u(new Set)},g=()=>{c.size>0&&(o(Array.from(c)),r())};return a.jsx(mt,{isOpen:e,title:i("modals.selectPack.title"),onClose:r,getThemeColors:s,maxWidth:"xs",footer:a.jsxs("div",{className:"flex justify-between items-center w-full",children:[a.jsx(L,{onClick:r,className:"text-xs",children:i("common.cancel")}),a.jsxs(L,{onClick:g,disabled:c.size===0,className:"text-xs",style:{backgroundColor:c.size>0?p?l.TEXT_HOVER:l.SUCCESS:void 0,color:c.size>0?"#fff":void 0,opacity:c.size===0?.5:1,cursor:c.size===0?"not-allowed":"pointer",transition:"background-color 0.2s ease"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[i("common.export")," ",c.size>0&&`(${c.size})`]})]}),children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:y,icon:Gi,className:"flex-1 text-xs",tooltip:i("modals.selectPack.selectAll"),children:i("modals.selectPack.selectAll")}),a.jsx(L,{onClick:S,icon:s0,className:"flex-1 text-xs",tooltip:i("modals.selectPack.deselectAll"),children:i("modals.selectPack.deselectAll")})]}),a.jsx("div",{className:"flex flex-col gap-1.5 max-h-64 overflow-y-scroll",children:t.map(d=>{const h=c.has(d),C=d===n;return a.jsxs("button",{onClick:()=>v(d),className:"text-left px-3 py-2 rounded-lg transition-all flex items-center gap-2 group text-sm",style:{backgroundColor:h?l.BACKGROUND_MEDIUM:l.BACKGROUND_DARK,border:`1px solid ${h?l.SUCCESS:l.BORDER}`,color:l.TEXT_PRIMARY},onMouseEnter:w=>{w.currentTarget.style.backgroundColor=l.BACKGROUND_MEDIUM,h||(w.currentTarget.style.borderColor=l.TEXT_SECONDARY)},onMouseLeave:w=>{h||(w.currentTarget.style.backgroundColor=l.BACKGROUND_DARK,w.currentTarget.style.borderColor=l.BORDER)},children:[a.jsx(W,{path:h?el:Zs,size:.8,color:h?l.SUCCESS:l.TEXT_SECONDARY}),a.jsx(W,{path:tl,size:.7,color:l.TEXT_SECONDARY}),a.jsx("span",{className:"font-medium truncate flex-1",children:d}),C&&a.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full ml-2 flex-shrink-0",style:{backgroundColor:l.SUCCESS,color:"#fff"},children:i("common.current")})]},d)})}),c.size>0&&a.jsx("div",{className:"text-xs text-center p-2 rounded-lg",style:{backgroundColor:`${l.SUCCESS}20`,color:l.TEXT_PRIMARY,border:`1px solid ${l.SUCCESS}`},children:i("modals.selectPack.selectedCount",{count:c.size})})]})})},q0=({isOpen:e,importMode:t,onClose:n,onImport:r,getThemeColors:o})=>{const s=o(),{t:l}=Pe(),[i,c]=P.useState(""),[u,p]=P.useState(null),[f,m]=P.useState(!1),x=P.useRef(null),v=P.useRef(null),y=k=>{if(!k.trim())return{isValid:!1,error:"No JSON provided"};try{const E=JSON.parse(k);if(typeof E.version!="string")return{isValid:!1,error:'Missing or invalid "version" field'};if(E.version==="2.0"&&Array.isArray(E.packs)){if(typeof E.exportDate!="string")return{isValid:!1,error:'Missing or invalid "exportDate" field'};let T=0;for(let D=0;D<E.packs.length;D++){const R=E.packs[D];if(typeof R.packName!="string"||!R.packName.trim())return{isValid:!1,error:`Pack ${D+1}: missing or invalid "packName"`};if(!Array.isArray(R.prompts))return{isValid:!1,error:`Pack ${D+1}: "prompts" must be an array`};for(let $=0;$<R.prompts.length;$++){const V=R.prompts[$];if(typeof V.text!="string")return{isValid:!1,error:`Pack "${R.packName}", Prompt ${$+1}: missing or invalid "text"`};if(typeof V.rating!="number"||V.rating<0||V.rating>5)return{isValid:!1,error:`Pack "${R.packName}", Prompt ${$+1}: "rating" must be 0-5`}}T+=R.prompts.length}return{isValid:!0,isMultiPack:!0,packCount:E.packs.length,promptCount:T,jsonText:k}}if(typeof E.packName!="string"||!E.packName.trim())return{isValid:!1,error:'Missing or invalid "packName" field'};if(!Array.isArray(E.prompts))return{isValid:!1,error:'"prompts" must be an array'};for(let T=0;T<E.prompts.length;T++){const D=E.prompts[T];if(typeof D.text!="string")return{isValid:!1,error:`Prompt ${T+1}: missing or invalid "text"`};if(typeof D.rating!="number"||D.rating<0||D.rating>5)return{isValid:!1,error:`Prompt ${T+1}: "rating" must be 0-5`}}return{isValid:!0,isMultiPack:!1,packName:E.packName,promptCount:E.prompts.length,jsonText:k}}catch(E){return{isValid:!1,error:E instanceof Error?E.message:"Invalid JSON format"}}},S=k=>{try{const E=decodeURIComponent(escape(atob(k)));return JSON.parse(E)}catch{throw new Error("Invalid base64 or JSON format")}},g=async()=>{try{const k=await navigator.clipboard.readText();c(k);const E=y(k);p(E)}catch{p({isValid:!1,error:"Failed to read clipboard"})}},d=k=>{if(c(k),k.trim()){const E=y(k);p(E)}else p(null)},h=k=>{var D;const E=(D=k.target.files)==null?void 0:D[0];if(!E)return;const T=new FileReader;T.onload=R=>{var $;try{const V=($=R.target)==null?void 0:$.result;let I;if(E.name.endsWith(".pak"))try{const F=S(V);I=JSON.stringify(F,null,2)}catch{p({isValid:!1,error:"Invalid .pak file format. File must contain base64 encoded JSON."});return}else I=V;c(I);const B=y(I);p(B)}catch(V){p({isValid:!1,error:V instanceof Error?V.message:"Failed to process file"})}},T.onerror=()=>{p({isValid:!1,error:"Failed to read file"})},T.readAsText(E)},C=async()=>{if(!(!(u!=null&&u.isValid)||!u.jsonText)){m(!0);try{const k=new Blob([u.jsonText],{type:"application/json"}),E=new File([k],"import.json",{type:"application/json"});await r(E),c(""),p(null),n()}catch(k){p({...u,isValid:!1,error:k instanceof Error?k.message:"Import failed"})}finally{m(!1)}}},w=()=>{c(""),p(null),n()},N=i.split(`
`).length;return a.jsx(mt,{isOpen:e,title:l("modals.importPack.title"),onClose:w,getThemeColors:o,maxWidth:"md",footer:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(L,{onClick:w,children:l("common.cancel")}),a.jsx(L,{onClick:C,disabled:!(u!=null&&u.isValid)||f,style:{backgroundColor:u!=null&&u.isValid?s.SUCCESS:void 0,color:u!=null&&u.isValid?"#fff":void 0,opacity:!(u!=null&&u.isValid)||f?.5:1},children:l(f?"modals.importPack.importing":"common.import")})]}),children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(L,{onClick:g,icon:Bh,className:"flex-1",tooltip:"Paste JSON from clipboard",children:l("common.paste")}),a.jsx(L,{onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},icon:As,className:"flex-1",tooltip:"Select JSON or PAK file",children:l("modals.importPack.selectFile")})]}),a.jsx("input",{ref:x,type:"file",accept:".pak,.json",onChange:h,className:"hidden"}),a.jsxs("div",{className:"mb-3",children:[a.jsx("textarea",{ref:v,value:i,onChange:k=>d(k.target.value),placeholder:l("modals.importPack.pasteJsonPlaceholder"),className:"w-full h-32 px-3 py-2 rounded-lg text-xs font-mono resize-none",style:{backgroundColor:s.BACKGROUND_MEDIUM,color:s.TEXT_PRIMARY,border:`1px solid ${s.BORDER}`}}),i&&a.jsxs("div",{className:"text-xs mt-1",style:{color:s.TEXT_SECONDARY},children:[N," line",N!==1?"s":""]})]}),u&&a.jsxs("div",{className:"mb-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:u.isValid?`${s.SUCCESS}20`:`${s.BACKGROUND_MEDIUM}`,border:`1px solid ${u.isValid?s.SUCCESS:s.BORDER}`},children:[a.jsx(W,{path:u.isValid?nf:qs,size:.7,color:u.isValid?s.SUCCESS:s.TEXT_SECONDARY}),a.jsx("div",{className:"flex-1",children:u.isValid?a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-semibold mb-1",style:{color:s.SUCCESS},children:l("modals.importPack.validJson")}),u.isMultiPack?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Format: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:"Multi-pack (v2.0)"})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Packs: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.packCount})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Total Prompts: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.promptCount})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Format: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:"Single pack (v1.0)"})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Pack: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.packName})]}),a.jsxs("div",{style:{color:s.TEXT_SECONDARY},children:["Prompts: ",a.jsx("span",{style:{color:s.TEXT_PRIMARY},children:u.promptCount})]})]})]}):a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-semibold mb-1",style:{color:s.TEXT_SECONDARY},children:l("modals.importPack.invalidJson")}),a.jsx("div",{style:{color:s.TEXT_SECONDARY},children:u.error})]})})]})]})})},Ef=({isOpen:e,onClose:t,getThemeColors:n})=>{var H;const{packs:r,currentPack:o,addPack:s,renamePack:l,deletePack:i,importPack:c,movePromptToPack:u,reorderPrompts:p}=Be(),{selectedPackName:f,setSelectedPackName:m,statusMessage:x,setStatusMessage:v,isNotificationVisible:y,setIsNotificationVisible:S,resetState:g}=go(),[d,h]=P.useState("add"),[C,w]=P.useState(!1),[N,k]=P.useState(!1),[E,T]=P.useState(null);Ue.useEffect(()=>{e&&!f&&m(o)},[e,o,f,m]),Ue.useEffect(()=>{e||g()},[e,g]),Ue.useEffect(()=>{if(x){S(!0);const O=setTimeout(()=>{S(!1)},2500),A=setTimeout(()=>{v("")},3e3);return()=>{clearTimeout(O),clearTimeout(A)}}else S(!1)},[x,S,v]);const D=O=>{s(O),m(O),v(`Pack "${O}" created`)},R=(O,A)=>{l(O,A),f===O&&m(A),v(`Pack renamed to "${A}"`)},$=O=>{T(O)},V=()=>{if(!E)return;i(E);const O=Object.keys(r).filter(j=>j!==E),A=O.length>0?O[0]:"Default";m(A),v(`Pack "${E}" deleted`),T(null)},I=()=>{T(null)},B=(O,A,j)=>{if(O===j){v("Prompt already in this pack");return}u(A,j,O),v(`Prompt moved from "${j}" to "${O}"`)},F=(O,A)=>{O===A||!f||p(f,O,A)},Y=O=>{if(O.length!==0){if(O.length===1){const A=O[0],j=r[A]||[];Wp(A,j),v(`Pack "${A}" exported successfully!`)}else{const A=Object.fromEntries(O.map(j=>[j,r[j]||[]]));Gg(A),v(`${O.length} packs exported successfully!`)}k(!1)}},M=async O=>{const A=await c(O,d);if(A.success)A.importedCount&&A.importedCount>1?v(`${A.importedCount} packs imported successfully!`):A.packName?v(`Pack "${A.packName}" imported successfully!`):v("Import successful!");else throw new Error(A.error||"Unknown error")},U=async()=>{const O=`You are a SFW video prompt pack generator for a Chrome extension. Your task is to create a JSON file containing safe, creative, and professional video generation prompts organized in a pack.

**OUTPUT FORMAT (STRICT):**
\`\`\`json
{
  "version": "1.0",
  "exportDate": "${new Date().toISOString()}",
  "packName": "Pack Name Here",
  "prompts": [
    { "text": "Detailed SFW video generation prompt", "rating": 4 },
    { "text": "Another creative SFW prompt", "rating": 5 }
  ]
}
\`\`\`

**FIELD REQUIREMENTS:**
- \`version\`: Must be exactly "1.0"
- \`exportDate\`: ISO 8601 timestamp (use current date/time)
- \`packName\`: Creative pack name matching the theme
- \`prompts\`: Array of 10-15 prompt objects
- Each prompt object:
  - \`text\`: Detailed, creative SFW video generation prompt (include camera angles, lighting, movement, style, mood, setting)
  - \`rating\`: Integer 0-5 (0=unrated, 1-2=basic, 3=good, 4=great, 5=exceptional)

**CONTENT GUIDELINES (IMPORTANT - SFW ONLY):**
- ALL prompts must be Safe For Work (SFW)
- NO adult content, violence, gore, or disturbing imagery
- Focus on: nature, landscapes, cityscapes, abstract art, technology, food, architecture, animals, space, weather, emotions (positive), everyday life, sports, travel, culture
- Keep content appropriate for all audiences
- Emphasize beauty, creativity, and artistic expression

**PROMPT QUALITY GUIDELINES:**
- Be specific and descriptive (mention camera movements, lighting conditions, time of day, weather, mood)
- Include cinematic details (focal length, framing, speed, effects)
- Vary complexity and style across prompts
- Mix different types (establishing shots, close-ups, actions, abstract, landscapes)
- Distribute ratings realistically (not all 5s, show variety)

**EXAMPLE SFW PACKS:**
Cinematic Landscapes, Abstract Art, Nature & Wildlife, Sci-Fi Technology, Urban Architecture, Serene Underwater, Cosmic Space, Seasonal Weather, Food & Cuisine, Cultural Celebrations, Sports Action, Minimalist Design, Retro Aesthetic, Emotional Moments, Travel Destinations

**RESPONSE RULE:**
Return ONLY the valid JSON. No explanations, no markdown, no code blocks. Just the raw JSON object.

---

What type of SFW video prompt pack would you like me to create? (Describe the theme, style, or mood you want)`;try{await navigator.clipboard.writeText(O),v("Grok prompt copied to clipboard!")}catch{v("Failed to copy prompt")}};return a.jsxs(a.Fragment,{children:[a.jsxs(mt,{isOpen:e,title:"Packs Management",onClose:t,getThemeColors:n,width:"95vw",maxWidth:"full",height:"85vh",maxHeight:"900px",padding:"p-4",overlayOpacity:.7,children:[x&&a.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-50 px-4 py-2 rounded-md shadow-lg text-sm font-medium whitespace-nowrap",style:{backgroundColor:n().BACKGROUND_MEDIUM,color:n().TEXT_PRIMARY,border:`1px solid ${n().BORDER}`,boxShadow:`0 4px 6px ${n().SHADOW}`,maxWidth:"300px",top:y?"16px":"-60px",opacity:y?.95:0,transition:"all 0.3s ease-in-out"},children:x}),a.jsxs("div",{className:"flex gap-4 flex-1 min-h-0 overflow-hidden",children:[a.jsx(K0,{onAddPack:D,onRenamePack:R,onDeletePack:$,onDropPrompt:B,importMode:d,onImportModeChange:h,onImport:()=>w(!0),onExport:()=>k(!0),onCopyGrokPrompt:U,getThemeColors:n}),a.jsx(J0,{onReorderPrompts:F,getThemeColors:n})]})]}),a.jsx(Q0,{isOpen:N,packs:Object.keys(r),currentPack:o,onClose:()=>k(!1),onSelectPack:Y,getThemeColors:n}),a.jsx(q0,{isOpen:C,importMode:d,onClose:()=>w(!1),onImport:M,getThemeColors:n}),E&&a.jsx(mt,{isOpen:!0,title:"Confirm Delete",onClose:I,getThemeColors:n,maxWidth:"sm",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("p",{style:{color:n().TEXT_PRIMARY},children:["Are you sure you want to delete the pack ",a.jsxs("strong",{children:['"',E,'"']}),"?",((H=r[E])==null?void 0:H.length)>0&&a.jsxs("span",{children:[" This will delete ",r[E].length," prompt",r[E].length!==1?"s":"","."]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(L,{onClick:I,variant:"default",children:"Cancel"}),a.jsx(L,{onClick:V,variant:"default",style:{backgroundColor:n().DANGER,color:"#fff"},children:"Delete"})]})]})})]})},Z0=()=>{const{packOrder:e,currentPack:t,setCurrentPack:n,reorderPacks:r}=Be(),{getThemeColors:o}=re(),{t:s}=Pe(),[l,i]=P.useState(!1),[c,u]=P.useState(!1),p=e;return a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(L,{onClick:()=>i(!0),icon:Rs,iconSize:.7,variant:"icon",tooltip:s("packManager.searchTooltip"),className:"flex-shrink-0"}),a.jsx(p0,{value:t,onChange:f=>n(f),options:p.map(f=>({value:f,label:f})),onReorder:f=>r(f),className:"flex-1 min-w-0"}),a.jsx(L,{onClick:()=>u(!0),icon:tl,iconSize:.7,variant:"icon",tooltip:"Manage packs and prompts",className:"flex-shrink-0"}),a.jsx(G0,{isOpen:l,onClose:()=>i(!1),getThemeColors:o}),a.jsx(Ef,{isOpen:c,onClose:()=>u(!1),getThemeColors:o})]})},ev=({isOpen:e,title:t,message:n,confirmText:r,cancelText:o,onClose:s,onConfirm:l,getThemeColors:i,variant:c="warning"})=>{const u=i(),{t:p}=Pe(),f=c==="danger"||c==="warning"?u.DANGER:u.GLOW_PRIMARY;return a.jsx(mt,{isOpen:e,title:t,onClose:s,getThemeColors:i,maxWidth:"xs",footer:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:s,className:"flex-1 text-xs",children:o||p("common.cancel")}),a.jsx(L,{onClick:l,icon:fo,iconSize:.7,className:"flex-1 text-xs",style:{backgroundColor:f,color:"#fff"},children:r||p("common.confirm")})]}),children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"rounded-full p-3",style:{backgroundColor:`${f}20`},children:a.jsx(W,{path:qs,size:1.5,color:f})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm mb-2",style:{color:u.TEXT_PRIMARY},children:n})})]})})},Cu={urls:[],videoIdsToUpscale:[],upscaleProgress:0,isUpscaling:!1,hdVideoCount:0,statusText:"Ready",isSpinning:!1},Yi=wt(e=>({...Cu,setMediaUrls:t=>e({urls:t}),setVideoIdsToUpscale:t=>e({videoIdsToUpscale:t}),setUpscaleProgress:t=>e({upscaleProgress:t}),setIsUpscaling:t=>e({isUpscaling:t}),setHdVideoCount:t=>e({hdVideoCount:t}),setStatusText:t=>e({statusText:t}),setIsSpinning:t=>e({isSpinning:t}),reset:()=>e(Cu)})),Xi=e=>{const t=P.useRef(window.location.href),{reset:n}=Yi();P.useEffect(()=>{const r=setInterval(()=>{const o=window.location.href;o!==t.current&&(console.log("[ImagineGodMode] URL changed, resetting state and refetching data"),n(),t.current=o,e&&e())},St.URL_WATCHER_INTERVAL);return()=>{clearInterval(r)}},[n,e])},nl=e=>{const[t,n]=P.useState([]),[r,o]=P.useState(!1),{listLimit:s}=re();return{likedPosts:t,isLoading:r,loadLikedPosts:async()=>{o(!0);try{const c=(await co(s)).posts||[];return n(c),c}catch(i){return console.error(`${_n} ${pn.FETCH_LIKED_FAILED}`,i),e&&e(pn.FETCH_LIKED_FAILED),[]}finally{o(!1)}}}},tv=({message:e="No post ID found",subMessage:t="Navigate to a post to continue"})=>{const{getThemeColors:n}=re(),r=n();return a.jsxs("div",{className:"flex flex-col w-full items-center justify-center py-8",children:[a.jsx("div",{className:"text-sm text-center",style:{color:r.TEXT_SECONDARY},children:e}),a.jsx("div",{className:"text-xs text-center mt-2",style:{color:`${r.TEXT_SECONDARY}80`},children:t})]})},Zr=e=>{const t=`/imagine/post/${e}`;return console.log("[ImagineGodMode] Navigating to post via history.pushState:",e),window.history.pushState({},"",t),window.dispatchEvent(new PopStateEvent("popstate")),!0},nv=(e,t)=>{var r;const n=(r=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:r.set;n==null||n.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))},rv=()=>{const e=document.querySelector(yt.MAKE_VIDEO_BUTTON);e?(console.log("[ImagineGodMode] Found Make video button:",e),[new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,composed:!0}),new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,composed:!0}),new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,composed:!0}),new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,composed:!0}),new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0})].forEach(n=>e.dispatchEvent(n))):console.warn("[ImagineGodMode] Make video button not found")},eo=(e,t="",n=100)=>{const r=document.querySelector(yt.TEXTAREA);if(r&&e){const o=t.trim()?`${t.trim()}, ${e}`.trim():e;nv(r,o),setTimeout(()=>{rv()},n)}},Cf=(e,t="",n,r=100)=>{eo(e,t,r),n&&setTimeout(()=>{Zr(n)},r+1e3)},La=()=>{const{currentPack:e,currentIndex:t,getCurrentPrompt:n,getCurrentPromptCount:r,updatePromptText:o,updatePromptRating:s,nextPrompt:l,prevPrompt:i,addPrompt:c,loadPostState:u,savePostState:p}=Be(),{getThemeColors:f,rememberPostState:m,confirmCopyFrom:x,globalPromptAddonEnabled:v,globalPromptAddon:y,listLimit:S}=re(),{getNextPostId:g,getPrevPostId:d,setCurrentPostId:h,setPosts:C}=uo(),{t:w}=Pe(),N=f(),k=n(),E=r(),[T,D]=P.useState(""),[R,$]=P.useState(null),[V,I]=P.useState(!1),[B,F]=P.useState(!1),Y=Ue.useRef(null),M=Ue.useRef(null),U=Ue.useRef(0),H=Ue.useRef(!1),{loadLikedPosts:O}=nl(()=>{}),A=P.useCallback(()=>{Y.current&&(window.clearTimeout(Y.current),Y.current=null),M.current&&(window.clearTimeout(M.current),M.current=null),H.current=!1},[]),j=P.useCallback(K=>{Y.current&&window.clearTimeout(Y.current),M.current&&window.clearTimeout(M.current),H.current=!1,U.current=Date.now(),Y.current=window.setTimeout(()=>{H.current=!0,U.current=Date.now();const fe=()=>{const st=Date.now()-U.current;if(K==="prev")if(t>0)i(),bo("prev");else{A();return}else if(t<E-1)l(),bo("next");else{A();return}let Pt=200;st>2e3?Pt=50:st>1e3?Pt=100:st>500&&(Pt=150),M.current&&window.clearTimeout(M.current),M.current=window.setTimeout(fe,Pt)};fe()},300)},[t,E,i,l,A]);Ue.useEffect(()=>()=>{A()},[A]);const X=P.useCallback(async()=>{const K=Pn();if($(K),h(K),K){const fe=await ji(K);D(fe),m&&await u(K)}else D("")},[u,m,h]),[_,J]=P.useState(S);P.useEffect(()=>{X(),O().then(K=>C(K))},[]),P.useEffect(()=>{_!==S&&(J(S),O().then(K=>C(K)))},[S,_,O,C]),Xi(X),P.useEffect(()=>{R&&m&&p(R)},[e,t,R,p,m]);const z=async K=>{D(K),R&&await Jg(R,K)},oe=()=>{var fe;const K=document.querySelector(yt.TEXTAREA);if(K&&k){const st=(fe=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:fe.set;st==null||st.call(K,k.text),K.dispatchEvent(new Event("input",{bubbles:!0})),K.dispatchEvent(new Event("change",{bubbles:!0})),Mh()}},xe=()=>{const K=document.querySelector(yt.TEXTAREA);if(!K)return;if(k!=null&&k.text.trim()&&x){I(!0);return}const fe=Ut(K.value);o(fe),hu(),vu()},Me=()=>{const K=document.querySelector(yt.TEXTAREA);if(!K)return;const fe=Ut(K.value);o(fe),hu(),vu(),I(!1)},ot=()=>{if(!k)return;const K=k.text,fe=k.rating;c(),o(K),s(fe)},an=K=>v&&y.trim()?`${K}, ${y.trim()}`:K,Ut=K=>{if(v&&y.trim()){const fe=`, ${y.trim()}`;if(K.endsWith(fe))return K.slice(0,-fe.length).trim()}return K},Rn=()=>{if(!k)return;Ps();const K=an(k.text);eo(K,T)},An=()=>{if(!k)return;const K=g();if(!K){F(!1);return}Ps(),Zp();const fe=an(k.text);if(Cf(fe,T,K),B){const st=1e3+Math.random()*500;setTimeout(()=>{const Pt=g();B&&Pt?An():Pt||F(!1)},st)}},ho=()=>{const K=d();K&&Zr(K)},qi=()=>{const K=g();K&&Zr(K)},Ht=!(k!=null&&k.text.trim())&&!T.trim();return R?a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx(Z0,{}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"text-xs mb-1 block",style:{color:N.TEXT_SECONDARY},children:"Prefix (applied when pressing Make)"}),a.jsx("input",{type:"text",value:T,onChange:K=>z(K.target.value),placeholder:"Enter prefix text...",className:"w-full px-3 py-2 rounded-lg text-sm focus:outline-none backdrop-blur-xl",style:{backgroundColor:`${N.BACKGROUND_MEDIUM}aa`,color:N.TEXT_PRIMARY,border:`1px solid ${N.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}})]}),a.jsx("textarea",{value:(k==null?void 0:k.text)||"",onChange:K=>o(K.target.value),placeholder:w("prompt.placeholder"),className:"w-full h-32 px-3 py-2 rounded-lg text-sm resize-none focus:outline-none custom-scrollbar mt-3 backdrop-blur-xl",style:{backgroundColor:`${N.BACKGROUND_MEDIUM}aa`,color:N.TEXT_PRIMARY,border:`1px solid ${N.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}}),a.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(Sf,{rating:(k==null?void 0:k.rating)||0,onChange:s}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(L,{variant:"icon",icon:ja,onClick:()=>{H.current||(i(),bo("prev"))},onMouseDown:()=>j("prev"),onMouseUp:A,onMouseLeave:A,onTouchStart:()=>j("prev"),onTouchEnd:A,disabled:t===0,tooltip:"Previous prompt (Left arrow, hold for fast navigation)"}),a.jsxs("span",{className:"text-sm",style:{color:N.TEXT_SECONDARY},children:[t+1," / ",E]}),a.jsx(L,{variant:"icon",icon:ba,onClick:()=>{H.current||(l(),bo("next"))},onMouseDown:()=>j("next"),onMouseUp:A,onMouseLeave:A,onTouchStart:()=>j("next"),onTouchEnd:A,disabled:t>=E-1,tooltip:"Next prompt (Right arrow, hold for fast navigation)"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:oe,icon:Hh,className:"flex-1",tooltip:w("prompt.toTooltip"),children:"To"}),a.jsx(L,{onClick:xe,icon:Vh,className:"flex-1",tooltip:w("prompt.fromTooltip"),children:"From"}),a.jsx(L,{onClick:()=>{k&&(navigator.clipboard.writeText(k.text),Dh())},icon:af,className:"flex-1",tooltip:w("prompt.copyTooltip"),children:w("common.copy")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:c,icon:Fi,className:"flex-1",tooltip:w("prompt.addTooltip"),children:w("common.add")}),a.jsx(L,{onClick:ot,icon:cf,className:"flex-1",tooltip:"Duplicate current prompt",children:"Duplicate"}),a.jsx(L,{onClick:Rn,icon:Bi,iconColor:Ie.BLACK,className:"flex-1 !bg-white !text-black hover:!bg-white/90",disabled:Ht,tooltip:w("prompt.makeTooltip"),children:w("common.make")})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{className:"col-span-1 flex justify-between",children:[a.jsx(L,{variant:"icon",icon:of,onClick:ho,disabled:!d(),tooltip:"Navigate to previous post"}),a.jsx(L,{variant:"icon",icon:sf,onClick:qi,disabled:!g(),tooltip:"Navigate to next post"})]}),a.jsxs("div",{className:"col-span-2 flex",children:[a.jsx(L,{onClick:An,icon:hf,iconColor:Ie.BLACK,className:"!bg-white !text-black hover:!bg-white/90 !rounded-r-none",style:{width:"80%"},disabled:!g()||Ht,tooltip:"Make video and navigate to next post",children:"Make + Next"}),a.jsx(L,{variant:"icon",icon:tf,onClick:()=>F(!B),tooltip:"Auto: Automatically repeat Make + Next with 1-1.5s delay",className:B?"!bg-slate-400 !border-slate-400 !rounded-l-none !border-l-0":"!rounded-l-none !border-l-0",style:{width:"20%"},iconColor:B?Ie.BLACK:void 0})]})]})]}),a.jsx(ev,{isOpen:V,title:"Replace Prompt Text?",message:"This will replace the current prompt text. Are you sure you want to continue?",confirmText:"Replace",onClose:()=>I(!1),onConfirm:Me,getThemeColors:f,variant:"warning"})]}):a.jsx(tv,{subMessage:"Navigate to a post to manage prompts"})},ov=({processedCount:e,totalCount:t,label:n,backgroundColor:r,progressColor:o,textColor:s})=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1 items-center",style:{color:s},children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(W,{path:Mt,size:.6,className:"animate-spin"}),n]}),a.jsxs("span",{children:[e," / ",t]})]}),a.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden",style:{backgroundColor:r},children:a.jsx("div",{className:"h-full",style:{width:`${t>0?e/t*100:0}%`,backgroundColor:o,transition:"width 0.3s ease-in-out"}},`progress-${e}`)})]}),Ki=({onSelectAll:e,onDeselectAll:t})=>{const{t:n}=Pe();return a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(L,{onClick:e,className:"text-xs flex-1",children:n("common.selectAll")}),a.jsx(L,{onClick:t,className:"text-xs flex-1",children:n("common.deselectAll")})]})},Wi=({posts:e,selectedIds:t,isProcessing:n,onItemClick:r,renderOverlay:o,renderBadges:s,getBorderColor:l,colors:i})=>a.jsx("div",{className:"flex-1 overflow-y-scroll mb-3",children:a.jsx("div",{className:"grid grid-cols-5 gap-2",children:e.map(c=>{const u=t.has(c.id),p=c.thumbnailImageUrl||c.mediaUrl;return a.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden transition-all cursor-pointer",style:{border:`2px solid ${l(u)}`,opacity:n?.7:u?1:.6,pointerEvents:n?"none":"auto"},onClick:f=>r(c.id,f),onMouseEnter:f=>{!u&&!n&&(f.currentTarget.style.opacity="0.8")},onMouseLeave:f=>{!u&&!n&&(f.currentTarget.style.opacity="0.6")},children:[a.jsx("img",{src:p,alt:c.prompt||"Post",className:"w-full h-full object-cover",loading:"lazy"}),o(c,u),c.videoCount!==void 0&&c.videoCount>0&&a.jsxs("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 rounded text-xs font-semibold flex items-center gap-0.5",style:{backgroundColor:i.BACKGROUND_DARK,color:i.TEXT_PRIMARY,opacity:.9},children:[a.jsx(W,{path:Kh,size:.5}),c.videoCount]}),s==null?void 0:s(c)]},c.id)})})}),Ji=e=>{const[t,n]=P.useState(new Set),[r,o]=P.useState(null),s=P.useCallback((u,p)=>{p==null||p.stopPropagation();const f=e.findIndex(m=>m.id===u);if(p!=null&&p.shiftKey&&r!==null&&f!==-1){const m=new Set(t),x=Math.min(r,f),v=Math.max(r,f),y=!t.has(u);for(let S=x;S<=v;S++)y?m.add(e[S].id):m.delete(e[S].id);n(m)}else{const m=new Set(t);m.has(u)?m.delete(u):m.add(u),n(m)}f!==-1&&o(f)},[e,t,r]),l=P.useCallback(()=>{n(new Set(e.map(u=>u.id)))},[e]),i=P.useCallback(()=>{n(new Set)},[]),c=P.useCallback(()=>{n(new Set),o(null)},[]);return{selectedIds:t,setSelectedIds:n,toggleSelection:s,selectAll:l,deselectAll:i,clearSelection:c}},wf=({isOpen:e,posts:t,mode:n,onClose:r,onConfirm:o,getThemeColors:s,isProcessing:l=!1,processedCount:i=0,totalCount:c=0})=>{const u=s(),{t:p}=Pe(),{selectedIds:f,toggleSelection:m,selectAll:x,deselectAll:v,setSelectedIds:y}=Ji(t);P.useEffect(()=>{e&&t.length>0&&y(new Set(t.map(k=>k.id)))},[e,t,y]);const S=()=>{x(),bi(n)},g=()=>{v(),Li(n)},d=()=>{const k=Array.from(f);Ui(n,k.length),o(k)},h=t||[],C=h.map(k=>{var E;return{id:k.id,thumbnailImageUrl:k.thumbnailImageUrl,mediaUrl:k.mediaUrl,prompt:k.prompt,videoCount:((E=k.childPosts)==null?void 0:E.filter(T=>T.mediaType==="video").length)||0}}),w=n==="upscale"?p("modals.upscale.title",{selected:f.size,total:h.length}):p("modals.like.title",{selected:f.size,total:h.length}),N=n==="upscale"?p("modals.upscale.actionText",{count:f.size,plural:f.size!==1?"s":""}):p("modals.like.actionText",{count:f.size,plural:f.size!==1?"s":""});return a.jsx(mt,{isOpen:e,title:w,onClose:r,getThemeColors:s,width:"90vw",maxWidth:"full",height:"85vh",maxHeight:"800px",padding:"p-6",overlayOpacity:.7,closeOnOverlayClick:!l,disableClose:l,footer:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(L,{onClick:r,className:"text-xs",disabled:l,icon:l?Mt:void 0,iconClassName:l?"animate-spin":"",children:p(l?"common.processing":"common.cancel")}),!l&&a.jsx(L,{onClick:d,className:"text-xs",disabled:f.size===0,children:N})]}),children:a.jsxs(a.Fragment,{children:[l&&a.jsx(ov,{processedCount:i,totalCount:c,label:p("common.processing"),backgroundColor:u.BACKGROUND_MEDIUM,progressColor:u.SUCCESS,textColor:u.TEXT_SECONDARY}),!l&&a.jsx(Ki,{onSelectAll:S,onDeselectAll:g}),a.jsx(Wi,{posts:C,selectedIds:f,isProcessing:l,onItemClick:m,getBorderColor:k=>k?u.SUCCESS:u.BORDER,colors:u,renderOverlay:(k,E)=>a.jsx("button",{onClick:T=>m(k.id,T),disabled:l,className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-full p-2",style:{backgroundColor:E?u.SUCCESS:u.BACKGROUND_MEDIUM,cursor:l?"not-allowed":"pointer"},children:a.jsx(W,{path:E?el:Zs,size:1.5,color:"#fff"})})})]})})},sv=({isOpen:e,posts:t,onClose:n,onConfirm:r,getThemeColors:o})=>{const s=o(),{t:l}=Pe(),{selectedIds:i,toggleSelection:c,selectAll:u,deselectAll:p,clearSelection:f}=Ji(t);P.useEffect(()=>{e&&f()},[e,f]);const m=()=>{u(),bi("unlike")},x=()=>{p(),Li("unlike")},v=()=>{const h=Array.from(i);Ui("unlike",h.length),r(h)},y=t||[],S=y.map(h=>{var C;return{id:h.id,thumbnailImageUrl:h.thumbnailImageUrl,mediaUrl:h.mediaUrl,prompt:h.prompt,videoCount:((C=h.childPosts)==null?void 0:C.filter(w=>w.mediaType==="video").length)||0}}),g=l("modals.unlike.title",{selected:i.size,total:y.length}),d=l("modals.unlike.actionText",{count:i.size,plural:i.size!==1?"s":""});return a.jsx(mt,{isOpen:e,title:g,onClose:n,getThemeColors:o,width:"90vw",maxWidth:"full",height:"85vh",maxHeight:"800px",padding:"p-6",overlayOpacity:.7,closeOnOverlayClick:!0,disableClose:!1,footer:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(L,{onClick:n,className:"text-xs",children:l("common.cancel")}),a.jsx(L,{onClick:v,className:"text-xs",disabled:i.size===0,children:d})]}),children:a.jsxs(a.Fragment,{children:[a.jsx(Ki,{onSelectAll:m,onDeselectAll:x}),a.jsx(Wi,{posts:S,selectedIds:i,isProcessing:!1,onItemClick:c,getBorderColor:h=>h?s.DANGER:s.BORDER,colors:s,renderOverlay:(h,C)=>a.jsx("button",{onClick:w=>c(h.id,w),className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-full p-2",style:{backgroundColor:C?s.DANGER:s.SUCCESS,cursor:"pointer"},children:a.jsx(W,{path:C?zi:Ns,size:1.5,color:"#fff"})})})]})})},lv=({isOpen:e,posts:t,onClose:n,onRelike:r,onImport:o,getThemeColors:s})=>{const l=s(),{t:i}=Pe(),[c,u]=P.useState(""),p=P.useRef(null),f=[...t].sort((R,$)=>$.unlikedAt-R.unlikedAt),{selectedIds:m,toggleSelection:x,selectAll:v,deselectAll:y,clearSelection:S}=Ji(f);P.useEffect(()=>{e||S()},[e,S]);const g=()=>{v(),bi("relike")},d=()=>{y(),Li("relike")},h=()=>{const R=Array.from(m);Ui("relike",R.length),r(R)},C=R=>new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),w=()=>{const R={version:"1.0",exportDate:new Date().toISOString(),posts:t,count:t.length},$=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),V=URL.createObjectURL($),I=document.createElement("a");I.href=V;const B=new Date().toISOString().split("T")[0];I.download=`unliked-archive-${B}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(V)},N=()=>{var R;u(""),(R=p.current)==null||R.click()},k=R=>{var I;const $=(I=R.target.files)==null?void 0:I[0];if(!$)return;const V=new FileReader;V.onload=B=>{var F;try{const Y=(F=B.target)==null?void 0:F.result,M=JSON.parse(Y);if(!M.posts||!Array.isArray(M.posts)){u("Invalid file format: missing posts array");return}for(const U of M.posts){if(!U.id||typeof U.id!="string"){u("Invalid file format: post missing id field");return}if(U.prompt===void 0||typeof U.prompt!="string"){u("Invalid file format: post missing prompt field");return}if(!U.mediaUrl||typeof U.mediaUrl!="string"){u("Invalid file format: post missing mediaUrl field");return}if(U.unlikedAt===void 0||typeof U.unlikedAt!="number"){u("Invalid file format: post missing unlikedAt field");return}}o&&(o(M.posts),u(""))}catch(Y){u(Y instanceof Error?Y.message:"Failed to parse file")}},V.onerror=()=>{u("Failed to read file")},V.readAsText($),R.target.value=""},E=f.map(R=>({id:R.id,thumbnailImageUrl:R.thumbnailImageUrl,mediaUrl:R.mediaUrl,prompt:R.prompt,videoCount:R.childPostCount})),T=i("modals.unlikedArchive.title",{total:t.length}),D=m.size>0?i("modals.unlikedArchive.actionText",{count:m.size,plural:m.size!==1?"s":""}):i("modals.unlikedArchive.selectPrompt");return a.jsx(mt,{isOpen:e,title:T,onClose:n,getThemeColors:s,width:"90vw",maxWidth:"full",height:"85vh",maxHeight:"800px",padding:"p-6",overlayOpacity:.7,closeOnOverlayClick:!0,disableClose:!1,footer:a.jsxs("div",{className:"flex gap-2 justify-between",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:w,className:"text-xs",disabled:t.length===0,icon:Vi,children:i("common.export")}),o&&a.jsx(L,{onClick:N,className:"text-xs",icon:As,children:i("common.import")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:n,className:"text-xs",children:i("common.close")}),a.jsx(L,{onClick:h,className:"text-xs",disabled:m.size===0,icon:Ns,children:D})]})]}),children:a.jsxs(a.Fragment,{children:[a.jsx("input",{ref:p,type:"file",accept:".json",onChange:k,style:{display:"none"}}),c&&a.jsx("div",{className:"mb-3 p-2 rounded text-xs",style:{backgroundColor:l.BACKGROUND_MEDIUM,color:l.DANGER||"#ff4444",border:`1px solid ${l.DANGER||"#ff4444"}`},children:c}),a.jsx(Ki,{onSelectAll:g,onDeselectAll:d}),f.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:l.TEXT_SECONDARY},children:i("modals.unlikedArchive.noPostsMessage")}):a.jsx(Wi,{posts:E,selectedIds:m,isProcessing:!1,onItemClick:x,getBorderColor:R=>R?l.SUCCESS:l.BORDER,colors:l,renderOverlay:(R,$)=>$?a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:a.jsx(W,{path:Ns,size:2,color:l.SUCCESS})}):null,renderBadges:R=>{const $=f.find(V=>V.id===R.id);return $?a.jsx("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 rounded text-xs font-semibold",style:{backgroundColor:l.BACKGROUND_DARK,color:l.TEXT_SECONDARY,opacity:.9},children:C($.unlikedAt)}):null}})]})})},av=()=>{const{urls:e,videoIdsToUpscale:t,hdVideoCount:n,statusText:r,setMediaUrls:o,setVideoIdsToUpscale:s,setHdVideoCount:l,setStatusText:i}=Yi(),{getThemeColors:c,listLimit:u}=re(),{addJob:p,isProcessing:f}=Js(),{setPosts:m,setCurrentPostId:x,ensureCurrentPostInList:v}=uo(),{userId:y}=qr(),S=c(),[g,d]=P.useState(null),[h,C]=P.useState(!1),[w,N]=P.useState(!1),[k,E]=P.useState(!1),[T,D]=P.useState([]),{likedPosts:R,isLoading:$,loadLikedPosts:V}=nl(i),I=P.useCallback(async()=>{var xe;const z=Pn();if(d(z),x(z),console.log(`${_n} Post ID:`,z),!z)return;i(pn.FETCHING),console.log(`${_n} Fetching post:`,z);const oe=await Ws(z);if(console.log(`${_n} Fetch response:`,oe),oe.success&&oe.data){const Me=cr(oe.data);console.log(`${_n} Processed data:`,Me),(xe=oe.data)!=null&&xe.post&&v(oe.data.post),o(Me.mediaUrls),s(Me.videosToUpscale),l(Me.hdVideoCount),i(pn.FOUND_MEDIA(Me.urls.length,Me.hdVideoCount))}else console.error(`${_n} Fetch failed:`,oe),i(pn.FETCH_FAILED)},[o,s,l,i,x,v]);Xi(I);const[B,F]=P.useState(u);P.useEffect(()=>{I(),V().then(z=>m(z))},[]),P.useEffect(()=>{B!==u&&(F(u),V().then(z=>m(z)))},[u,B,V,m]);const Y=()=>{if(e.length===0){i("No media to download");return}if(!g){i("No post ID found");return}const z=e.map(oe=>{const xe=oe.url.split("/"),ot=xe[xe.length-1].split("?")[0]||`media_${Date.now()}`;return{url:oe.url,filename:ot}});p({type:"download",totalItems:z.length,data:{type:"download",postIds:[g],items:z}}),i(`Added download job: ${e.length} file${e.length===1?"":"s"}`),kh(e.length,"mixed"),o([])},M=()=>{if(t.length===0){i(pn.NO_VIDEOS);return}if(!g){i(pn.NO_POST_ID);return}p({type:"upscale",totalItems:t.length,data:{type:"upscale",postIds:[g],videoIds:t}}),i(`Added upscale job: ${t.length} video${t.length===1?"":"s"}`),s([])},U=async()=>{const z=await V();m(z),z.length>0&&(C(!0),Qo("upscale_all"))},H=async z=>{C(!1),p({type:"process-for-upscale",totalItems:z.length,data:{type:"process-for-upscale",postIds:z}}),i(`Added processing job: ${z.length} post${z.length===1?"":"s"}`)},O=async()=>{const z=await V();m(z),z.length>0&&(N(!0),Qo("unlike_posts"))},A=async z=>{N(!1);const oe=R.filter(xe=>z.includes(xe.id));p({type:"unlike",totalItems:z.length,data:{type:"unlike",postIds:z,posts:oe}}),i(`Added unlike job: ${z.length} post${z.length===1?"":"s"}`)},j=async()=>{const z=await ws(y??void 0);D(z),E(!0),Qo("unliked_archive")},X=async z=>{E(!1),p({type:"relike",totalItems:z.length,data:{type:"relike",postIds:z}}),i(`Added relike job: ${z.length} post${z.length===1?"":"s"}`)},_=async z=>{await Jp(z,y??void 0);const oe=await ws(y??void 0);D(oe),i(`Imported ${z.length} posts to archive`),setTimeout(()=>i(""),3e3)},J=e.length>0&&t.length===0&&n>0;return a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"text-sm text-center flex items-center justify-center gap-2",style:{color:S.TEXT_SECONDARY},children:[J&&a.jsx(W,{path:nf,size:.7,color:S.SUCCESS}),a.jsx("span",{children:r})]}),e.length>0&&a.jsxs("div",{className:"text-xs text-center",style:{color:`${S.TEXT_SECONDARY}80`},children:[e.length," media files  ",n," HD videos"]}),g&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{onClick:M,icon:ff,disabled:t.length===0,className:"flex-1",tooltip:f?"Add to upscale queue":"Upscale videos to HD quality",children:f?"Add to Queue":"Upscale"}),a.jsx(L,{onClick:Y,icon:Vi,disabled:e.length===0||t.length>0,className:"flex-1",tooltip:t.length>0?"Upscale all videos to HD first":"Download all media files",children:"Download"})]}),a.jsxs("div",{className:"mt-4 rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${S.BACKGROUND_MEDIUM}e6 0%, ${S.BACKGROUND_DARK}f2 100%)`,borderColor:`${S.BORDER}50`,boxShadow:`0 8px 32px 0 ${S.BACKGROUND_DARK}66, inset 0 1px 0 0 ${S.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:S.TEXT_SECONDARY,borderColor:`${S.BORDER}40`},children:"Bulk Actions"}),a.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[a.jsx(L,{onClick:U,icon:$?Mt:pf,iconClassName:$?"animate-spin":"",disabled:$,className:"w-full transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",tooltip:"Upscale videos from multiple liked posts",children:$?"Loading":"Upscale All Liked"}),a.jsx(L,{onClick:O,icon:$?Mt:zi,iconClassName:$?"animate-spin":"",disabled:$,className:"w-full transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",tooltip:"Unlike multiple posts at once",children:$?"Loading":"Unlike Multiple Posts"}),a.jsx(L,{onClick:j,icon:Uh,className:"w-full transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",tooltip:"View and manage unliked posts archive",children:"Unliked Archive"})]})]}),a.jsx(wf,{isOpen:h,posts:R,mode:"upscale",onClose:()=>{C(!1),qo("upscale_all")},onConfirm:H,getThemeColors:c}),a.jsx(sv,{isOpen:w,posts:R,onClose:()=>{N(!1),qo("unlike_posts")},onConfirm:A,getThemeColors:c}),a.jsx(lv,{isOpen:k,posts:T,onClose:()=>{E(!1),qo("unliked_archive")},onRelike:X,onImport:_,getThemeColors:c})]})};let iv=0;const xt=({id:e,checked:t,onChange:n,disabled:r=!1})=>{const{getThemeColors:o}=re(),s=o(),[l,i]=P.useState(!1),[c,u]=P.useState(0),p=P.useRef();p.current===void 0&&(p.current=++iv);const f=`toggleGlow-${p.current}`,m=`
    @keyframes ${f} {
      0% {
        left: -150%;
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        left: 150%;
        opacity: 0;
      }
    }
  `;return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:m}),a.jsxs("label",{className:"relative inline-block w-12 h-6 cursor-pointer",children:[a.jsx("input",{id:e,type:"checkbox",checked:t,onChange:x=>n(x.target.checked),disabled:r,className:"sr-only peer"}),a.jsxs("div",{className:"toggle-track w-full h-full rounded-full relative overflow-hidden transition-all duration-300 border",style:{"--toggle-bg":t?s.SUCCESS:s.BACKGROUND_MEDIUM,"--toggle-border":t?s.SUCCESS:s.BORDER,opacity:r?.5:1,cursor:r?"not-allowed":"pointer",boxShadow:l&&!r?`0 0 15px ${s.SUCCESS}30`:"none"},onMouseEnter:()=>{r||(i(!0),u(x=>x+1))},onMouseLeave:()=>{r||i(!1)},children:[l&&!r&&a.jsx("span",{className:"absolute pointer-events-none",style:{background:t?"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.4) 50%, transparent 100%)":`linear-gradient(90deg, transparent 0%, ${s.SUCCESS}50 50%, transparent 100%)`,width:"60px",height:"200%",top:"-50%",left:"-150%",transform:"rotate(20deg)",animation:`${f} 0.6s ease-out forwards`,zIndex:1}},c),a.jsx("div",{className:"absolute top-[1px] left-[1px] w-5 h-5 rounded-full bg-white z-10",style:{transform:t?"translateX(26px)":"translateX(0)",transition:"transform 0.2s ease"}})]})]})]})},Qi=()=>re.getState().enableSound,to=(e,t,n="sine",r=.4)=>{try{const o=window.AudioContext||window.webkitAudioContext;if(!o)throw new Error("AudioContext not supported");const s=new o,l=s.createOscillator(),i=s.createGain();l.connect(i),i.connect(s.destination),l.frequency.value=e,l.type=n,i.gain.setValueAtTime(r,s.currentTime),i.gain.exponentialRampToValueAtTime(.01,s.currentTime+t),l.start(s.currentTime),l.stop(s.currentTime+t)}catch(o){console.error("[Audio] Error playing tone:",o)}},Ds=(e,t,n)=>{try{const r=window.AudioContext||window.webkitAudioContext;if(!r)throw new Error("AudioContext not supported");const o=new r,s=o.createOscillator(),l=o.createGain();s.connect(l),l.connect(o.destination),s.type="square",s.frequency.setValueAtTime(e,o.currentTime),s.frequency.exponentialRampToValueAtTime(t,o.currentTime+n),l.gain.setValueAtTime(.5,o.currentTime),l.gain.exponentialRampToValueAtTime(.01,o.currentTime+n),s.start(o.currentTime),s.stop(o.currentTime+n)}catch(r){console.error("[Audio] Error playing frequency sweep:",r)}},cv=()=>{Qi()&&(Ds(800,1600,.08),setTimeout(()=>to(1200,.06,"square",.3),10))},wu=()=>{Qi()&&(Ds(400,80,.25),setTimeout(()=>to(150,.2,"sawtooth",.6),20),to(60,.05,"square",.4))},uv=()=>{if(!Qi())return;const e=[{freq:523.25,duration:.15},{freq:659.25,duration:.15},{freq:783.99,duration:.15},{freq:1046.5,duration:.15},{freq:1318.51,duration:.2},{freq:1567.98,duration:.3}];let t=0;e.forEach(({freq:n,duration:r},o)=>{setTimeout(()=>{to(n,r,"square",.5),to(n/2,r,"square",.3),o%2===0&&Ds(n,n*1.1,r*.5)},t),t+=r*1e3*.7}),setTimeout(()=>{Ds(1567.98,3135.96,.4)},t+100)},Ua=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dv={ArrowUp:"",ArrowDown:"",ArrowLeft:"",ArrowRight:""},pv=6,Qe={PRESS_ANIMATION_DURATION:200,ASCEND_ANIMATION_DURATION:600,ASCEND_STAGGER_DELAY:50,COMPLETION_DELAY:600,ERROR_RESET_DELAY:500,SEQUENCE_TIMEOUT:5e3},xr={PRESS_SCALE:1.2,PRESS_ROTATION:5,ICON_PRESS_SCALE:1.1,ASCEND_BASE_OFFSET:100,ASCEND_STAGGER_OFFSET:20},fv="cubic-bezier(0.34, 1.56, 0.64, 1)",mv=()=>{const e=[];for(let t=0;t<pv;t++){const n=Math.floor(Math.random()*Ua.length);e.push(Ua[n])}return e},gv=e=>Ua.includes(e),hv=(e,t,n)=>`translateY(-${t+e*n}px)`,vv=(e,t)=>`${e*(t/1e3)}s`,xv=({isOpen:e,onClose:t,onConfirm:n,getThemeColors:r})=>{const o=r(),{t:s}=Pe(),{addJob:l}=Js(),[i,c]=P.useState([]),[u,p]=P.useState([]),[f,m]=P.useState(!1),[x,v]=P.useState(!1),[y,S]=P.useState(null),[g,d]=P.useState(Qe.SEQUENCE_TIMEOUT),[h,C]=P.useState(!1),[w,N]=P.useState(!1),[k,E]=P.useState([{id:"liked-posts",titleKey:"modals.purge.allLikedPosts",descKey:"modals.purge.allLikedPostsDesc",status:"pending"},{id:"unliked-archive",titleKey:"modals.purge.unlikedArchive",descKey:"modals.purge.unlikedArchiveDesc",status:"pending"},{id:"prompt-packs",titleKey:"modals.purge.allPromptPacks",descKey:"modals.purge.allPromptPacksDesc",status:"pending"}]),[T,D]=P.useState(!1),R=Ue.useRef(null),$=Ue.useRef(null),V=()=>{p([]),d(Qe.SEQUENCE_TIMEOUT),C(!1),S(null),N(!1),R.current&&(window.clearInterval(R.current),R.current=null),$.current=null};P.useEffect(()=>{e&&(c(mv()),p([]),m(!1),v(!1),D(!1),E([{id:"liked-posts",titleKey:"modals.purge.allLikedPosts",descKey:"modals.purge.allLikedPostsDesc",status:"pending"},{id:"unliked-archive",titleKey:"modals.purge.unlikedArchive",descKey:"modals.purge.unlikedArchiveDesc",status:"pending"},{id:"prompt-packs",titleKey:"modals.purge.allPromptPacks",descKey:"modals.purge.allPromptPacksDesc",status:"pending"}]),V())},[e]),P.useEffect(()=>{if(h&&!f)return $.current=Date.now(),R.current=window.setInterval(()=>{const B=Date.now()-($.current||Date.now()),F=Math.max(0,Qe.SEQUENCE_TIMEOUT-B);d(F),F<=0&&(wu(),N(!0),setTimeout(()=>{V()},Qe.ERROR_RESET_DELAY))},16),()=>{R.current&&window.clearInterval(R.current)}},[h,f]),P.useEffect(()=>{if(!e||f)return;const B=F=>{if(!gv(F.key))return;F.preventDefault(),u.length===0&&!h&&C(!0);const Y=u.length;if(!(F.key===i[Y])){wu(),S(Y),N(!0),setTimeout(()=>{S(null),V()},Qe.ERROR_RESET_DELAY);return}const U=[...u,F.key];S(Y),setTimeout(()=>S(null),Qe.PRESS_ANIMATION_DURATION),cv(),p(U),U.length===i.length&&(uv(),v(!0),C(!1),R.current&&window.clearInterval(R.current),setTimeout(()=>{m(!0)},Qe.COMPLETION_DELAY))};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[e,u,i,f,h]);const I=async()=>{D(!0);for(let B=0;B<k.length;B++)E(F=>F.map((Y,M)=>M===B?{...Y,status:"in_progress"}:Y)),await new Promise(F=>setTimeout(F,800)),E(F=>F.map((Y,M)=>M===B?{...Y,status:"completed"}:Y));await new Promise(B=>setTimeout(B,1e3)),l({type:"purge-liked",totalItems:1,data:{type:"purge-liked",category:"liked-posts"}}),l({type:"purge-archive",totalItems:1,data:{type:"purge-archive",category:"unliked-archive"}}),l({type:"purge-packs",totalItems:1,data:{type:"purge-packs",category:"prompt-packs"}}),t()};return a.jsx(mt,{isOpen:e,title:s("modals.purge.title"),onClose:t,getThemeColors:r,maxWidth:"md",padding:"p-6",closeOnOverlayClick:!1,disableClose:!1,children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg flex flex-col items-center gap-3",style:{backgroundColor:"#ef444420",border:"2px solid #ef4444"},children:[a.jsx(W,{path:qs,size:2.5,color:"#ef4444"}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"#ef4444"},children:s("modals.purge.dangerZone")}),a.jsx("p",{className:"text-sm",style:{color:o.TEXT_PRIMARY},children:s("modals.purge.warningMessage")})]})]}),a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:o.BACKGROUND_MEDIUM,border:`1px solid ${o.BORDER}`},children:a.jsx("ul",{className:"text-sm space-y-2",style:{color:o.TEXT_PRIMARY},children:k.map(B=>{const F=B.status==="completed",Y=B.status==="in_progress";return a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{style:{color:F?o.SUCCESS:Y?"#f59e0b":"#ef4444",transition:"color 0.3s ease"},children:F?"":Y?"":""}),a.jsxs("span",{style:{opacity:F?.6:1,textDecoration:F?"line-through":"none",transition:"all 0.3s ease"},children:[a.jsx("strong",{children:s(B.titleKey)})," - ",s(B.descKey)]})]},B.id)})})}),a.jsx("p",{className:"text-xs text-center font-bold",style:{color:"#ef4444"},children:s("modals.purge.cannotBeUndone")}),f?a.jsx("div",{className:"text-center p-3 rounded-lg",style:{backgroundColor:`${o.SUCCESS}20`,border:`1px solid ${o.SUCCESS}`,color:o.SUCCESS},children:s("modals.purge.sequenceComplete")}):a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("div",{className:"text-sm text-center p-2 rounded",style:{backgroundColor:o.BACKGROUND_MEDIUM,color:o.TEXT_SECONDARY},children:s("modals.purge.pressArrowKeys")}),h&&a.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{backgroundColor:o.BACKGROUND_MEDIUM,border:`1px solid ${o.BORDER}`},children:a.jsx("div",{className:"h-full transition-all",style:{width:`${g/Qe.SEQUENCE_TIMEOUT*100}%`,backgroundColor:g<1e3?"#ef4444":o.SUCCESS,transition:"width 0.016s linear, background-color 0.3s ease"}})}),a.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:i.map((B,F)=>{const Y=F<u.length,M=Y&&u[F]===B,U=Y&&u[F]!==B,H=y===F;return a.jsx("div",{className:"flex items-center justify-center rounded-lg",style:{width:"48px",height:"48px",backgroundColor:w?"#ef4444":M?o.SUCCESS:U?"#ef4444":o.BACKGROUND_MEDIUM,border:`2px solid ${w?"#ef4444":M?o.SUCCESS:U?"#ef4444":o.BORDER}`,opacity:x?0:Y||w?1:.5,transform:H?`scale(${xr.PRESS_SCALE}) rotate(${xr.PRESS_ROTATION}deg)`:x?hv(F,xr.ASCEND_BASE_OFFSET,xr.ASCEND_STAGGER_OFFSET):"scale(1) rotate(0deg)",transition:x?`all ${Qe.ASCEND_ANIMATION_DURATION/1e3}s ${fv} ${vv(F,Qe.ASCEND_STAGGER_DELAY)}`:`all ${Qe.PRESS_ANIMATION_DURATION/1e3}s ease`,boxShadow:H?`0 0 20px ${M?o.SUCCESS:"#ef4444"}`:"none"},children:a.jsx("span",{className:"text-2xl",style:{color:Y?"#fff":o.TEXT_SECONDARY,transform:H?`scale(${xr.ICON_PRESS_SCALE})`:"scale(1)",transition:`transform ${Qe.PRESS_ANIMATION_DURATION/1e3}s ease`},children:dv[B]})},F)})}),a.jsxs("div",{className:"text-xs text-center",style:{color:o.TEXT_SECONDARY},children:[u.length===0&&s("modals.purge.startPressing"),u.length>0&&u.length<i.length&&`${u.length} / ${i.length}`]})]}),a.jsxs("div",{className:"flex gap-3 mt-2",children:[a.jsx(L,{onClick:t,className:"flex-1",disabled:T,style:{opacity:T?.5:1,cursor:T?"not-allowed":"pointer"},children:s("common.cancel")}),a.jsx(L,{onClick:I,icon:tn,className:"flex-1",disabled:!f||T,style:{backgroundColor:f&&!T?o.DANGER:o.BACKGROUND_MEDIUM,color:f&&!T?"#fff":o.TEXT_SECONDARY,opacity:f&&!T?1:.5,cursor:f&&!T?"pointer":"not-allowed"},children:T?"Purging...":s("modals.purge.purgeAllDataButton")})]})]})})},yv=()=>{const{theme:e,size:t,autoDownload:n,rememberPostState:r,simpleShortcut:o,hideUnsave:s,enableThePit:l,enableSound:i,confirmCopyFrom:c,globalPromptAddonEnabled:u,globalPromptAddon:p,listLimit:f,setTheme:m,setSize:x,setAutoDownload:v,setRememberPostState:y,setSimpleShortcut:S,setHideUnsave:g,setEnableThePit:d,setEnableSound:h,setConfirmCopyFrom:C,setGlobalPromptAddonEnabled:w,setGlobalPromptAddon:N,setListLimit:k,getThemeColors:E}=re(),{clearAllPacks:T}=Be(),{userId:D}=qr(),{t:R,locale:$,setLocale:V}=Pe(),I=E(),[B,F]=P.useState(!1),[Y,M]=P.useState(!1),[U,H]=P.useState(0),[O,A]=P.useState(!1),j=()=>{const _=U+1;H(_),_>=5&&(F(!0),H(0))},X=async()=>{try{T(),await Qp(D??void 0);const _=await co(1e3);if(_.posts&&_.posts.length>0)for(const J of _.posts)try{await Ia(J.id)}catch(z){console.error(`Failed to unlike post ${J.id}:`,z)}}catch(_){console.error("Purge failed:",_)}};return a.jsxs("div",{className:"flex flex-col gap-4 w-full max-h-[400px] overflow-y-scroll custom-scrollbar pr-2",style:{scrollbarGutter:"stable"},children:[a.jsxs("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${I.BACKGROUND_MEDIUM}e6 0%, ${I.BACKGROUND_DARK}f2 100%)`,borderColor:`${I.BORDER}50`,boxShadow:`0 8px 32px 0 ${I.BACKGROUND_DARK}66, inset 0 1px 0 0 ${I.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:I.TEXT_SECONDARY,borderColor:`${I.BORDER}40`},children:"Packs + Prompts"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(L,{onClick:()=>M(!0),icon:tl,className:"w-full",tooltip:"Manage packs: import/export, rename, organize prompts with drag & drop",children:"Open Packs Management"}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Remember which prompt pack was used for each post, automatically switching packs when navigating between posts",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"remember-post-state-toggle",children:[a.jsx(W,{path:uf,size:.7,color:I.TEXT_PRIMARY}),R("settings.rememberPostState")]}),a.jsx(xt,{id:"remember-post-state-toggle",checked:r,onChange:_=>{y(_),Eh(_)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Use Ctrl/Cmd+Enter instead of Ctrl/Cmd+Shift+Enter to apply prompt",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"simple-shortcut-toggle",children:[a.jsx(W,{path:e0,size:.7,color:I.TEXT_PRIMARY}),R("settings.simpleShortcut")]}),a.jsx(xt,{id:"simple-shortcut-toggle",checked:o,onChange:_=>{S(_),Ch(_)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Show confirmation dialog when copying from page would replace existing prompt text",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"confirm-copy-from-toggle",children:[a.jsx(W,{path:Su,size:.7,color:I.TEXT_PRIMARY}),"Confirm Copy From"]}),a.jsx(xt,{id:"confirm-copy-from-toggle",checked:c,onChange:_=>{C(_),Th(_)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Add custom text that will be automatically appended to every prompt when pressing Make or Make+Next",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"global-prompt-addon-toggle",children:[a.jsx(W,{path:i0,size:.7,color:I.TEXT_PRIMARY}),R("settings.globalPromptAddon")]}),a.jsx(xt,{id:"global-prompt-addon-toggle",checked:u,onChange:_=>{w(_)}})]}),u&&a.jsx("textarea",{value:p,onChange:_=>N(_.target.value),placeholder:R("settings.globalPromptAddonPlaceholder"),className:"w-full px-3 py-2 rounded-lg text-sm resize-none focus:outline-none custom-scrollbar backdrop-blur-xl",rows:3,style:{backgroundColor:`${I.BACKGROUND_MEDIUM}aa`,color:I.TEXT_PRIMARY,border:`1px solid ${I.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}})]})]}),a.jsxs("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${I.BACKGROUND_MEDIUM}e6 0%, ${I.BACKGROUND_DARK}f2 100%)`,borderColor:`${I.BORDER}50`,boxShadow:`0 8px 32px 0 ${I.BACKGROUND_DARK}66, inset 0 1px 0 0 ${I.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:I.TEXT_SECONDARY,borderColor:`${I.BORDER}40`},children:"Behavior"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Automatically download media files when video generation completes",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"auto-download-toggle",children:[a.jsx(W,{path:Gh,size:.7,color:I.TEXT_PRIMARY}),R("settings.autoDownload")]}),a.jsx(xt,{id:"auto-download-toggle",checked:n,onChange:_=>{v(_),Sh(_)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Enable sound effects for UI interactions",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"enable-sound-toggle",children:[a.jsx(W,{path:u0,size:.7,color:I.TEXT_PRIMARY}),R("settings.enableSound")]}),a.jsx(xt,{id:"enable-sound-toggle",checked:i,onChange:_=>{h(_),Ph(_)}})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:I.TEXT_SECONDARY},children:[a.jsx(W,{path:Jh,size:.6,color:I.TEXT_SECONDARY}),"List Limit"]}),a.jsx(Gn,{value:f.toString(),onChange:_=>{k(parseInt(_))},options:[{value:"100",label:"100"},{value:"200",label:"200"},{value:"500",label:"500"},{value:"1000",label:"1000"}],className:"w-full"}),f!==100&&a.jsxs("div",{className:"text-xs px-2 py-1.5 rounded flex items-center gap-1.5",style:{backgroundColor:"#dc262620",color:"#ef4444",border:"1px solid #ef444440"},children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(W,{path:Su,size:.75,color:"#ef4444"})}),"Warning: Using limits different from 100 might lead to a ban"]})]})]})]}),a.jsxs("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${I.BACKGROUND_MEDIUM}e6 0%, ${I.BACKGROUND_DARK}f2 100%)`,borderColor:`${I.BORDER}50`,boxShadow:`0 8px 32px 0 ${I.BACKGROUND_DARK}66, inset 0 1px 0 0 ${I.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:I.TEXT_SECONDARY,borderColor:`${I.BORDER}40`},children:"Appearance"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:I.TEXT_SECONDARY},children:[a.jsx(W,{path:n0,size:.6,color:I.TEXT_SECONDARY}),R("settings.theme")]}),a.jsx(Gn,{value:e,onChange:_=>{const J=_;m(J),Nh(J)},options:[{value:"dark",label:R("settings.themes.dark")},{value:"light",label:R("settings.themes.light")},{value:"dracula",label:R("settings.themes.dracula")},{value:"winamp",label:R("settings.themes.winamp")},{value:"limewire",label:R("settings.themes.limewire")},{value:"steam",label:R("settings.themes.steam")},{value:"discord",label:R("settings.themes.discord")}],className:"w-full"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:I.TEXT_SECONDARY},children:[a.jsx(W,{path:o0,size:.6,color:I.TEXT_SECONDARY}),R("settings.size")]}),a.jsx(Gn,{value:t,onChange:_=>{const J=_;x(J),Rh(J)},options:[{value:"tiny",label:R("settings.sizes.tiny")},{value:"small",label:R("settings.sizes.small")},{value:"medium",label:R("settings.sizes.medium")},{value:"large",label:R("settings.sizes.large")}],className:"w-full"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1.5",style:{color:I.TEXT_SECONDARY},children:[a.jsx(W,{path:c0,size:.6,color:I.TEXT_SECONDARY}),R("settings.language")]}),a.jsx(Gn,{value:$,onChange:_=>{V(_),Ah(_)},options:[{value:"en",label:R("settings.languages.en")},{value:"es",label:R("settings.languages.es")},{value:"ru",label:R("settings.languages.ru")}],className:"w-full"})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Hide the Unsave button from the page",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"hide-unsave-toggle",children:[a.jsx(W,{path:Xh,size:.7,color:I.TEXT_PRIMARY}),R("settings.hideUnsave")]}),a.jsx(xt,{id:"hide-unsave-toggle",checked:s,onChange:_=>{g(_),wh(_)}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 cursor-help","data-tooltip-content":"Show The Pit tab for accessing deleted posts",children:[a.jsxs("label",{className:"text-sm cursor-pointer flex items-center gap-1.5",style:{color:I.TEXT_PRIMARY},htmlFor:"enable-pit-toggle",children:[a.jsx(W,{path:Wh,size:.7,color:I.TEXT_PRIMARY}),"Enable The Pit"]}),a.jsx(xt,{id:"enable-pit-toggle",checked:l,onChange:_=>{d(_)}})]})]})]}),a.jsx(xv,{isOpen:B,onClose:()=>F(!1),onConfirm:X,getThemeColors:E}),a.jsx(Ef,{isOpen:Y,onClose:()=>M(!1),getThemeColors:E}),a.jsxs("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${I.BACKGROUND_MEDIUM}e6 0%, ${I.BACKGROUND_DARK}f2 100%)`,borderColor:`${I.BORDER}50`,boxShadow:`0 8px 32px 0 ${I.BACKGROUND_DARK}66, inset 0 1px 0 0 ${I.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:I.TEXT_SECONDARY,borderColor:`${I.BORDER}40`},children:R("settings.purge")}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("button",{onClick:j,className:"w-full px-3 py-2 text-xs rounded-full transition-all flex items-center justify-center gap-1",style:{backgroundColor:O?"#fff":"#ef4444",color:O?"#ef4444":"#fff",border:"1px solid #ef4444"},onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[a.jsx(W,{path:Fh,size:.6,color:O?"#ef4444":"#fff"}),U>0&&U<5?`${R("settings.purgeAllData")} (${U}/5)`:R("settings.purgeAllData")]}),a.jsx("div",{className:"text-xs text-center",style:{color:I.TEXT_SECONDARY},children:R("settings.purgeClickHint")})]})]})]})},Pf=()=>/iPad|iPhone|iPod/.test(navigator.userAgent),kv=()=>{const e=Pf(),t=/Android/.test(navigator.userAgent),n=/Mobile|Tablet/.test(navigator.userAgent),r="ontouchstart"in window||navigator.maxTouchPoints>0,o=window.innerWidth<=768;return e||t||n||r&&o},Sv=()=>{const{getThemeColors:e}=re(),{t}=Pe(),n=e(),r=Pf(),o=[{text:"Firefox and Chrome cross-browser support",tooltip:t("help.tooltips.crossBrowser")},{text:"Save and organize prompts with packs",tooltip:t("help.tooltips.saveOrganize")},{text:"Create, delete, and switch between packs",tooltip:t("help.tooltips.packManagement")},{text:"Rate prompts with 1-5 star ratings",tooltip:t("help.tooltips.ratePrompts")},{text:"Navigate prompts with arrow keys",tooltip:t("help.tooltips.arrowKeys")},{text:"Import and export packs (add or replace mode)",tooltip:t("help.tooltips.importExport")},{text:"Generate new packs with AI using Grok prompt templates",tooltip:t("help.tooltips.aiGenerate")},{text:"Download images and videos (when all videos are HD)",tooltip:t("help.tooltips.downloadMedia")},{text:"Parallel video upscaling to HD quality",tooltip:t("help.tooltips.parallelUpscale")},{text:"Bulk operations: Delete, upscale, relike, unlike posts",tooltip:t("help.tooltips.bulkOperations")},{text:"Purge all data feature for complete data cleanup",tooltip:t("help.tooltips.purgeData")},{text:"Shift-click batch selection in bulk operations modal",tooltip:t("help.tooltips.batchSelection")},{text:"Make + Next: Automate prompt application and post navigation",tooltip:t("help.tooltips.makeNext")},{text:"Real-time video generation progress",tooltip:t("help.tooltips.realtimeProgress")},{text:"Play/pause video control",tooltip:t("help.tooltips.playPause")},{text:"Fullscreen video playback",tooltip:t("help.tooltips.fullscreen")},{text:"Hide unsave button option",tooltip:t("help.tooltips.hideUnsave")},{text:"Theme customization (Dark, Light, Dracula, Winamp, LimeWire, Steam, Discord)",tooltip:t("help.tooltips.themeCustomization")},{text:"UI size scaling (Tiny to Large)",tooltip:t("help.tooltips.uiScaling")},{text:"Auto-download media when generation completes",tooltip:t("help.tooltips.autoDownloadMedia")},{text:"Multi-language support (English, Spanish, Russian)",tooltip:t("help.tooltips.multiLanguage")}];return a.jsxs("div",{className:"flex flex-col gap-4 w-full max-h-[400px] overflow-y-scroll custom-scrollbar pr-2",style:{scrollbarGutter:"stable"},children:[a.jsxs("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:n.TEXT_SECONDARY,borderColor:`${n.BORDER}40`},children:"Available Features"}),a.jsx("div",{className:"flex flex-col gap-2",children:a.jsx("ul",{className:"space-y-1 ml-3 text-xs",style:{color:n.TEXT_SECONDARY},children:o.map((s,l)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{style:{color:n.TEXT_SECONDARY,marginTop:"2px"},children:""}),a.jsxs("span",{className:"flex items-center gap-1 group cursor-help flex-1","data-tooltip-content":s.tooltip,children:[a.jsx("span",{children:s.text}),a.jsx("span",{className:"inline-flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(W,{path:Zh,size:.5,color:n.TEXT_SECONDARY})})]})]},l))})})]}),a.jsxs("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:n.TEXT_SECONDARY,borderColor:`${n.BORDER}40`},children:"Keyboard Shortcuts"}),a.jsx("div",{className:"flex flex-col gap-2",children:a.jsxs("div",{className:"text-xs flex flex-col gap-2",style:{color:n.TEXT_SECONDARY},children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Ctrl"}),a.jsx("span",{className:"text-[10px]",children:"/"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Cmd"}),a.jsx("span",{className:"text-[10px]",children:"+"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Enter"})]}),a.jsx("span",{children:"Make a Video"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Ctrl"}),a.jsx("span",{className:"text-[10px]",children:"/"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Cmd"}),a.jsx("span",{className:"text-[10px]",children:"+"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Shift"}),a.jsx("span",{className:"text-[10px]",children:"+"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Enter"})]}),a.jsx("span",{children:"Copy & Make"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:""}),a.jsx("span",{className:"text-[10px]",children:"/"}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:""})]}),a.jsx("span",{children:"Navigate videos"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"F"})}),a.jsx("span",{children:"Toggle fullscreen"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-medium",style:{backgroundColor:n.BACKGROUND_MEDIUM,color:n.TEXT_PRIMARY,border:`1px solid ${n.BORDER}`},children:"Space"})}),a.jsx("span",{children:"Play/pause video"})]})]})})]}),a.jsxs("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3 pb-2 border-b",style:{color:n.TEXT_SECONDARY,borderColor:`${n.BORDER}40`},children:"About"}),a.jsx("div",{className:"flex flex-col gap-2",children:a.jsxs("div",{className:"text-xs",style:{color:n.TEXT_SECONDARY},children:[a.jsx("p",{className:"mb-1",children:a.jsxs("strong",{style:{color:n.TEXT_PRIMARY},children:["ImagineGodMode v",Ms]})}),a.jsx("p",{children:"Chrome/Firefox extension for Grok media management"}),a.jsx("p",{className:"mt-2",children:"by b2kdaman"}),a.jsx("p",{className:"mt-1 text-[11px]",children:"Firefox support by wyntre"})]})})]}),r&&a.jsx("div",{className:"rounded-xl p-4 backdrop-blur-md border",style:{background:`linear-gradient(135deg, ${n.BACKGROUND_MEDIUM}e6 0%, ${n.BACKGROUND_DARK}f2 100%)`,borderColor:`${n.BORDER}50`,boxShadow:`0 8px 32px 0 ${n.BACKGROUND_DARK}66, inset 0 1px 0 0 ${n.TEXT_SECONDARY}0d`},children:a.jsxs("a",{href:"https://accounts.x.ai/sign-in?redirect=grok-com",className:"flex items-center gap-2 text-xs hover:opacity-80 transition-opacity",style:{color:n.TEXT_PRIMARY},children:[a.jsx(W,{path:t0,size:.6,color:n.TEXT_PRIMARY}),a.jsx("span",{children:"Sign in to X.ai"})]})})]})},Pu={"process-for-upscale":{icon:lf,label:"Processing Posts"},upscale:{icon:ff,label:"Upscaling"},download:{icon:Vi,label:"Downloading"},unlike:{icon:zi,label:"Unliking",color:Ie.DANGER},relike:{icon:Ns,label:"Re-liking"},"purge-liked":{icon:tn,label:"Purging Liked Posts",color:Ie.DANGER},"purge-archive":{icon:tn,label:"Purging Archive",color:Ie.DANGER},"purge-packs":{icon:tn,label:"Purging Packs",color:Ie.DANGER}},Ev=()=>{const{jobs:e,isProcessing:t,clearCompleted:n,clearAll:r,stopProcessing:o,startProcessing:s}=Js(),{getThemeColors:l}=re(),i=l(),c=e.filter(d=>d.status==="pending"),u=e.filter(d=>d.status==="processing"),p=e.filter(d=>d.status==="completed"),f=e.filter(d=>d.status==="failed"),m=c.length,x=p.length,v=f.length,y=e.length,S=d=>{switch(d){case"completed":return a.jsx(W,{path:fo,size:.5,color:i.SUCCESS});case"processing":return a.jsx(W,{path:Mt,size:.5,color:i.GLOW_PRIMARY,className:"animate-spin"});case"failed":return a.jsx(W,{path:qs,size:.5,color:Ie.DANGER});default:return a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:i.TEXT_SECONDARY}})}},g=d=>{const h=Pu[d.type],C=d.totalItems===1?"item":"items";return`${h.label} ${d.totalItems} ${C}`};return y===0?a.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:a.jsx("div",{className:"text-base opacity-50",style:{color:i.TEXT_SECONDARY},children:"Queue is empty"})}):a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"pb-3",children:a.jsx("h2",{className:"text-base font-medium",style:{color:i.TEXT_PRIMARY},children:"Job Queue"})}),u.length>0&&u[0]&&a.jsxs("div",{className:"mb-3 pb-3",style:{borderBottom:`1px solid ${i.BORDER}`},children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{style:{color:i.TEXT_SECONDARY},children:g(u[0])}),a.jsxs("span",{style:{color:i.GLOW_PRIMARY},children:[Math.round(u[0].progress),"%"]})]}),a.jsx("div",{className:"w-full h-1.5 rounded-full overflow-hidden",style:{backgroundColor:i.BACKGROUND_MEDIUM},children:a.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${u[0].progress}%`,backgroundColor:i.GLOW_PRIMARY}})}),a.jsxs("div",{className:"text-xs mt-1 flex items-center gap-1",style:{color:i.TEXT_SECONDARY},children:["Processing: ",u[0].processedItems,"/",u[0].totalItems]})]}),a.jsxs("div",{className:"mb-3 pb-3 flex gap-3 text-xs",style:{borderBottom:`1px solid ${i.BORDER}`},children:[a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:i.TEXT_PRIMARY},children:m})," pending"]}),u.length>0&&a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:i.GLOW_PRIMARY},children:u.length})," processing"]}),a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:i.SUCCESS},children:x})," done"]}),v>0&&a.jsxs("span",{style:{color:i.TEXT_SECONDARY},children:[a.jsx("span",{style:{color:Ie.DANGER},children:v})," failed"]})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto mb-3",children:[e.slice(0,20).map(d=>{const h=Pu[d.type];return a.jsxs("div",{className:"py-2 flex items-start gap-2 text-xs",style:{borderBottom:`1px solid ${i.BORDER}20`},children:[a.jsx("div",{className:"pt-0.5",children:S(d.status)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[a.jsx(W,{path:h.icon,size:.6,color:h.color||i.TEXT_PRIMARY}),a.jsx("span",{className:"font-medium truncate",style:{color:i.TEXT_PRIMARY},children:g(d)})]}),d.status==="processing"&&a.jsx("div",{className:"w-full h-1 rounded-full overflow-hidden mt-1",style:{backgroundColor:i.BACKGROUND_MEDIUM},children:a.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${d.progress}%`,backgroundColor:i.GLOW_PRIMARY}})}),d.status==="failed"&&d.error&&a.jsx("div",{className:"text-[10px] mt-1 opacity-70",style:{color:Ie.DANGER},children:d.error})]}),a.jsx("span",{className:"text-[10px] opacity-50 whitespace-nowrap",style:{color:i.TEXT_SECONDARY},children:d.status==="processing"?`${d.processedItems}/${d.totalItems}`:d.status})]},d.id)}),e.length>20&&a.jsxs("div",{className:"py-2 text-xs text-center",style:{color:i.TEXT_SECONDARY},children:["+",e.length-20," more jobs"]})]}),a.jsxs("div",{className:"flex gap-2",children:[t?a.jsx(L,{onClick:o,className:"flex-1",children:"Pause"}):m>0&&a.jsx(L,{onClick:s,className:"flex-1 !bg-white",style:{backgroundColor:i.GLOW_PRIMARY,color:i.BACKGROUND_DARK},children:"Resume"}),x>0&&a.jsx(L,{onClick:n,className:"flex-1",children:"Clear Done"}),a.jsx(L,{onClick:r,className:"opacity-50",children:"Clear All"})]})]})},Tu={selectedPostId:null,manualMode:!0,manualPrompt:"",selectedPack:"Default",selectedPromptIndex:0,tries:3,stopOnFirstSuccess:!1},Cv=wt(e=>({...Tu,setSelectedPostId:t=>e({selectedPostId:t}),setManualMode:t=>e({manualMode:t}),setManualPrompt:t=>e({manualPrompt:t}),setSelectedPack:t=>e({selectedPack:t,selectedPromptIndex:0}),setSelectedPromptIndex:t=>e({selectedPromptIndex:t}),setTries:t=>e({tries:t}),setStopOnFirstSuccess:t=>e({stopOnFirstSuccess:t}),reset:()=>e(Tu)})),wv=()=>{const{selectedPostId:e,manualMode:t,manualPrompt:n,selectedPack:r,selectedPromptIndex:o,tries:s,stopOnFirstSuccess:l,setSelectedPostId:i,setManualMode:c,setManualPrompt:u,setSelectedPack:p,setSelectedPromptIndex:f,setTries:m,setStopOnFirstSuccess:x}=Cv(),{posts:v,setPosts:y,setCurrentPostId:S,ensureCurrentPostInList:g}=uo(),{packOrder:d,packs:h}=Be(),{getThemeColors:C,listLimit:w}=re(),{setMediaUrls:N,setVideoIdsToUpscale:k,setHdVideoCount:E}=Yi(),T=C(),[D,R]=P.useState(""),{isLoading:$,loadLikedPosts:V}=nl(R),[I,B]=P.useState(0),[F,Y]=P.useState(null),[M,U]=P.useState(!0),[H,O]=P.useState(!1),[A,j]=P.useState(0),[X,_]=P.useState(0),[J,z]=P.useState(0),[oe,xe]=P.useState(""),Me=P.useCallback(async()=>{var Dn;const te=Pn();if(Y(te),S(te),!te)return;const Fe=await Ws(te);if(Fe.success&&Fe.data){const lt=cr(Fe.data);(Dn=Fe.data)!=null&&Dn.post&&g(Fe.data.post),N(lt.mediaUrls),k(lt.videosToUpscale),E(lt.hdVideoCount)}},[N,k,E,S,g]);Xi(Me);const[ot,an]=P.useState(w);P.useEffect(()=>{Me(),V().then(te=>y(te))},[]),P.useEffect(()=>{ot!==w&&(an(w),V().then(te=>y(te)))},[w,ot,V,y]),P.useEffect(()=>{v.length>0&&!e&&(i(v[0].id),B(0))},[v,e,i]);const Ut=()=>{if(I>0){U(!0);const te=I-1;B(te),i(v[te].id)}},Rn=()=>{if(I<v.length-1){U(!0);const te=I+1;B(te),i(v[te].id)}},An=v[I],ho=()=>An?An.thumbnailImageUrl||An.mediaUrl:"",Ht=h[r]||[],K=Ht[o],fe=()=>{o>0&&f(o-1)},st=()=>{o<Ht.length-1&&f(o+1)},Pt=te=>new Promise(Fe=>setTimeout(Fe,te)),Nf=async()=>{if(!e){console.error("No post selected");return}const te=t?n:K==null?void 0:K.text;if(!te){console.error("No prompt available");return}O(!0),j(0),_(0),z(0),xe("");try{console.log("[PitView] Churning videos:",{postId:e,prompt:te,tries:s,stopOnFirstSuccess:l});let Fe=0,Dn=0;for(let lt=0;lt<s;lt++){if(lt>0){const Tt=1e3+Math.random()*1e3;console.log(`[PitView] Waiting ${Math.round(Tt)}ms before next request...`),await Pt(Tt)}j(lt+1);try{console.log(`[PitView] Sending request ${lt+1}/${s}`);const Tt=await Hg(e,te);if(console.log(`[PitView] Request ${lt+1}/${s} completed:`,Tt),Fe++,_(Fe),l){console.log("[PitView] Success achieved, stopping early");break}}catch(Tt){if(console.error(`[PitView] Request ${lt+1}/${s} failed:`,Tt),Dn++,z(Dn),(Tt instanceof Error?Tt.message:String(Tt)).includes("403")){console.error("[PitView] Received 403 error - stopping churn process"),xe("403 Forbidden - Authentication required. Please refresh the page.");break}}}console.log("[PitView] Churn completed:",{total:s,success:Fe||X,failed:Dn||J})}catch(Fe){console.error("[PitView] Churn error:",Fe)}finally{O(!1)}};return a.jsxs("div",{className:"flex flex-col w-full",children:[D&&a.jsx("div",{className:"text-sm text-center mb-3",style:{color:T.TEXT_SECONDARY},children:D}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[a.jsx(L,{variant:"icon",icon:ja,onClick:Ut,disabled:v.length===0||I===0,tooltip:"Previous post"}),a.jsx("div",{className:"w-1/2 rounded-lg overflow-hidden relative flex items-center justify-center bg-white/20",style:{height:"120px",border:`1px solid ${T.BORDER}`},children:v.length===0?a.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm",style:{color:T.TEXT_SECONDARY},children:"No posts loaded"}):ho()?a.jsxs(a.Fragment,{children:[M&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`},children:a.jsx("div",{className:"animate-spin",children:a.jsx(W,{path:Mt,size:1.2,color:T.TEXT_SECONDARY})})}),a.jsx("img",{src:ho(),alt:"Post preview",className:"max-w-full max-h-full object-contain",onLoad:()=>U(!1),onError:()=>U(!1),style:{display:M?"none":"block"}})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm",style:{color:T.TEXT_SECONDARY},children:"No preview available"})}),a.jsx(L,{variant:"icon",icon:ba,onClick:Rn,disabled:v.length===0||I>=v.length-1,tooltip:"Next post"})]}),v.length>0&&a.jsxs("div",{className:"text-xs text-center mb-3",style:{color:T.TEXT_SECONDARY},children:[I+1," / ",v.length,$&&" (loading more...)"]}),v.length===0&&$&&a.jsxs("div",{className:"text-xs text-center mb-3 flex items-center justify-center gap-2",style:{color:T.TEXT_SECONDARY},children:[a.jsx(W,{path:Mt,size:.5,className:"animate-spin"}),a.jsx("span",{children:"Loading liked posts..."})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsx("label",{className:"text-sm cursor-pointer",style:{color:T.TEXT_PRIMARY},htmlFor:"manual-mode-toggle",children:"Manual Prompt"}),a.jsx(xt,{id:"manual-mode-toggle",checked:t,onChange:c})]}),t?a.jsx("textarea",{value:n,onChange:te=>u(te.target.value),placeholder:"Enter your prompt...",className:"w-full h-20 px-3 py-2 rounded-lg text-sm resize-none focus:outline-none custom-scrollbar mb-3 backdrop-blur-xl",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:T.TEXT_PRIMARY,border:`1px solid ${T.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}}):a.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-xs",style:{color:T.TEXT_SECONDARY},children:"Pack"}),a.jsx(Gn,{value:r,onChange:p,options:d.map(te=>({value:te,label:te})),className:"w-full"})]}),Ht.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-sm min-h-[80px] max-h-[80px] overflow-y-auto custom-scrollbar backdrop-blur-xl",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:T.TEXT_PRIMARY,border:`1px solid ${T.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"},children:(K==null?void 0:K.text)||""}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(L,{variant:"icon",icon:ja,onClick:fe,disabled:o===0,tooltip:"Previous prompt"}),a.jsxs("span",{className:"text-sm",style:{color:T.TEXT_SECONDARY},children:[o+1," / ",Ht.length]}),a.jsx(L,{variant:"icon",icon:ba,onClick:st,disabled:o>=Ht.length-1,tooltip:"Next prompt"})]})]}):a.jsx("div",{className:"w-full px-3 py-2 rounded-lg text-sm text-center",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:T.TEXT_SECONDARY,border:`1px solid ${T.BORDER}`},children:"No prompts in this pack"})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsx("label",{className:"text-sm",style:{color:T.TEXT_PRIMARY},htmlFor:"tries-input",children:"Tries"}),a.jsx("input",{id:"tries-input",type:"number",min:1,max:10,value:s,onChange:te=>m(Number(te.target.value)),className:"px-3 py-2 rounded-lg text-sm focus:outline-none backdrop-blur-xl",style:{width:"80px",backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:T.TEXT_PRIMARY,border:`1px solid ${T.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"}})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsx("label",{className:"text-sm cursor-pointer",style:{color:T.TEXT_PRIMARY},htmlFor:"stop-on-success-toggle",children:"Stop on First Success"}),a.jsx(xt,{id:"stop-on-success-toggle",checked:l,onChange:x})]}),H&&a.jsx("div",{className:"px-3 py-2 rounded-lg text-sm mb-3 backdrop-blur-xl",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:T.TEXT_PRIMARY,border:`1px solid ${T.BORDER}`,WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"},children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:T.TEXT_SECONDARY},children:"Progress:"}),a.jsxs("span",{className:"font-medium",children:[A," / ",s]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:T.TEXT_SECONDARY},children:"Succeeded:"}),a.jsx("span",{className:"font-medium text-green-500",children:X})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:T.TEXT_SECONDARY},children:"Failed:"}),a.jsx("span",{className:"font-medium text-red-500",children:J})]})]})}),oe&&a.jsx("div",{className:"px-3 py-2 rounded-lg text-sm mb-3 backdrop-blur-xl",style:{backgroundColor:`${T.BACKGROUND_MEDIUM}aa`,color:"#ff4444",border:"1px solid #ff4444",WebkitBackdropFilter:"blur(12px)",backdropFilter:"blur(12px)"},children:oe}),a.jsx(L,{onClick:Nf,icon:H?Mt:df,className:"w-full !bg-white !text-black hover:!bg-white/90",disabled:!0,tooltip:"Under construction",children:H?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin",children:a.jsx(W,{path:Mt,size:.7,color:"currentColor"})}),"Churning..."]}):"Churn"}),a.jsx("div",{className:"text-xs text-center mt-2",style:{color:T.TEXT_SECONDARY},children:"Under construction"})]})},Pv=({tabs:e,activeTab:t,onChange:n,direction:r="down"})=>{const{getThemeColors:o}=re(),s=o(),l=r==="up",{glowStyles:i,handleMouseEnter:c,handleMouseLeave:u,getGlowOverlay:p}=Qs();return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:i}),a.jsx("div",{className:`flex gap-2 ${l?"border-t mt-4":"border-b mb-4"}`,style:{borderColor:`${s.BORDER}`},children:e.map(f=>{const m=t===f.id;return a.jsxs("button",{onClick:()=>n(f.id),className:`flex-1 px-4 py-2 text-xs transition-all duration-300 relative overflow-hidden flex items-center justify-center ${l?"rounded-b-lg":"rounded-t-lg"}`,style:{backgroundColor:m?s.BACKGROUND_MEDIUM:"transparent",color:m?s.TEXT_PRIMARY:s.TEXT_SECONDARY,border:m?`1px solid ${s.BORDER}`:"none",borderTop:m&&!l?`1px solid ${s.BORDER}`:"none",borderBottom:m&&l?`1px solid ${s.BORDER}`:"none",marginBottom:!l&&m?"-1px":"0",marginTop:l&&m?"-1px":"0"},"data-tooltip-content":f.tooltip,onMouseEnter:x=>{m||c(x,f.id,!1,{backgroundColor:`${s.BACKGROUND_LIGHT}40`,color:s.TEXT_HOVER})},onMouseLeave:x=>{m||u(x,!1,{backgroundColor:"transparent",color:s.TEXT_SECONDARY})},children:[!m&&p(f.id),a.jsxs("span",{className:"relative z-10 flex items-center gap-1.5",children:[f.icon&&a.jsx("span",{className:"-mx-1",children:a.jsx(W,{path:f.icon,size:.8,color:m?s.TEXT_PRIMARY:s.TEXT_SECONDARY})}),f.label&&a.jsx("span",{children:f.label}),f.badge!==void 0&&f.badge>0&&a.jsx("span",{className:"min-w-[16px] h-[16px] rounded-full text-[9px] font-bold flex items-center justify-center px-1",style:{backgroundColor:s.GLOW_PRIMARY,color:s.BACKGROUND_DARK},children:f.badge})]})]},f.id)})})]})},Tv=15,Hl=15,Tf=wt()(io((e,t)=>({queue:[],isProcessing:!1,currentBatchIndex:0,batchProgress:0,completedInCurrentBatch:0,pendingDownloads:[],isDownloading:!1,addToQueue:(n,r)=>{const o=r.map(i=>({postId:n,videoId:i,status:"pending",addedAt:Date.now()}));e(i=>{const c=new Set(i.queue.map(p=>p.videoId)),u=o.filter(p=>!c.has(p.videoId));return{queue:[...i.queue,...u]}});const{isProcessing:s,startProcessing:l}=t();s||l()},removeFromQueue:n=>{e(r=>({queue:r.queue.filter(o=>o.videoId!==n)}))},clearCompleted:()=>{e(n=>({queue:n.queue.filter(r=>r.status!=="completed")}))},clearAll:()=>{e({queue:[],isProcessing:!1,currentBatchIndex:0,batchProgress:0,completedInCurrentBatch:0,pendingDownloads:[]})},startProcessing:()=>{const{isProcessing:n,_processNextBatch:r}=t();n||(e({isProcessing:!0}),r())},stopProcessing:()=>{e({isProcessing:!1})},_updateItemStatus:(n,r,o)=>{e(s=>({queue:s.queue.map(l=>l.videoId===n?{...l,status:r,hdUrl:o}:l)}))},_downloadCompletedBatch:async n=>{if(n.length===0)return;const{autoDownload:r}=re.getState();if(!r){console.log("[ImagineGodMode] Auto-download disabled, skipping batch download");return}e({isDownloading:!0});for(let o=0;o<n.length;o+=Hl){const s=n.slice(o,o+Hl);console.log(`[ImagineGodMode] Downloading batch chunk: ${s.length} files`),await Xp(s),o+Hl<n.length&&await new Promise(l=>setTimeout(l,1e3))}e({isDownloading:!1})},_pollForHdUrls:async n=>{const r=new Map,o=new Set,{queue:s}=t();n.forEach(c=>{const u=s.find(p=>p.videoId===c);u&&o.add(u.postId)});const l=60;let i=0;for(;r.size<n.length&&i<l;){for(const c of o)try{const u=await Ws(c);if(u.success&&u.data){const p=cr(u.data);for(const f of p.mediaUrls)f.id&&n.includes(f.id)&&f.isHD&&f.type==="video"&&r.set(f.id,f.url)}}catch(u){console.error("[ImagineGodMode] Poll error:",u)}r.size<n.length&&(await new Promise(c=>setTimeout(c,Zo(St.UPSCALE_REFETCH_MIN,St.UPSCALE_REFETCH_MAX))),i++)}return r},_processNextBatch:async()=>{const{queue:n,isProcessing:r,_updateItemStatus:o,_downloadCompletedBatch:s,_pollForHdUrls:l}=t();if(!r)return;const i=n.filter(S=>S.status==="pending");if(i.length===0){console.log("[ImagineGodMode] Queue empty, stopping processing"),e({isProcessing:!1,batchProgress:0,completedInCurrentBatch:0});return}const c=i.slice(0,Tv),u=c.map(S=>S.videoId);console.log(`[ImagineGodMode] Processing batch of ${c.length} videos`),e({batchProgress:0,completedInCurrentBatch:0}),c.forEach(S=>{o(S.videoId,"processing")});let p=0;const f=[];for(let S=0;S<c.length;S++){const g=c[S],d=Kp(g.videoId).then(h=>{p++,e({batchProgress:p/c.length*100,completedInCurrentBatch:p}),console.log(`[ImagineGodMode] Upscale request sent ${p}/${c.length}: ${g.videoId}`),h.success||o(g.videoId,"failed")});f.push(d),S<c.length-1&&await new Promise(h=>setTimeout(h,Zo(St.UPSCALE_DELAY_MIN,St.UPSCALE_DELAY_MAX)))}await Promise.all(f),console.log("[ImagineGodMode] All upscale requests sent, polling for HD URLs...");const m=await l(u),x=[];for(const S of c){const g=m.get(S.videoId);g?(o(S.videoId,"completed",g),x.push(g)):o(S.videoId,"failed")}x.length>0&&(console.log(`[ImagineGodMode] Downloading ${x.length} HD videos`),await s(x));const{isProcessing:v,_processNextBatch:y}=t();v&&(e(S=>({currentBatchIndex:S.currentBatchIndex+1})),y())}}),{name:"imaginegodmode-upscale-queue",partialize:e=>({queue:e.queue.filter(t=>t.status!=="processing")})})),Nv=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(!1),o=()=>{const l=document.getElementById("hd-video"),i=document.getElementById("sd-video");let c=null;return l&&l.offsetWidth>0&&l.offsetHeight>0&&getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"?c=l:i&&i.offsetWidth>0&&i.offsetHeight>0&&getComputedStyle(i).display!=="none"&&getComputedStyle(i).visibility!=="hidden"?c=i:c=l||i,c};P.useEffect(()=>{const l=()=>{const c=Pn(),u=o();r(!!(c&&u))};l();const i=setInterval(l,1e3);return()=>clearInterval(i)},[]);const s=()=>{try{const l=o();if(!l){console.error("[ImagineGodMode] No video element found for fullscreen"),t(!0),setTimeout(()=>t(!1),1e3);return}console.log("[ImagineGodMode] Entering fullscreen for video:",l.id),ef("button");const i=l;l.requestFullscreen?l.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}catch(l){console.error("[ImagineGodMode] Fullscreen error:",l),t(!0),setTimeout(()=>t(!1),1e3)}};return n?a.jsx(L,{variant:"icon",icon:Qh,onClick:s,tooltip:"Enter fullscreen (F)",className:e?"opacity-50":""}):null},Rv=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(!1),[o,s]=P.useState(!1),l=()=>{const c=document.getElementById("hd-video"),u=document.getElementById("sd-video");let p=null;return c&&c.offsetWidth>0&&c.offsetHeight>0&&getComputedStyle(c).display!=="none"&&getComputedStyle(c).visibility!=="hidden"?p=c:u&&u.offsetWidth>0&&u.offsetHeight>0&&getComputedStyle(u).display!=="none"&&getComputedStyle(u).visibility!=="hidden"?p=u:p=c||u,p};P.useEffect(()=>{const c=()=>{const p=Pn(),f=l();s(!!(p&&f))};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[]),P.useEffect(()=>{(()=>{const x=l();x&&r(x.paused)})();const u=()=>r(!1),p=()=>r(!0),f=document.getElementById("hd-video"),m=document.getElementById("sd-video");return f&&(f.addEventListener("play",u),f.addEventListener("pause",p)),m&&(m.addEventListener("play",u),m.addEventListener("pause",p)),()=>{f&&(f.removeEventListener("play",u),f.removeEventListener("pause",p)),m&&(m.removeEventListener("play",u),m.removeEventListener("pause",p))}},[]);const i=()=>{try{const c=l();if(!c){console.error("[ImagineGodMode] No video element found for play/pause"),t(!0),setTimeout(()=>t(!1),1e3);return}c.paused?(console.log("[ImagineGodMode] Playing video:",c.id),c.play(),Ts("play","button")):(console.log("[ImagineGodMode] Pausing video:",c.id),c.pause(),Ts("pause","button"))}catch(c){console.error("[ImagineGodMode] Play/Pause error:",c),t(!0),setTimeout(()=>t(!1),1e3)}};return o?a.jsx(L,{variant:"icon",icon:n?Bi:r0,onClick:i,tooltip:n?"Play video (Space)":"Pause video (Space)",className:e?"opacity-50":""}):null},Av=e=>{const[t,n]=P.useState(!1),{setPosts:r}=uo(),{addToQueue:o}=Tf(),{likedPosts:s,isLoading:l,loadLikedPosts:i}=nl(e),c=P.useCallback(async()=>{const f=await i();r(f),f.length>0&&(n(!0),Qo("upscale_all"))},[i,r]),u=P.useCallback(()=>{n(!1),qo("upscale_all")},[]),p=P.useCallback(async f=>{n(!1);let m=0;for(const x of f)try{const v=await Oi(x);if(v!=null&&v.post){const y=cr(v);y.videosToUpscale.length>0&&(o(x,y.videosToUpscale),m+=y.videosToUpscale.length)}}catch(v){console.error(`Failed to process post ${x}:`,v)}},[o,e]);return{isModalOpen:t,likedPosts:s,isLoading:l,openModal:c,closeModal:u,handleBulkUpscale:p}},Dv=()=>{const{isExpanded:e,toggleExpanded:t,setCurrentView:n,setExpanded:r}=Yp(),{t:o}=Pe(),{globalPromptAddonEnabled:s,globalPromptAddon:l,rememberPostState:i,setRememberPostState:c,getThemeColors:u}=re(),{getCurrentPrompt:p}=Be(),{getNextPostId:f,getPrevPostId:m,setCurrentPostId:x,setPosts:v,posts:y}=uo(),{queue:S}=Tf(),{isModalOpen:g,likedPosts:d,openModal:h,closeModal:C,handleBulkUpscale:w}=Av(),[N,k]=P.useState(!1),[E,T]=P.useState(""),[D,R]=P.useState(""),$=P.useCallback(async()=>{const _=Pn();if(R(_||""),x(_),_){const J=await ji(_);T(J)}else T("")},[x]);Ue.useEffect(()=>{$();const _=()=>{$()};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)},[$]),Ue.useEffect(()=>{(async()=>{if(y.length===0){const J=await co(1e3);J.posts&&v(J.posts)}})()},[y.length,v]);const V=_=>s&&l.trim()?`${_}, ${l.trim()}`:_,I=()=>{const _=p();if(!_)return;Ps();const J=V(_.text);eo(J,E)},B=()=>{const _=p();if(!_)return;const J=f();if(!J){k(!1);return}Ps(),Zp();const z=V(_.text);Cf(z,E,J)},F=()=>{const _=m();_&&Zr(_)},Y=()=>{const _=f();_&&Zr(_)},M=p(),U=!(M!=null&&M.text.trim())&&!E.trim(),H=!!f(),O=!!m(),A=()=>{const _=V((M==null?void 0:M.text)||""),J=100;return _.length>J?_.substring(0,J)+"...":_},j=S.filter(_=>_.status==="pending"||_.status==="processing").length,X=()=>{n("queue"),e||r(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rv,{}),a.jsx(Nv,{}),e&&a.jsx(L,{variant:"icon",onClick:()=>c(!i),icon:uf,className:`shadow-lg ${i?"!bg-slate-400 !border-slate-400":""}`,iconColor:i?Ie.BLACK:void 0,tooltip:i?"Remember Pack Per Post: ON - Each post remembers its pack":"Remember Pack Per Post: OFF - Click to enable"}),!e&&a.jsxs(a.Fragment,{children:[O&&a.jsx(L,{variant:"icon",onClick:F,icon:of,className:"shadow-lg",tooltip:"Previous post"}),H&&a.jsx(L,{variant:"icon",onClick:Y,icon:sf,className:"shadow-lg",tooltip:"Next post"}),D&&!U&&a.jsx(L,{variant:"icon",onClick:I,icon:Bi,iconColor:Ie.BLACK,className:"shadow-lg !bg-white !text-black hover:!bg-white/90",tooltip:`Make: ${A()}`}),H&&!U&&a.jsx(L,{variant:"icon",onClick:B,icon:hf,iconColor:Ie.BLACK,className:"shadow-lg !bg-white !text-black hover:!bg-white/90",tooltip:`Make + Next: ${A()}`}),D&&a.jsx(L,{variant:"icon",onClick:()=>k(!N),icon:tf,className:`shadow-lg ${N?"!bg-slate-400 !border-slate-400":""}`,iconColor:N?Ie.BLACK:void 0,tooltip:"Auto: Automatically repeat Make + Next"}),a.jsx(L,{variant:"icon",onClick:h,icon:pf,className:"shadow-lg",tooltip:"Upscale videos from multiple liked posts"})]}),j>0&&a.jsxs("div",{className:"relative",children:[a.jsx(L,{variant:"icon",onClick:X,icon:yf,className:"shadow-lg",tooltip:o("tabs.queueTooltip")}),a.jsx("div",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] rounded-full flex items-center justify-center text-[10px] font-bold shadow-lg",style:{backgroundColor:u().SUCCESS,color:"#fff",padding:"0 4px"},children:j})]}),a.jsx(L,{variant:"icon",onClick:t,icon:e?Hi:zh,iconSize:.9,className:"shadow-lg",tooltip:o(e?"panel.collapseTooltip":"panel.expandTooltip")})]}),a.jsx(wf,{isOpen:g,posts:d,mode:"upscale",onClose:C,onConfirm:w,getThemeColors:u})]})},Mv=()=>{const{getThemeColors:e}=re(),{t}=Pe(),n=e();return a.jsxs("div",{className:"flex flex-col items-end px-2 py-1 leading-tight rounded-lg",style:{backgroundColor:`${n.BACKGROUND_DARK}aa`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[a.jsxs("span",{className:"text-[10px] font-medium",style:{color:n.TEXT_SECONDARY},children:["ImagineGodMode ",t("common.version")," ",Ms]}),a.jsx("span",{className:"text-[9px]",style:{color:`${n.TEXT_SECONDARY}80`},children:t("panel.authorCredit")})]})},_v=e=>{const[t,n]=P.useState(!1);return P.useEffect(()=>{const r=()=>{const s=window.location.pathname.includes(e);n(s)};r();const o=new MutationObserver(r);return o.observe(document.querySelector("title")||document.body,{childList:!0,subtree:!0}),window.addEventListener("popstate",r),()=>{o.disconnect(),window.removeEventListener("popstate",r)}},[e]),t},Nu={prompt:La,ops:av,settings:yv,help:Sv,queue:Ev,pit:wv},Iv=()=>{const{isExpanded:e,currentView:t,setCurrentView:n}=Yp(),{getThemeColors:r,getScale:o,enableThePit:s}=re(),{jobs:l}=Js(),{t:i}=Pe(),c=r(),u=o(),p=_v("/imagine"),f=l.filter(T=>T.status==="pending"||T.status==="processing").length,[m,x]=P.useState(e),[v,y]=P.useState(!1),[S,g]=P.useState(!1),[d,h]=P.useState(t);if(P.useEffect(()=>{if(e){const T=setTimeout(()=>{x(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{y(!0)})})},0);return()=>clearTimeout(T)}else{const T=setTimeout(()=>{y(!1);const D=setTimeout(()=>{x(!1)},300);return()=>clearTimeout(D)},0);return()=>clearTimeout(T)}},[e]),P.useEffect(()=>{if(d!==t){const T=setTimeout(()=>{g(!0);const D=setTimeout(()=>{h(t),g(!1)},200);return()=>clearTimeout(D)},0);return()=>clearTimeout(T)}},[t,d]),!p)return null;const C=Nu[t]||La,w=Nu[d]||La,k=[{id:"prompt",icon:a0,iconOnly:!0,tooltip:i("tabs.prompt")},{id:"ops",icon:$h,iconOnly:!0,tooltip:i("tabs.ops")},{id:"settings",icon:lf,iconOnly:!0,tooltip:i("tabs.settings")},{id:"queue",icon:yf,badge:f,iconOnly:!0,tooltip:i("tabs.queueTooltip")},{id:"help",icon:qh,iconOnly:!0,tooltip:i("tabs.help")},{id:"pit",icon:df,iconOnly:!0,tooltip:"The Pit"}].filter(T=>T.id==="pit"?s:!0),E=kv()?rl.BOTTOM_MOBILE:rl.BOTTOM;return a.jsx("div",{className:"fixed flex flex-col transition-transform duration-200",style:{bottom:E,right:rl.RIGHT,transform:`scale(${u})`,transformOrigin:"bottom right",zIndex:yn.MAIN_PANEL},children:a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx(Mv,{}),a.jsx(Dv,{}),m&&a.jsxs("div",{className:"rounded-2xl p-4 shadow-2xl w-[360px] overflow-hidden transition-all duration-300 ease-out",style:{backgroundColor:`${c.BACKGROUND_DARK}aa`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:`1px solid ${c.BORDER}`,maxHeight:v?"800px":"0px",opacity:v?1:0,padding:v?"16px":"0px 16px",transform:v?"translateY(0) scale(1)":"translateY(20px) scale(0.95)",transformOrigin:"bottom right"},children:[a.jsxs("div",{className:"relative",children:[S&&a.jsx("div",{className:"absolute inset-0 transition-all duration-200 ease-out pointer-events-none",style:{opacity:0,transform:"translateX(-20px)"},children:a.jsx(w,{})}),a.jsx("div",{className:"transition-all duration-200 ease-out",style:{opacity:S?0:1,transform:S?"translateX(20px)":"translateX(0)"},children:a.jsx(C,{})})]}),a.jsx(Pv,{tabs:k,activeTab:t,onChange:T=>n(T),direction:"up"})]})]})})},Ov=()=>{const{getCurrentPrompt:e}=Be(),{simpleShortcut:t,globalPromptAddonEnabled:n,globalPromptAddon:r}=re();P.useEffect(()=>{const o=l=>n&&r.trim()?`${l}, ${r.trim()}`:l,s=l=>{const c=navigator.platform.toUpperCase().indexOf("MAC")>=0?l.metaKey:l.ctrlKey,u=l.target,p=u.tagName==="TEXTAREA"||u.tagName==="INPUT"||u.isContentEditable;if(l.key==="f"&&!c&&!p){l.preventDefault(),ef("keyboard"),Lo("f","fullscreen");let m=document.querySelector(yt.FULLSCREEN_BUTTON);if(m||(m=document.querySelector(yt.FULLSCREEN_BUTTON_ALT)),m)m.click();else{const x=document.querySelector(yt.VIDEO_ELEMENT);x&&(document.fullscreenElement?document.exitFullscreen():x.requestFullscreen().catch(v=>{console.warn("[ImagineGodMode] Fullscreen request failed:",v)}))}}if(l.key===" "&&!c&&!p){l.preventDefault();const m=document.querySelector(yt.PLAY_PAUSE_BUTTON);if(m)m.click();else{const x=document.querySelector(yt.VIDEO_ELEMENT);x&&(x.paused?(x.play().catch(y=>{console.warn("[ImagineGodMode] Video play failed:",y)}),Ts("play","keyboard"),Lo("space","play")):(x.pause(),Ts("pause","keyboard"),Lo("space","pause")))}}if(t?c&&l.key==="Enter"&&!l.shiftKey:c&&l.key==="Enter"&&l.shiftKey){l.preventDefault(),Lo(t?"ctrl+enter":"ctrl+shift+enter","apply_prompt");const x=e();if(x){const v=o(x.text),y=Pn();y?ji(y).then(S=>{eo(v,S,100)}):eo(v,"",100)}}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,t,n,r])},jv=()=>{P.useEffect(()=>{const e=t=>{const n=t.target;if(!(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.isContentEditable)){if(t.key==="ArrowLeft"){t.preventDefault();const r=document.querySelector('button[aria-label="Previous video"]');r&&!r.disabled&&(r.click(),console.log("[ImagineGodMode] Previous video clicked via arrow key"))}if(t.key==="ArrowRight"){t.preventDefault();const r=document.querySelector('button[aria-label="Next video"]');r&&!r.disabled&&(r.click(),console.log("[ImagineGodMode] Next video clicked via arrow key"))}}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[])},bv=()=>{const{getThemeColors:e}=re();P.useEffect(()=>{let t=null,n=null,r=null;function o(){if(r)return r;const p=e();return r=document.createElement("div"),r.id="grok-progress-bar",Object.assign(r.style,{position:"fixed",top:"0",left:"0",height:"7px",width:"0%",background:p.PROGRESS_BAR,opacity:"0.5",zIndex:String(yn.VIDEO_PROGRESS),transition:"width 0.3s ease",pointerEvents:"none"}),document.body.appendChild(r),r}function s(){r&&(r.remove(),r=null)}function l(p){if(p&&!p.dataset.grokGlowApplied){p.dataset.grokGlowApplied="true";const f=e();if(p.style.boxShadow=`0 0 20px ${f.GLOW_PRIMARY}, 0 0 40px ${f.GLOW_SECONDARY}`,p.style.transition="box-shadow 0.3s ease",!document.getElementById("grok-glow-style")){const m=document.createElement("style");m.id="grok-glow-style",m.textContent=`
            @keyframes grok-glow-pulse {
              0%, 100% {
                box-shadow: 0 0 20px ${f.GLOW_PRIMARY}, 0 0 40px ${f.GLOW_SECONDARY};
              }
              50% {
                box-shadow: 0 0 30px ${f.GLOW_HOVER_PRIMARY}, 0 0 60px ${f.GLOW_HOVER_SECONDARY};
              }
            }
            button[data-grok-glow-applied="true"] {
              animation: grok-glow-pulse 2s ease-in-out infinite;
            }
          `,document.head.appendChild(m)}}}function i(){if(!t||!document.body.contains(t)){const p=document.querySelectorAll("button"),f=document.getElementById("imaginegodmode-root");for(const m of p){if(f&&f.contains(m))continue;if((m.textContent||m.innerText||"").match(/\d+%/)){t=m,l(t);break}}}return t}function c(){const p=i();if(p){const m=(p.textContent||p.innerText||"").match(/(\d+)%/);if(m){const x=parseInt(m[1],10);if(x===100)s(),n=null,t=null;else{const v=o();v.style.width=`${x}%`,x!==n&&(n=x,console.log("[ImagineGodMode] Video generation progress:",x+"%"))}}else n!==null&&(s(),n=null,t=null)}else r&&(s(),n=null)}c();const u=setInterval(c,500);return()=>{clearInterval(u),s()}},[e])},Lv=()=>{const{getScale:e}=re(),[t,n]=P.useState(!1),[r,o]=P.useState(""),[s,l]=P.useState({top:0,left:0,arrowLeft:0}),i=P.useRef(null),c=P.useRef(null);if(P.useEffect(()=>{if(!t||!c.current)return;const m=()=>{if(!c.current||!i.current)return;const y=c.current.getBoundingClientRect(),S=i.current.getBoundingClientRect(),g=4,d=6,h=y.top-S.height-g-d;let C=y.left+y.width/2-S.width/2,N=y.left+y.width/2-C-d;const k=10;if(C<k){const E=k-C;C+=E,N-=E}else if(C+S.width>window.innerWidth-k){const E=C+S.width-(window.innerWidth-k);C-=E,N+=E}l({top:h,left:C,arrowLeft:N})},x=setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(m)})},0);return()=>clearTimeout(x)},[t]),P.useEffect(()=>{const m=g=>{const d=g.currentTarget,h=d.getAttribute("data-tooltip-content");h&&(c.current=d,o(h),n(!0))},x=()=>{n(!1),c.current=null,l({top:0,left:0,arrowLeft:0})},v=()=>{const g=document.querySelectorAll("[data-tooltip-content]");return g.forEach(d=>{d.addEventListener("mouseenter",m),d.addEventListener("mouseleave",x)}),()=>{g.forEach(d=>{d.removeEventListener("mouseenter",m),d.removeEventListener("mouseleave",x)})}},y=v(),S=setInterval(v,1e3);return()=>{y(),clearInterval(S)}},[]),!t||!r)return null;const f=.75*e();return ao.createPortal(a.jsx("div",{ref:i,className:"fixed pointer-events-none",style:{top:`${s.top}px`,left:`${s.left}px`,zIndex:yn.MODAL_TOOLTIP,opacity:s.top===0?0:1,transition:"opacity 0.1s ease-in-out"},children:a.jsxs("div",{className:"relative px-3 py-2 max-w-[20rem] rounded-lg shadow-lg",style:{backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",fontSize:`${f}rem`},children:[r,a.jsx("div",{className:"absolute",style:{bottom:"-6px",left:`${s.arrowLeft}px`,width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid rgba(0, 0, 0, 0.9)"}})]})}),document.body)},Uv=()=>{const{loadFromStorage:e}=Be(),{loadThemes:t,hideUnsave:n}=re(),{loadUserId:r}=qr();return P.useEffect(()=>{e(),t(),r(),fh()},[e,t,r]),P.useEffect(()=>{const o="hide-unsave-style";let s=document.getElementById(o);return n?(s||(s=document.createElement("style"),s.id=o,document.head.appendChild(s)),s.textContent='button[aria-label="Unsave"] { display: none !important; }'):s&&s.remove(),()=>{const l=document.getElementById(o);l&&l.remove()}},[n]),Ov(),jv(),bv(),a.jsxs(B0,{children:[a.jsx(Iv,{}),a.jsx(Lv,{})]})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ru):Ru();function Ru(){console.log(`%c ImagineGodMode v${Ms} %c by b2kdaman `,"background: #1a1a1a; color: #ffffff; padding: 4px 8px; border-radius: 3px 0 0 3px; font-weight: bold;","background: #3a3a3a; color: #b0b0b0; padding: 4px 8px; border-radius: 0 3px 3px 0;");const e="imaginegodmode-root";let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t)),Vl.createRoot(t).render(a.jsx(Ue.StrictMode,{children:a.jsx(Uv,{})}))}
